---
### DO NOT EDIT! Generated by script/update-book2.rb
category: book
section: documentation
subsection: book
sidebar: book
book:
  language_code: tr
  chapter:
    title: Git Araçları
    number: 7
  section:
    title: Reset Komutunun Gizemleri
    number: 7
    cs_number: '7.7'
    previous: book/tr/v2/Git-Araçları-Geçmişi-Yeniden-Yazma
    next: book/tr/v2/Git-Araçları-İleri-Seviye-Birleştirme
title: Git - Reset Komutunun Gizemleri
url: "/book/tr/v2/Git-Araçları-Reset-Komutunun-Gizemleri.html"
---
<h2 id="_git_reset">Reset Komutunun Gizemleri</h2>
<div class="paragraph">
<p>Daha özelleşmiş araçlara geçmeden önce, Git’in <code>reset</code> ve <code>checkout</code> komutlarından bahsedelim.
Bu komutlar, ilk kez karşılaştığınızda Git’in en karmaşık kısımlarından ikisidir.
Bu kadar çok şey yaparlar ki, onları gerçekten anlamak ve doğru bir şekilde kullanmak umutsuz görünür.
Bu nedenle, basit bir metafor öneriyoruz.</p>
</div>
<div class="sect3">
<h3 id="_üç_çalışma_ağacı">Üç Çalışma Ağacı</h3>
<div class="paragraph">
<p>Git’in üç farklı çalışma ağacının içeriğini yöneten bir içerik yöneticisi olduğunu hayal etmek, <code>reset</code> ve <code>checkout</code> komutlarını anlamayı kolaylaştırır.
Burada "ağaç" derken gerçekten "dosya dizinini" kastediyoruz, bir veri yapısı olan ağacı (tree) değil.
(Birkaç durumda, dizin tam olarak bir ağaç gibi davranmaz, ancak şu anda amacımız için bu şekilde düşünmek daha kolaydır.)</p>
</div>
<div class="paragraph">
<p>Git sistemi normal işleyişinde üç ağacı yönetir ve onları değiştirir:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Ağaç (Tree)</th>
<th class="tableblock halign-left valign-top">Rol</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uç (HEAD)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Son katkı pozu, ardıl</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dizin (Index)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Önerilen katkı pozu (bir sonraki işlem için)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Çalışma Dizini</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kum havuzu (Sandbox)</p></td>
</tr>
</tbody>
</table>
<div class="sect4">
<h4 id="_uç_head">Uç (HEAD)</h4>
<div class="paragraph">
<p>Uç, mevcut dalda işlenen son katkının referansını gösteren bir işaretçidir.
Bunun anlamı, bu "uç"un işlenen bir sonraki katkının önceli olacağıdır.
Genellikle "uç"u <strong>projenizin o daldaki son katkınızı işlediğiniz andaki anlık görüntüsü (poz)</strong> olarak düşünmek en basit olanıdır.</p>
</div>
<div class="paragraph">
<p>Aslında, bu pozun nasıl olduğunu görmek oldukça kolaydır.
İşte, uç pozundaki her dosyanın gerçek dizin listesi ve SHA-1 kontrol toplamlarını almanın bir örneği:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git cat-file -p HEAD
tree cfda3bf379e4f8dba8717dee55aab78aef7f4daf
author Scott Chacon  1301511835 -0700
committer Scott Chacon  1301511835 -0700

initial commit

$ git ls-tree -r HEAD
100644 blob a906cb2a4a904a152...   README
100644 blob 8f94139338f9404f2...   Rakefile
040000 tree 99f1a6d12cb4b6f19...   lib</code></pre>
</div>
</div>
<div class="paragraph">
<p>Git’in düşük seviyeli işlerde kullanılan <code>cat-file</code> ve <code>ls-tree</code> komutları, günlük işlerde pek kullanılmayan; ancak burada neler olup bittiğini görmemize yardımcı olan, “plumbing” (boru) komutlarıdır.</p>
</div>
</div>
<div class="sect4">
<h4 id="_the_index">İndeks (Dizin)</h4>
<div class="paragraph">
<p>İndeks, <strong>beklenilen sıradaki katkı</strong> işlemidir.
Bu kavramı aynı zamanda Git’in ``İzlem Alanı`` (Staging Area) olarak da adlandırıyoruz, çünkü <code>git commit</code> komutunu çalıştırdığınızda Git’in baktığı yer burasıdır.</p>
</div>
<div class="paragraph">
<p>Git, bu indeksi, çalışma dizininize en son eklenen tüm dosya içeriği listesiyle doldurur ve eklendikleri anda onların aslında neye benzediğine bakar.
Daha sonra, siz bu dosyalardan bazılarını yeniden şekillendirirsiniz ve <code>git commit</code> komutu bunu yeni bir katkı için ağaca dönüştürür.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git ls-files -s
100644 a906cb2a4a904a152e80877d4088654daad0c859 0	README
100644 8f94139338f9404f26296befa88755fc2598c289 0	Rakefile
100644 47c6340d6459e05787f644c2447d2595f5d3a54b 0	lib/simplegit.rb</code></pre>
</div>
</div>
<div class="paragraph">
<p>Burada yine, aslında bize dosya dizinimizin şu anda neye benzediğini gösterecek bir perde-gerisi aracı olan, <code>git ls-files</code> komutunu kullanıyoruz.</p>
</div>
<div class="paragraph">
<p>İndeks teknik olarak bir ağaç yapısı değildir - aslında düzleştirilmiş bir dışavurum olarak uygulanmıştır - ancak amacımız için buna yeterince yakındır.</p>
</div>
</div>
<div class="sect4">
<h4 id="_çalışma_dizini">Çalışma Dizini</h4>
<div class="paragraph">
<p>Son olarak, <em>çalışma dizininiz</em> (ayrıca "çalışma ağacı" olarak da adlandırılır).
Diğer iki ağaç, içeriklerini etkili ancak kullanışsız bir şekilde <code>.git</code> klasörü içinde saklar.
Çalışma dizini, bunları gerçek dosyalara açar, bu da onları düzenlemenizi çok daha kolay hale getirir.
Çalışma dizinini, değişikliklerinizi (izleme alanına alıp ardından katkı olarak proje geçmişinize eklemeden önce) deneyebileceğiniz bir <strong>kum havuzu</strong> (sandbox) olarak düşünün.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ tree
.
├── README
├── Rakefile
└── lib
    └── simplegit.rb

1 directory, 3 files</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h3 id="_i̇ş_akışı">İş Akışı</h3>
<div class="paragraph">
<p>Git’in tipik iş akışı, bu üç ağacı manipüle ederek projenizin ardışık olarak daha gelişmiş durumlarının pozlarını kaydetmektir.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/tr/v2/images/reset-workflow.png" >}}" alt="reset workflow">
</div>
</div>
<div class="paragraph">
<p>Hadi bu süreci görselleştirelim: Diyelim ki tek bir dosyanın bulunduğu yeni bir dizine giriyorsunuz.
Mavi renkte göstereceğimiz bu dosyayı <strong>v1</strong> olarak adlandıralım.
Şimdi <code>git init</code> komutunu çalıştırıyoruz: bu daha doğmamış <code>master</code> dalına işaret eden bir HEAD referansı ile bir Git reposu oluşturacak.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/tr/v2/images/reset-ex1.png" >}}" alt="reset ex1">
</div>
</div>
<div class="paragraph">
<p>Bu noktada, sadece çalışma dizini ağacında içerik bulunmaktadır.</p>
</div>
<div class="paragraph">
<p>Şimdi bu dosyayı katkı olarak işlemek istiyoruz, bu yüzden <code>git add</code> komutunu kullanarak çalışma dizinindeki içeriği alıp indekse (izlem) kopyalarız.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/tr/v2/images/reset-ex2.png" >}}" alt="reset ex2">
</div>
</div>
<div class="paragraph">
<p>Ardından <code>git commit</code> komutunu çalıştırırız: bu komut dizinin içeriğini alır ve onu kalıcı bir poz olarak kaydeder, o poza işaret eden bir katkı nesnesi oluşturur ve <code>master</code> 'ı bu katkıya işaret edecek şekilde günceller.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/tr/v2/images/reset-ex3.png" >}}" alt="reset ex3">
</div>
</div>
<div class="paragraph">
<p><code>git status</code> komutunu çalıştırırsak, henüz değişiklik yapmadığımız için, her üç ağacın da aynı olduğunu göreceğiz.</p>
</div>
<div class="paragraph">
<p>Şimdi dosyayı değiştirip, katkı olarak işlemek istiyoruz.
Aynı süreci geçireceğiz; önce çalışma dizininde dosyayı değiştireceğiz.
Dosyanın bu sürümüne <strong>v2</strong> diyelim ve onu kırmızı renkle gösterelim.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/tr/v2/images/reset-ex4.png" >}}" alt="reset ex4">
</div>
</div>
<div class="paragraph">
<p>Şu anda <code>git status</code> komutunu çalıştırırsak, dosyayı kırmızı renkte ve ``Changes not staged for commit`` açıklamasıyla göreceğiz; çünkü bu giriş indeks ile çalışma dizini arasındaki bir farklılık olarak görünecektir.
Daha sonra bu dosya üzerinde <code>git add</code> komutunu çalıştırarak, onu indekse ekliyoruz.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/tr/v2/images/reset-ex5.png" >}}" alt="reset ex5">
</div>
</div>
<div class="paragraph">
<p>Bu noktada, <code>git status</code> komutunu çalıştırırsak, dosyayı yeşil renkte "Yapılacak katkılar" altında göreceğiz; çünkü indeks ile uç farklıdır - yani önerilen sıradaki katkımız, işlenmiş son katkımızdan farklıdır.
Son olarak, katkılama işlemini tamamlamak için <code>git commit</code> komutunu çalıştırıyoruz.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/tr/v2/images/reset-ex6.png" >}}" alt="reset ex6">
</div>
</div>
<div class="paragraph">
<p>Şimdi <code>git status</code> komutunu çalıştırdığımızda, tekrar tüm ağaçlar aynı olduğu için herhangi bir çıktı almayacağız.</p>
</div>
<div class="paragraph">
<p>Dallar arasında geçiş yapmak veya kopyalamak benzer bir süreçten geçer.
Yeni bir dala geçiş yapmak, <strong>HEAD</strong> işaretçisini yeni dal referansını gösterecek şekilde değiştirir, <strong>indeks</strong> içeriğini o katkının pozuyla doldurur ve son olarak <strong>indeks</strong> içeriğini <strong>çalışma dizinine</strong> kopyalar.</p>
</div>
</div>
<div class="sect3">
<h3 id="_reset_komutunun_rolü">Reset Komutunun Rolü</h3>
<div class="paragraph">
<p><code>reset</code> komutu, bu bağlamda görüldüğünde daha mantıklı hale gelir.</p>
</div>
<div class="paragraph">
<p>Bu örnekleri daha iyi anlamak için, diyelim ki <code>file.txt</code> dosyasını tekrar değiştirdik ve üçüncü kez katkıladık.
Şimdi geçmişimiz şöyle görünüyor:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/tr/v2/images/reset-start.png" >}}" alt="reset start">
</div>
</div>
<div class="paragraph">
<p>Şimdi, <code>reset</code> çağrıldığında tam olarak ne yaptığını adım adım görelim.
Basit ve öngörülebilir bir şekilde üç ağacı doğrudan manipüle eder.
Üç temel işlem yapar.</p>
</div>
<div class="sect4">
<h4 id="_adım_1_headi_taşı">Adım 1: HEAD’i Taşı</h4>
<div class="paragraph">
<p>İlk olarak, <code>reset</code> 'in yapacağı şey, HEAD’in işaret ettiği yeri taşımaktır.
Bu, HEAD’in kendisini değiştirmekle aynı değildir (bunu <code>checkout</code> yapar); <code>reset</code>, HEAD’in işaret ettiği dalı taşır.
Bu, eğer HEAD <code>master</code> dalına ayarlanmışsa (yani şu anda <code>master</code> dalındaysanız), <code>git reset 9e5e6a4</code> komutunu çalıştırdığınızda <code>master</code> 'ı <code>9e5e6a4</code> noktasına getirecek demektir.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/tr/v2/images/reset-soft.png" >}}" alt="reset soft">
</div>
</div>
<div class="paragraph">
<p>Bir katkı ile <code>reset</code> 'in hangi biçimini çağırırsanız çağırın, bu her zaman yapmaya çalışacağı ilk şeydir.
<code>reset --soft</code> komutuyla orada duracaktır.</p>
</div>
<div class="paragraph">
<p>Şimdi o diyagrama bir kez daha göz atın ve neler olduğunun farkına varın: temel olarak son <code>git commit</code> komutunu geri aldı.
<code>git commit</code> komutunu çalıştırdığınızda, Git yeni bir katkı oluşturur ve HEAD’in işaret ettiği dalı oraya taşır.
<code>reset</code> komutunu <code>HEAD~</code> 'e (HEAD’in önceli) geri alırsanız, dalı indeks veya çalışma dizininde herhangi bir değişiklik yapmadan eski konumuna geri taşırsınız.
Şimdi indeksi güncelleyebilir ve <code>git commit</code> komutunu tekrar çalıştırarak <code>git commit --amend</code> komutunun yaptığını başarabilirsiniz (bkz <a href="{{< relurl "book/tr/v2/ch00/_git_amend" >}}">Son Katkıyı Değiştirme</a>).</p>
</div>
</div>
<div class="sect4">
<h4 id="_adım_2_i̇ndeksi_güncelleme_mixed">Adım 2: İndeksi Güncelleme (--mixed)</h4>
<div class="paragraph">
<p>Şimdi <code>git status</code> komutunu çalıştırırsanız, indeks ile yeni HEAD arasındaki farkı yeşil renkte göreceksiniz.</p>
</div>
<div class="paragraph">
<p><code>reset</code> 'in yapacağı bir sonraki şey, indeksi, HEAD’in şu anda işaret ettiği pozun içeriğiyle güncellemektir.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/tr/v2/images/reset-mixed.png" >}}" alt="reset mixed">
</div>
</div>
<div class="paragraph">
<p><code>--mixed</code> seçeneğini belirtirseniz, <code>reset</code> işlemi bu noktada duracaktır.
Bu aynı zamanda varsayılan davranıştır, yani hiçbir seçenek belirtmezseniz (bu durumda yalnızca <code>git reset HEAD~</code>), komut burada duracaktır.</p>
</div>
<div class="paragraph">
<p>Şimdi o diyagrama bir kez daha bir göz atın ve neler olduğunun farkına varın: hala son <code>commit</code> işleminizi geri aldınız, ancak aynı zamanda her şey <em>izlem alanı dışına çıktı</em>.
Yani, tüm <code>git add</code> ve <code>git commit</code> komutlarınızı çalıştırmadan önceki duruma geri döndünüz.</p>
</div>
</div>
<div class="sect4">
<h4 id="_adım_3_çalışma_dizinini_güncelleme_hard">Adım 3: Çalışma Dizinini Güncelleme (--hard)</h4>
<div class="paragraph">
<p><code>reset</code> 'in yapacağı üçüncü şey, çalışma dizinini indeks gibi yapmaktır.
<code>--hard</code> seçeneğini kullanırsanız, bu aşamaya devam eder.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/tr/v2/images/reset-hard.png" >}}" alt="reset hard">
</div>
</div>
<div class="paragraph">
<p>Az önce ne olduğunu bir düşünelim.
Son katkınızı, <code>git add</code> ve <code>git commit</code> komutlarını, <strong>ve</strong> çalışma dizininde yaptığınız tüm çalışmayı geri aldınız.</p>
</div>
<div class="paragraph">
<p><code>--hard</code> bayrağının <code>reset</code> komutunu tehlikeli hale getiren tek yol olduğunu ve Git’in bir veriyi gerçekten yok edeceği çok az durumdan biri olduğunu bilmeniz çok önemlidir.
<code>reset</code> 'in diğer herhangi bir kullanımı oldukça kolay bir şekilde geri alınabilirken, <code>--hard</code> seçeneği bunu yapamaz; çünkü çalışma dizinindeki dosyaların üzerine zorla yeniden yazar.
Bu özel durumda, Git veritabanımızda dosyanın <strong>v3</strong> sürümüne bir katkı olarak hala sahibiz ve <code>reflog</code> 'umuza bakarak onu geri alabiliriz; ancak onu katkılamadan bıraksaydık, Git o dosyanın üzerine yeniden yazacaktı ve onu geri alınamaz hale getirecekti.</p>
</div>
</div>
<div class="sect4">
<h4 id="_özet_8">Özet</h4>
<div class="paragraph">
<p><code>reset</code> komutu, belirli bir sırayla bu üç ağacın üzerine yazar ve siz ona durmasını söylediğinizde durur:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>HEAD’in işaret ettiği dalı taşı <em>(eğer <code>--soft</code> kullanılmışsa burada dur)</em></p>
</li>
<li>
<p>İndeksi HEAD’in aynısı yap <em>(eğer <code>--hard</code> kullanılmamışsa burada dur)</em></p>
</li>
<li>
<p>Çalışma dizinini indeks gibi yap</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect3">
<h3 id="_dosya_dizini_ile_sıfırlama">Dosya Dizini ile Sıfırlama</h3>
<div class="paragraph">
<p>Bu, <code>reset</code> 'in temel formundaki davranışını kapsar, ancak isterseniz bir dizin de belirtebilirsiniz.
Bir dizin belirtirseniz, <code>reset</code> adım 1’i atlar ve geri kalan işlemleri belirli bir dosya veya dosya kümesiyle sınırlar.
Bu aslında bir bakıma mantıklıdır - HEAD sadece bir işaretçidir ve onu aynı anda bir katkının bir kısmına ve başka bir katkının başka bir kısmına doğrultamazsınız.
Ancak indeks ve çalışma dizini kısmen güncellenebilir, bu nedenle reset  yoluna 2. ve 3. adımlarla devam eder.</p>
</div>
<div class="paragraph">
<p>Öyleyse, <code>git reset file.txt</code> komutunu çalıştıralım.
Bu form (bir katkı SHA-1 karması, bir dal ya da <code>--soft</code> veya <code>--hard</code> gibi bir bayrak belirtmediğiniz için) <code>git reset --mixed HEAD file.txt</code> söz diziminin kısaltmasıdır ve şunları yapar:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>HEAD’in işaret ettiği dalı taşır <em>(atlanır)</em></p>
</li>
<li>
<p>İndeksi HEAD’e benzet <em>(burada dur)</em></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Yani temelde <code>file.txt</code> dosyasını HEAD’ten indekse kopyalar.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/tr/v2/images/reset-path1.png" >}}" alt="reset path1">
</div>
</div>
<div class="paragraph">
<p>Bu, pratikte dosyanın <em>izlemden çıkarılması</em> etkisine sahiptir.
Bu komutun diyagramına bakarsak ve <code>git add</code> komutunun ne yaptığını düşünürsek, tam olarak zıt olduklarını görürüz.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/tr/v2/images/reset-path2.png" >}}" alt="reset path2">
</div>
</div>
<div class="paragraph">
<p>Bu nedenle, <code>git status</code> komutunun çıktısı, bir dosyayı izlemden çıkarmak için bunu çalıştırmanızı önerir.
(Daha fazla bilgi için: <a href="{{< relurl "book/tr/v2/ch00/_unstaging" >}}">İzleme Alınmış Dosyayı izlemden Çıkarmak</a>)</p>
</div>
<div class="paragraph">
<p>Git’in "veriyi HEAD’den çek" dediğimizi varsaymasını önlemek için belirli bir katkıyı belirtebiliriz.
Yoksa, sadece <code>git reset eb43bf file.txt</code> gibi bir şey çalıştırmak yeterdi.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/tr/v2/images/reset-path3.png" >}}" alt="reset path3">
</div>
</div>
<div class="paragraph">
<p>Bununla, etkili bir şekilde (aslında tüm bu adımları geçmeden) dosyanın içeriğini çalışma dizinindeki <strong>v1</strong>'e geri döndürdük, üzerine <code>git add</code> çalıştırdık, ardından tekrar <strong>v3</strong>'e geri döndürdük.
Şimdi <code>git commit</code> komutunu çalıştırırsak, aslında çalışma dizinimizde hiç sahip olmadığımız halde, dosyayı tekrar <strong>v1</strong>'e geri döndüren bir değişikliği kaydedecektir.</p>
</div>
<div class="paragraph">
<p>Ayrıca, aynı <code>git add</code> gibi, <code>reset</code> komutu da içeriği izlemden parça parça çıkarmak için <code>--patch</code> seçeneğini kabul eder.
Bu şekilde içeriği seçici olarak izlemden çıkarabilir veya geri alabilirsiniz.</p>
</div>
</div>
<div class="sect3">
<h3 id="_sıkıştırma_squashing">Sıkıştırma (squashing)</h3>
<div class="paragraph">
<p>Bu yeni keşfedilen güçle ilginç bir şeyin nasıl yapılacağına bakalım: katkıları sıkıştırmak.</p>
</div>
<div class="paragraph">
<p>Diyelim ki ``oops.``, ``WIP`` ve ``bu dosyayı unuttum`` gibi mesajlar içeren bir dizi katkınız var.
Bunları hızlı ve kolay bir şekilde tek bir işleme dönüştürmek ve gerçekten zeki görünmenizi sağlamak için <code>reset</code> komutunu kullanabilirsiniz.
Sıkıştırma (<a href="{{< relurl "book/tr/v2/ch00/_squashing" >}}">Katkıları Sıkıştırmak</a>) bunu yapmanın başka bir yoludur, ancak bu örnekte <code>reset</code> 'i kullanmak daha basittir.</p>
</div>
<div class="paragraph">
<p>Diyelim ki, ilk katkının bir dosyaya sahip olduğu, ikinci katkının yeni bir dosya ekleyip ilkini değiştirdiği ve üçüncü katkının ilk dosyayı yeniden değiştirdiği bir projeniz var.
İkinci katkı devam eden bir çalışmaydı ve siz onu ortadan kaldırmak istiyorsunuz.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/tr/v2/images/reset-squash-r1.png" >}}" alt="reset squash r1">
</div>
</div>
<div class="paragraph">
<p>HEAD dalını daha eski bir katkıya (saklamak istediğiniz en son katkıya) geri taşımak için <code>git reset --soft HEAD~2</code> komutunu çalıştırabilirsiniz:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/tr/v2/images/reset-squash-r2.png" >}}" alt="reset squash r2">
</div>
</div>
<div class="paragraph">
<p>Ve sonra tekrar "git commit" komutunu çalıştırın:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/tr/v2/images/reset-squash-r3.png" >}}" alt="reset squash r3">
</div>
</div>
<div class="paragraph">
<p>Artık itme yapabileceğiniz geçmişinizin, birinci katkının <code>file-a.txt</code> dosyasının v1 sürümüne sahip olduğunu ve ikinci bir katkının hem <code>file-a.txt</code> 'yi v3 sürümüne değiştirdiğini hem de <code>file-b.txt</code> 'yi eklediğini görebilirsiniz.
Dosyanın v2 sürümüyle yapılan kayıt ise artık geçmişte yer almaz.</p>
</div>
</div>
<div class="sect3">
<h3 id="_check_it_out">Check It Out</h3>
<div class="paragraph">
<p>Son olarak, <code>checkout</code> ve <code>reset</code> arasındaki farkı merak ediyor olabilirsiniz.
<code>Reset</code> gibi, <code>checkout</code> da üç ağacı manipüle eder ama komuta bir dosya dizini belirtip belirtmemenize bağlı olarak biraz farklılık gösterir.</p>
</div>
<div class="sect4">
<h4 id="_dizinsiz">Dizinsiz</h4>
<div class="paragraph">
<p><code>git checkout [dal]</code> komutunu çalıştırmak, üç ağacı da <code>[dal]</code> gibi görünmesi için güncellemek açısından <code>git reset --hard [dal]</code> komutunu çalıştırmakla benzerdir, ancak arada iki önemli fark vardır.</p>
</div>
<div class="paragraph">
<p>İlk olarak, <code>reset --hard</code> 'ın aksine, <code>checkout</code> çalışma dizini güvenlidir; değiştirilmiş dosyaları silinmekten korumak için bir kontrol yapılır.
Aslında, biraz daha akıllıca davranır — çalışma dizininde basit bir birleştirme yapmaya çalışır, bu nedenle <em>değiştirmemiş</em> olduğunuz tüm dosyalar güncellenecektir.
Buna karşın, <code>reset --hard</code>, sorgulamadan her şeyi değiştirir.</p>
</div>
<div class="paragraph">
<p>İkinci önemli fark, <code>checkout</code> 'un HEAD’i nasıl güncellediğidir.
<code>Reset</code> komutu, HEAD’in işaret ettiği dalı taşırken, <code>checkout</code> komutu, HEAD’in kendisini başka bir dala işaret etmek üzere taşır.</p>
</div>
<div class="paragraph">
<p>Örneğin, farklı katkılara işaret eden <code>master</code> ve <code>develop</code> dallarımız olduğunu ve şu anda <code>develop</code> dalında olduğumuzu varsayalım (yani HEAD buna işaret eder).
Eğer <code>git reset master</code> komutunu çalıştırırsak, <code>develop</code> dalı artık <code>master</code> 'ın işaret ettiği aynı katkıya işaret eder.
Eğer bunun yerine <code>git checkout master</code> komutunu çalıştırırsak, <code>develop</code> dalı yer değiştirmez, HEAD kendisi hareket eder.
HEAD artık <code>master</code> 'ı işaret etmektedir.</p>
</div>
<div class="paragraph">
<p>Yani, her iki durumda da HEAD’i A katkısına taşıyoruz, ancak bunu yapma şeklimiz çok farklıdır.
<code>Reset</code> komutu, HEAD’in işaret ettiği dali taşırken, <code>checkout</code> komutu HEAD’i taşır.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/tr/v2/images/reset-checkout.png" >}}" alt="reset checkout">
</div>
</div>
</div>
<div class="sect4">
<h4 id="_dizinli">Dizinli</h4>
<div class="paragraph">
<p><code>checkout</code> komutunu çalıştırmanın diğer bir yolu, dosya yolunu belirtmek şeklinde olup, bu da <code>reset</code> gibi, HEAD’i taşımaz.
Bu, belirli bir dosyayı belirli bir katkıda dizine güncelleyen, ancak aynı zamanda çalışma dizinindeki dosyayı da üzerine yazan <code>git reset [dal] dosya</code> komutu gibi davranır.
Eğer <code>reset</code> komutu buna izin verseydi, tam olarak <code>git reset --hard [dal] dosya</code> komutuna benzer olurdu — çalışma dizini güvende olmaz ve HEAD’i taşımaz.</p>
</div>
<div class="paragraph">
<p>Ayrıca, <code>git reset</code> ve <code>git add</code> gibi, <code>checkout</code> da dosya içeriğini parça parça geri almanıza izin vermek için <code>--patch</code> seçeneğini kabul eder.</p>
</div>
</div>
</div>
<div class="sect3">
<h3 id="_özet_9">Özet</h3>
<div class="paragraph">
<p>Artık <code>reset</code> komutunu genel olarak anladınız ve daha rahat hissediyorsunuzdur. Ancak yine de tam olarak <code>checkout</code> komutundan nasıl farklı olduğu konusunda kafanızda biraz karışıklık kalmış olabilir. Zaten farklı kullanımların tüm kurallarını ezbere bilmek de imkansızdır.</p>
</div>
<div class="paragraph">
<p>İşte hangi komutların hangi ağaçları etkilediğine dair bir hatırlatma notu.
<code>HEAD</code> sütunu, komutun HEAD’in işaret ettiği referansı (dalı) taşıyıp taşımadığını belirtir; ve eğer HEAD’i taşıyorsa <code>HEAD</code>, aksi takdirde <code>REF</code> okunur.
"Çalışma Ağacı Güvende mi?" sütununa özellikle dikkat edin — eğer <strong>Hayır</strong> yazıyorsa, bu komutu çalıştırmadan önce bir kez daha düşünün.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 42.8571%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2858%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">HEAD</th>
<th class="tableblock halign-left valign-top">Index</th>
<th class="tableblock halign-left valign-top">Workdir</th>
<th class="tableblock halign-left valign-top">WD Safe?</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Katkı Seviyesi</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>reset --soft [commit]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">REF</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>reset [commit]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">REF</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>reset --hard [commit]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">REF</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>NO</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>checkout &lt;commit&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HEAD</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>File Level</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>reset [commit] &lt;paths&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>checkout [commit] &lt;paths&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">YES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>NO</strong></p></td>
</tr>
</tbody>
</table>
</div>
<div id="nav"><a href="{{< previous-section >}}">prev</a> | <a href="{{< next-section >}}">next</a></div>