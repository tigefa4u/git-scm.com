---
### DO NOT EDIT! Generated by script/update-book2.rb
category: book
section: documentation
subsection: book
sidebar: book
book:
  language_code: tr
  chapter:
    title: Dahili Git Ögeleri
    number: 10
  section:
    title: Transfer Protokolleri
    number: 6
    cs_number: '10.6'
    previous: book/tr/v2/Dahili-Git-Ögeleri-Refspec
    next: book/tr/v2/Dahili-Git-Ögeleri-Bakım-ve-Veri-Kurtarma
title: Git - Transfer Protokolleri
url: "/book/tr/v2/Dahili-Git-Ögeleri-Transfer-Protokolleri.html"
---
<h2 id="_transfer_protokolleri">Transfer Protokolleri</h2>
<div class="paragraph">
<p>Git, iki repo arasında veri transferini iki ana şekilde yapabilir: "aptal" protokol ve "akıllı" protokol.
Bu bölüm, bu iki ana protokolün nasıl çalıştığını kısaca ele alacaktır.</p>
</div>
<div class="sect3">
<h3 id="_aptal_protokol">Aptal Protokol</h3>
<div class="paragraph">
<p>Eğer bir reposunu HTTP üzerinden salt okunur olarak sunmak üzere kuruyorsanız, muhtemelen aptal protokol kullanılacaktır.
Bu protokol taşıma sürecinde sunucu tarafında Git’e özgü herhangi bir kod gerektirmediği için "aptal" olarak adlandırılır; çekme işlemi, istemcinin sunucudaki Git reposunun düzenini üstlenebildiği bir dizi HTTP GET isteğidir.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Not</div>
</td>
<td class="content">
<div class="paragraph">
<p>Aptal protokol bu günlerde oldukça nadiren kullanılmaktadır.
Güvenliği sağlamak veya özel hale getirmek zor olduğu için çoğu Git ana bilgisayarı (hem bulut tabanlı hem de şirket içi) onu kullanmayı reddedecektir.
Genel olarak, biraz ileride açıklayacağımız üzere, akıllı protokolün kullanılması tavsiye edilir.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Simplegit kütüphanesi için <code>http-fetch</code> sürecini takip edelim:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git clone http://server/simplegit-progit.git</code></pre>
</div>
</div>
<div class="paragraph">
<p>Bu komutun yaptığı ilk şey <code>info/refs</code> dosyasını aşağı çekmektir.
Bu dosya <code>update-server-info</code> komutu tarafından yazılmıştır, bu nedenle HTTP aktarımının düzgün çalışması için bunu bir <code>post-receive</code> (çekme sonrası) kancası olarak etkinleştirmeniz gerekir:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>=&gt; GET info/refs
ca82a6dff817ec66f44342007202690a93763949     refs/heads/master</code></pre>
</div>
</div>
<div class="paragraph">
<p>Artık uzak referansların ve SHA-1’lerin bir listesine sahipsiniz.
Sonra, HEAD referansının ne olduğuna bakarsınız, böylece işiniz bittiğinde neyi kontrol etmeniz gerektiğini bilirsiniz:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>=&gt; GET HEAD
ref: refs/heads/master</code></pre>
</div>
</div>
<div class="paragraph">
<p>İşlemi tamamladığınızda <code>master</code> şubesine göz atmanız gerekiyor.
Bu noktada yürüme sürecine başlamaya hazırsınız.
Başlangıç ​​noktanız, <code>info/refs</code> dosyasında gördüğünüz <code>ca82a6</code> katkı nesnesi olduğundan, şunu çekerek başlarsınız:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>=&gt; GET objects/ca/82a6dff817ec66f44342007202690a93763949
(179 bytes of binary data)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Bir nesneyi geri alırsınız; bu nesne sunucuda gevşek biçimdedir ve onu statik bir HTTP GET isteği üzerinden getirdiniz.
Sıkıştırılmış zlib’i açabilir, başlığı (header) çıkarabilir ve katkı içeriğine bakabilirsiniz:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git cat-file -p ca82a6dff817ec66f44342007202690a93763949
tree cfda3bf379e4f8dba8717dee55aab78aef7f4daf
parent 085bb3bcb608e1e8451d4b2432f8ecbe6306e7e7
author Scott Chacon &lt;schacon@gmail.com&gt; 1205815931 -0700
committer Scott Chacon &lt;schacon@gmail.com&gt; 1240030591 -0700

changed the version number</code></pre>
</div>
</div>
<div class="paragraph">
<p>Daha sonra, almanız gereken iki nesne daha var: az önce aldığımız katkının işaret ettiği içerik ağacı olan <code>cfda3b</code> ve öncel katkısı olan <code>085bb3</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>=&gt; GET objects/08/5bb3bcb608e1e8451d4b2432f8ecbe6306e7e7
(179 bytes of data)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Bu size bir sonraki katkı nesnenizi verir.
Ağaç nesnesini alın:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>=&gt; GET objects/cf/da3bf379e4f8dba8717dee55aab78aef7f4daf
(404 - Not Found)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Hata! Görünüşe göre ağaç nesnesi sunucuda gevşek formatta olmadığı için 404 yanıtı alıyorsunuz.
Bunun birkaç nedeni olabilir: nesne, alternatif bir repoda veya bu repodaki bir paket dosyasında olabilir.
Git önce listelenen alternatifleri kontrol eder:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>=&gt; GET objects/info/http-alternates
(empty file)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Bu, alternatif URL’lerin bir listesiyle birlikte gelirse, Git oradaki gevşek dosyaları ve paket dosyalarını kontrol eder; bu diskteki nesneleri paylaşmak için birbirinden çatalı olan projeler için güzel bir mekanizmadır.
Ancak burada hiçbir alternatif listelenmediğinden nesnenizin bir paket dosyasında olması gerekir.
Bu sunucuda hangi paket dosyalarının mevcut olduğunu görmek için, bunların bir listesini içeren (ayrıca <code>update-server-info</code> tarafından oluşturulan) <code>objects/info/packs</code> dosyasını almanız gerekir:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>=&gt; GET objects/info/packs
P pack-816a9b2334da9953e530f27bcac22082a9f5b835.pack</code></pre>
</div>
</div>
<div class="paragraph">
<p>Sunucuda yalnızca bir paket dosyası olduğu için nesneniz açıkça oradadır, ancak emin olmak için dizin dosyasını kontrol edeceksiniz.
Bu aynı zamanda sunucuda birden fazla paket dosyanız varsa kullanışlıdır, böylece ihtiyacınız olan nesneyi hangi paket dosyasının içerdiğini görebilirsiniz:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>=&gt; GET objects/pack/pack-816a9b2334da9953e530f27bcac22082a9f5b835.idx
(4k of binary data)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Artık paket dosyası dizinine sahip olduğunuza göre, nesnenizin burada olup olmadığını görebilirsiniz; çünkü dizin, paket dosyasında bulunan nesnelerin SHA-1’lerini ve bu nesnelerin uzaklıklarını listeler.
Nesneniz orada, o yüzden devam edin ve paket dosyasının tamamını alın:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>=&gt; GET objects/pack/pack-816a9b2334da9953e530f27bcac22082a9f5b835.pack
(13k of binary data)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ağaç nesneniz var, böylece katkılarınızı yürütmeye devam edersiniz.
Bunların hepsi aynı zamanda yeni indirdiğiniz paket dosyasının içindedir, dolayısıyla sunucunuza başka istekte bulunmanıza gerek yoktur.
Git başlangıçta indirdiğiniz HEAD referansının işaret ettiği <code>master</code> dalının çalışan bir kopyasını kontrol eder.</p>
</div>
</div>
<div class="sect3">
<h3 id="_akıllı_protokol">Akıllı Protokol</h3>
<div class="paragraph">
<p>Aptal protokol basit ama biraz verimsizdir ve istemciden sunucuya veri yazılmasını sağlayamaz.
Akıllı protokol, veri aktarmanın daha yaygın bir yöntemidir ancak uzak uçta Git konusunda akıllı olan bir işlem gerektirir; yerel verileri okuyabilir, istemcinin neye sahip olduğunu ve neye ihtiyaç duyduğunu anlayabilir ve bunun için özel bir paket dosyası oluşturabilir.
Veri aktarımı için iki süreç kümesi vardır: veri yüklemek için bir çift ve veri indirmek için bir çift.</p>
</div>
<div class="sect4">
<h4 id="_veri_yüklemek">Veri Yüklemek</h4>
<div class="paragraph">
<p>
Git uzak bir sürece veri yüklemek için <code>send-pack</code> ve <code>receive-pack</code> süreçlerini kullanır.
<code>send-pack</code> süreci istemcide çalışır ve uzak tarafta bir <code>receive-pack</code> sürecine bağlanır.</p>
</div>
<div class="sect5">
<h6 id="_ssh">SSH</h6>
<div class="paragraph">
<p>Örneğin, bir projede <code>git push origin master</code> komutunu çalıştırdığınızı ve <code>origin</code> 'in SSH protokolünü kullanan bir URL olarak tanımlandığını varsayalım.
Git, sunucunuza bir SSH bağlantısı üzerinden başlatılan <code>send-pack</code> sürecini çalıştırır.
Uzak sunucuda bir komut çalıştırmaya çalışır ve bunun için bir SSH çağrısı yapar.
Örnek olarak şöyle bir şey olabilir:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ ssh -x git@server "git-receive-pack 'simplegit-progit.git'"
00a5ca82a6dff817ec66f4437202690a93763949 refs/heads/master□report-status \
	delete-refs side-band-64k quiet ofs-delta \
	agent=git/2:2.1.1+github-607-gfba4028 delete-refs
0000</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>git-receive-pack</code> komutu şu anda sahip olduğu her referans için bir satır ile hemen yanıt verir (burada sadece <code>master</code> dalı ve onun SHA-1’ı).
İlk satır aynı zamanda sunucunun yeteneklerinin bir listesini de içerir (burada <code>report-status</code>, <code>delete-refs</code> ve istemci tanımlayıcısı da dahil, başkaları ).</p>
</div>
<div class="paragraph">
<p>Her satır geri kalan kısmın ne kadar uzun olduğunu belirten 4 karakterlik bir onaltılık değerle başlar.
İlk satır 00a5 ile başlar, bu da geri kalan kısmın 165 bayt olduğunu belirtir.
Bir sonraki satır 0000’dir, bu da sunucunun referans listelemesinin bittiğini belirtir.</p>
</div>
<div class="paragraph">
<p>Artık sunucunun durumunu bildiğine göre, <code>send-pack</code> süreci sunucunun sahip olmadığı hangi katkıların olduğunu belirler.
 <code>send-pack</code> süreci bu bilgiyi, bu itişin güncelleyeceği her referans için <code>receive-pack</code> sürecine bildirir.
Örneğin, <code>master</code> dalını güncelliyor ve <code>experiment</code> dalı ekliyorsanız, <code>send-pack</code> 'in yanıtı şöyle görünebilir:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>0076ca82a6dff817ec66f44342007202690a93763949 15027957951b64cf874c3557a0f3547bd83b3ff6 \
	refs/heads/master report-status
006c0000000000000000000000000000000000000000 cdfdb42577e2506715f8cfeacdbabc092bf63e8d \
	refs/heads/experiment
0000</code></pre>
</div>
</div>
<div class="paragraph">
<p>Git, güncellediğiniz her referans için satırın uzunluğunu, eski SHA-1’i, yeni SHA-1’i ve güncellenmekte olan referansı içeren bir satır gönderir.
İlk satır aynı zamanda istemcinin yeteneklerine de sahiptir.
Tüm sıfırların SHA-1 değeri, daha önce hiçbir şeyin olmadığı anlamına gelir; çünkü deneme referansı ekliyorsunuz.
Bir referansı siliyorsanız tam tersini görürsünüz: tüm sıfırlar sağ tarafta.</p>
</div>
<div class="paragraph">
<p>Daha sonra istemci, sunucunun henüz sahip olmadığı tüm nesnelerin bir paket dosyasını gönderir.
Son olarak sunucu bir başarı (veya başarısızlık) göstergesiyle yanıt verir:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>000eunpack ok</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_https">HTTP(S)</h6>
<div class="paragraph">
<p>Bu işlem çoğunlukla HTTP üzerinden aynıdır, ancak el sıkışma biraz farklıdır.
Bağlantı şu istekle başlatılır:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>=&gt; GET http://server/simplegit-progit.git/info/refs?service=git-receive-pack
001f# service=git-receive-pack
00ab6c5f0e45abd7832bf23074a333f739977c9e8188 refs/heads/master□report-status \
	delete-refs side-band-64k quiet ofs-delta \
	agent=git/2:2.1.1~vmg-bitmaps-bugaloo-608-g116744e
0000</code></pre>
</div>
</div>
<div class="paragraph">
<p>Bu, ilk istemci-sunucu değişiminin sonudur.
İstemci daha sonra <code>send-pack</code> 'in sağladığı verilerle bu sefer bir <code>POST</code> olan başka bir istekte bulunur.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>=&gt; POST http://server/simplegit-progit.git/git-receive-pack</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>POST</code> isteği, yük olarak <code>send-pack</code> çıktısını ve paket dosyasını içerir.
Sunucu daha sonra başarılı veya başarısız olduğunu HTTP yanıtı ile belirtir.</p>
</div>
</div>
</div>
<div class="sect4">
<h4 id="_veri_i̇ndirme">Veri İndirme</h4>
<div class="paragraph">
<p>
Veri indirdiğinizde, <code>fetch-pack</code> ve <code>upload-pack</code> süreçleri devreye girer.
İstemci, indirilecek verileri belirlemek için uzak tarafta <code>upload-pack</code> sürecine bağlanan bir <code>fetch-pack</code> süreci başlatır.</p>
</div>
<div class="sect5">
<h6 id="_ssh_2">SSH</h6>
<div class="paragraph">
<p>Eğer SSH üzerinden indirme yapıyorsanız, <code>fetch-pack</code> şu şekilde çalışır:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ ssh -x git@server "git-upload-pack 'simplegit-progit.git'"</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>fetch-pack</code> bağlandıktan sonra, <code>upload-pack</code> şuna benzer bir şey gönderir:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>00dfca82a6dff817ec66f44342007202690a93763949 HEAD□multi_ack thin-pack \
	side-band side-band-64k ofs-delta shallow no-progress include-tag \
	multi_ack_detailed symref=HEAD:refs/heads/master \
	agent=git/2:2.1.1+github-607-gfba4028
003fe2409a098dc3e53539a9028a94b6224db9d6a6b6 refs/heads/master
0000</code></pre>
</div>
</div>
<div class="paragraph">
<p>Bu <code>receive-pack</code>'in yanıtına çok benzer, ancak yetenekler farklıdır.
Ayrıca bu bir kopya ise, HEAD’e ne işaret ettiğini (<code>symref=HEAD:refs/heads/master</code>) geri gönderir, böylece istemci neyi klonlayacağını bilir.</p>
</div>
<div class="paragraph">
<p>Bu noktada <code>fetch-pack</code> süreci sahip olduğu nesnelere bakar ve ihtiyaç duyduğu nesneleri <code>want</code> ve ardından istediği SHA-1 ile göndererek yanıt verir.
Zaten sahip olduğu tüm nesneleri <code>have</code> ve ardından SHA-1 ile gönderir.
Bu liste sonuna, ihtiyaç duyduğu veri paket dosyasını göndermeye başlamak için <code>upload-pack</code> sürecini başlatmak için <code>done</code> yazılır:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>003cwant ca82a6dff817ec66f44342007202690a93763949 ofs-delta
0032have 085bb3bcb608e1e8451d4b2432f8ecbe6306e7e7
0009done
0000</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_https_2">HTTP(S)</h6>
<div class="paragraph">
<p>İndirme işlemi için anlaşma (handshake) iki HTTP isteği alır.
İlk olarak, aptal protokolde kullanılan aynı uç noktaya bir <code>GET</code> isteği gönderilir:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>=&gt; GET $GIT_URL/info/refs?service=git-upload-pack
001e# service=git-upload-pack
00e7ca82a6dff817ec66f44342007202690a93763949 HEAD□multi_ack thin-pack \
	side-band side-band-64k ofs-delta shallow no-progress include-tag \
	multi_ack_detailed no-done symref=HEAD:refs/heads/master \
	agent=git/2:2.1.1+github-607-gfba4028
003fca82a6dff817ec66f44342007202690a93763949 refs/heads/master
0000</code></pre>
</div>
</div>
<div class="paragraph">
<p>Bu işlem bir SSH bağlantısı üzerinden <code>git-upload-pack</code> 'i çağırmaya çok benzer, ancak ikinci değişim ayrı bir istek olarak gerçekleştirilir:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>=&gt; POST $GIT_URL/git-upload-pack HTTP/1.0
0032want 0a53e9ddeaddad63ad106860237bbf53411d11a7
0032have 441b40d833fdfa93eb2908e52742248faf0ee993
0000</code></pre>
</div>
</div>
<div class="paragraph">
<p>Yine yukarıdakiyle aynı formattadır.
Bu isteğe yanıt, başarı veya başarısızlığı gösterir ve paket dosyasını içerir.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h3 id="_özet_olarak_protokoller">Özet Olarak Protokoller</h3>
<div class="paragraph">
<p>Bu bölüm aktarım protokollerine çok temel bir genel bakış içerir.
Protokol <code>multi_ack</code> veya <code>side-band</code> yetenekleri gibi birçok başka özellik içerir, ancak bunlar bu kitabın kapsamı dışındadır.
Size istemci ile sunucu arasındaki genel gidiş-geliş hakkında bir fikir vermeye çalıştık; bundan daha fazla bilgiye ihtiyacınız varsa muhtemelen Git kaynak koduna bakmak isteyeceksiniz.</p>
</div>
</div>
<div id="nav"><a href="{{< previous-section >}}">prev</a> | <a href="{{< next-section >}}">next</a></div>