---
### DO NOT EDIT! Generated by script/update-book2.rb
category: book
section: documentation
subsection: book
sidebar: book
book:
  language_code: tr
  chapter:
    title: Bir Sunucuda Git Kurma
    number: 4
  section:
    title: Sunucu Kurma
    number: 4
    cs_number: '4.4'
    previous: book/tr/v2/Bir-Sunucuda-Git-Kurma-SSH-Ortak-Anahtarınızı-Oluşturma
    next: book/tr/v2/Bir-Sunucuda-Git-Kurma-Git-Cini-Daemon
title: Git - Sunucu Kurma
---
<h2 id="_setting_up_server">Sunucu Kurma</h2>
<div class="paragraph">
<p>Sunucu tarafında SSH erişimini kurma işlemine geçelim.
Bu örnekte, kullanıcılarınızı kimlik doğrulamak için <code>authorized_keys</code> (yetkili anahtar) yöntemini kullanacaksınız.
Ayrıca, Ubuntu gibi standart bir Linux dağıtımını kullandığınızı varsayıyoruz.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Not</div>
</td>
<td class="content">
<div class="paragraph">
<p>Burada açıklanan birçok işlem, ortak anahtarları manuel olarak kopyalamak ve yüklemek yerine <code>ssh-copy-id</code> komutunu kullanarak otomatikleştirilebilir.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>İlk olarak, bir <code>git</code> kullanıcı hesabı oluşturmalısınız ve bu kullanıcı için bir <code>.ssh</code> dizini oluşturmalısınız.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ sudo adduser git
$ su git
$ cd
$ mkdir .ssh &amp;&amp; chmod 700 .ssh
$ touch .ssh/authorized_keys &amp;&amp; chmod 600 .ssh/authorized_keys</code></pre>
</div>
</div>
<div class="paragraph">
<p>Sonraki adım, güvenilir bazı geliştirici SSH ortak anahtarlarını <code>git</code> kullanıcısı için <code>authorized_keys</code> dosyasına eklemektir.
Varsayalım ki güvenilir ortak anahtarlarınız var ve bunları geçici dosyalara kaydettiniz.
Tekrar belirtmek gerekirse, ortak anahtarlar şu şekilde görünür:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cat /tmp/id_rsa.john.pub
ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCB007n/ww+ouN4gSLKssMxXnBOvf9LGt4L
ojG6rs6hPB09j9R/T17/x4lhJA0F3FR1rP6kYBRsWj2aThGw6HXLm9/5zytK6Ztg3RPKK+4k
Yjh6541NYsnEAZuXz0jTTyAUfrtU3Z5E003C4oxOj6H0rfIF1kKI9MAQLMdpGW1GYEIgS9Ez
Sdfd8AcCIicTDWbqLAcU4UpkaX8KyGlLwsNuuGztobF8m72ALC/nLF6JLtPofwFBlgc+myiv
O7TCUSBdLQlgMVOFq1I2uPWQOkOWQAHukEOmfjy2jctxSDBQ220ymjaNsHT4kgtZg2AYYgPq
dAv8JggJICUvax2T9va5 gsg-keypair</code></pre>
</div>
</div>
<div class="paragraph">
<p>Onları sadece <code>git</code> kullanıcısının <code>.ssh</code> dizinindeki <code>authorized_keys</code> dosyasına eklersiniz:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cat /tmp/id_rsa.john.pub &gt;&gt; ~/.ssh/authorized_keys
$ cat /tmp/id_rsa.josie.pub &gt;&gt; ~/.ssh/authorized_keys
$ cat /tmp/id_rsa.jessica.pub &gt;&gt; ~/.ssh/authorized_keys</code></pre>
</div>
</div>
<div class="paragraph">
<p>Şimdi, onlar için boş bir repo kurabilirsiniz.
Bunun için <code>--bare</code> seçeneği ile <code>git init</code> komutunu çalıştırın, böylece bir çalışma dizini olmadan repo başlatılır:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cd /srv/git
$ mkdir project.git
$ cd project.git
$ git init --bare
Initialized empty Git repository in /srv/git/project.git/</code></pre>
</div>
</div>
<div class="paragraph">
<p>Sonra, John, Josie veya Jessica, ona bir uzak repo olarak bağlanıp, bir dalı yukarı iterek, projelerinin ilk sürümünü bu repoya ekleyebilir.
Unutmayın ki bir proje eklemek istediğinizde birisi makinaya giriş yapmalı ve bir yalın repo oluşturmalıdır.
<code>git</code> kullanıcınızı ve repoyu kurduğunuz sunucunun ana bilgisayar adını <code>gitserver</code> olarak kullanalım.
Eğer bunu içsel (internal) olarak çalıştırıyorsanız ve <code>gitserver</code> için DNS kurulumu yaptıysanız, o zaman komutları neredeyse olduğu gibi kullanabilirsiniz (`myproject`i dosyalar içeren mevcut bir proje olarak varsayalım):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console"># on John's computer
$ cd myproject
$ git init
$ git add .
$ git commit -m 'initial commit'
$ git remote add origin git@gitserver:/srv/git/project.git
$ git push origin master</code></pre>
</div>
</div>
<div class="paragraph">
<p>Artık, diğerleri bunu kolayca kopyalayabilir ve değişiklikleri itebilir:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git clone git@gitserver:/srv/git/project.git
$ cd project
$ vim README
$ git commit -am 'fix for the README file'
$ git push origin master</code></pre>
</div>
</div>
<div class="paragraph">
<p>Bu yöntemle, birkaç geliştirici için hızlıca okuma/yazma erişimli bir Git sunucusu kurabilirsiniz.</p>
</div>
<div class="paragraph">
<p>Dikkat etmeniz gereken bir husus, şu anda tüm bu kullanıcıların sunucuya giriş yapıp, bir <code>git</code> kullanıcısı olarak bir kabuk (shell) alabilmesidir.
Bunu sınırlamak istiyorsanız, <code>/etc/passwd</code> dosyasında kabuğu başka bir şeye değiştirmeniz gerekecektir.</p>
</div>
<div class="paragraph">
<p><code>git</code> kullanıcı hesabını sadece Git ile ilgili faaliyetlerle kısıtlamak için, Git ile birlikte gelen sınırlı bir kabuk aracı olan <code>git-shell`i kullanabilirsiniz.
Eğer `git</code> kullanıcı hesabının giriş kabuğu olarak bunu ayarlarsanız, o hesap sunucunuzda normal kabuk erişimine sahip olamaz.
Bunu kullanmak için, o hesabın giriş kabuğu olarak bash veya csh yerine <code>git-shell</code> 'i belirtmelisiniz.
Bunun için, eğer hali hazırda yoksa, <code>/etc/shells</code> dosyasına <code>git-shell</code> komutunun tam yolunu eklemeniz gerekmektedir:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cat /etc/shells   # see if `git-shell` is already in there.  If ...
$ which git-shell   # make sure git-shell is installed on your system.
$ sudo -e /etc/shells  # and add the path to git-shell from last command</code></pre>
</div>
</div>
<div class="paragraph">
<p>Şimdi bir kullanıcının kabuğunu <code>chsh &lt;kullanıcıadı&gt; -s &lt;kabuk&gt;</code> komutunu kullanarak düzenleyebilirsiniz:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ sudo chsh git -s $(which git-shell)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Şimdi, <code>git</code> kullanıcısı SSH bağlantısını kullanarak yalnızca Git depolarını itme ve çekme işlemlerini gerçekleştirebilir ama makineye kabuk alamaz.
Yine de denerseniz, şunun gibi bir giriş reddi görürsünüz:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ ssh git@gitserver
fatal: Interactive git shell is  enabled.
hint: ~/git-shell-commands should exist and have read and execute access.
Connection to gitserver closed.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Şimdi Git ağ komutları hala düzgün çalışacak ancak kullanıcılar bir kabuk alamayacaktır.
Çıktıda belirtildiği gibi, <code>git</code> kullanıcısının ana dizininde <code>git-shell</code> komutunu bir miktar özelleştiren bir dizin de kurabilirsiniz.
Örneğin, sunucunun kabul edeceği Git komutlarını sınırlayabilir veya kullanıcıların SSH ile giriş yapmaya çalıştıklarında görecekleri iletileri özelleştirebilirsiniz.
Kabuğu özelleştirmekle ilgili daha fazla bilgi için <code>git help shell</code> komutunu çalıştırın.</p>
</div>
<div id="nav"><a href="{{< previous-section >}}">prev</a> | <a href="{{< next-section >}}">next</a></div>