---
### DO NOT EDIT! Generated by script/update-book2.rb
category: book
section: documentation
subsection: book
sidebar: book
book:
  language_code: cs
  chapter:
    title: Distribuovaný Git
    number: 5
  section:
    title: Distribuované pracovní postupy
    number: 1
    cs_number: '5.1'
    previous: book/cs/v2/Git-na-serveru-Shrnutí
    next: book/cs/v2/Distribuovaný-Git-Přispívání-do-projektu
title: Git - Distribuované pracovní postupy
url: "/book/cs/v2/Distribuovaný-Git-Distribuované-pracovní-postupy.html"
---
<p>
Máte vytvořen vzdálený gitový repozitář, který je nastaven tak, aby mohli všichni vývojáři sdílet svůj zdrojový kód, a znáte základní příkazy Gitu pro práci v lokálním prostředí. Nastal čas, abychom se podívali na využití některých distribuovaných pracovních postupů, které vám Git nabízí.</p><p>V této kapitole uvidíte, jak se v distribuovaném prostředí s Gitem pracuje v roli přispěvatele a v roli integrátora.
Jinými slovy, naučíte se, jak lze do projektu úspěšně přidat vlastní kód, jak to co nejvíc usnadnit sobě i správci projektu a také to, jak se dá úspěšně udržovat projekt, do kterého přispívá velký počet vývojářů.</p>
<h2 id="_distribuované_pracovní_postupy">Distribuované pracovní postupy</h2>
<div class="paragraph">
<p>
Na rozdíl od centralizovaných systémů pro správu verzí, distribuovaný charakter systému Git umožňuje vývojářům mnohem větší pružnost ve způsobech spolupráce na projektech.
V centralizovaných systémech představuje každý vývojář samostatný uzel, pracující s centrálním úložištěm více či méně na stejné úrovni.
Naproti tomu v Gitu je  každý vývojář potenciálním uzlem i úložištěm. To znamená, že každý vývojář může přispívat kódem do ostatních repozitářů a současně může spravovat veřejný repozitář, z kterého mohou ostatní vycházet při své práci a do kterého mohou přispívat.
Tím se pro váš projekt a váš tým otvírá široké spektrum pracovních postupů. Podíváme se na pár obvyklých přístupů, které dané pružnosti využívají.
Uvedeme si jejich přednosti i eventuální slabiny. Můžete vybrat jeden z nich, nebo je můžete pro dosažení požadovaných vlastností navzájem kombinovat.</p>
</div>
<div class="sect3">
<h3 id="_centralizovaný_pracovní_postup">Centralizovaný pracovní postup</h3>
<div class="paragraph">
<p>
V centralizovaných systémech je většinou možný pouze jediný model, tzv. centralizovaný pracovní postup.
Jedno centrální úložiště (hub) nebo repozitář přijímá zdrojový kód a každý podle něj synchronizuje svou práci.
Několik vývojářů představuje uzly — konzumenty centrálního úložiště --, které se synchronizují se podle tohoto místa.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/cs/v2/images/centralized_workflow.png" >}}" alt="Centralizovaný pracovní postup.">
</div>
<div class="title">Figure 54. Centralizovaný pracovní postup.</div>
</div>
<div class="paragraph">
<p>To znamená, že pokud dva vývojáři klonují z centrálního úložiště a oba provedou změny, pak jen první z nich může bez problémů odeslat (push) své změny zpět.
Druhý vývojář musí před odesláním svých změn začlenit (merge) práci prvního vývojáře do své, aby nepřepsal jeho změny.
Tento koncept platí jak pro Git, tak pro Subversion (nebo pro jiný systém pro správu verzí). Bez problémů funguje i v Gitu.</p>
</div>
<div class="paragraph">
<p>Pokud už jste ve své firmě nebo v týmu na centralizovaný pracovní postup zvyklí, můžete v něm snadno pokračovat i při použití Gitu.
Jednoduše vytvořte repozitář a přidělte všem ze svého týmu oprávnění k odesílání dat. Git uživatelům neumožní, aby se navzájem přepisovali.
Dejme tomu, že John i Jessica začnou pracovat ve stejném čase.
John dokončí své úpravy a odešle je na server.
Poté se Jessica pokusí odeslat své změny, ale server je odmítne.
Řekne jí, že se pokouší odeslat změny (push), které nemají charakter „rychle vpřed“, a že to nebude moci udělat, dokud neprovede vyzvednutí a sloučení (fetch a merge).
Tento pracovní postup je pro mnoho lidí zajímavý, protože je to model, který jsou zvyklí používat a jsou s ním spokojeni.</p>
</div>
<div class="paragraph">
<p>A není také omezen jen na malé týmy.
Model větvení Gitu umožňuje, aby na jednom projektu pracovaly stovky vývojářů a využívali při tom souběžně desítky větví.</p>
</div>
</div>
<div class="sect3">
<h3 id="_integration_manager">Pracovní postup s integračním manažerem</h3>
<div class="paragraph">
<p>
Protože Git umožňuje práci s více vzdálenými repozitáři, lze využít pracovní postup, kdy má každý vývojář přiděleno právo zápisu do svého vlastního veřejného repozitáře a oprávnění pro čtení k repozitářům všech ostatních.
Tento scénář často zahrnuje jeden hlavní repozitář, který reprezentuje „oficiální“ projekt.
Chcete-li do tohoto projektu přispívat, vytvoříte vlastní veřejný klon projektu a odešlete do něj změny, které jste provedli.
Poté můžete správci hlavního projektu odeslat žádost, aby do projektu vaše změny vtáhl (pull).
Správce si pak může váš repozitář přidat jako vzdálený, lokálně otestovat vaše změny, začlenit (merge) je do své větve a odeslat zpět (push) do svého repozitáře.
Proces funguje následovně (viz obrázek <a href="{{< relurl "book/cs/v2/ch00/wfdiag_b" >}}">Pracovní postup s integračním manažerem.</a>):</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Správce projektu odešle data do svého veřejného repozitáře.</p>
</li>
<li>
<p>Přispěvatel naklonuje tento repozitář a provede změny.</p>
</li>
<li>
<p>Přispěvatel odešle změny do své vlastní veřejné kopie.</p>
</li>
<li>
<p>Přispěvatel pošle správci email, ve kterém jej požádá o vtažení změn (pull).</p>
</li>
<li>
<p>Správce si přidá přispěvatelův repozitář jako vzdálený a provede lokální sloučení (merge).</p>
</li>
<li>
<p>Správce odešle začleněné změny do hlavního repozitáře.</p>
</li>
</ol>
</div>
<div id="wfdiag_b" class="imageblock">
<div class="content">
<img src="{{< relurl "book/cs/v2/images/integration-manager.png" >}}" alt="Pracovní postup s integračním manažerem.">
</div>
<div class="title">Figure 55. Pracovní postup s integračním manažerem.</div>
</div>
<div class="paragraph">
<p>
Tento pracovní postup je velmi běžný, pokud se pracuje centralizačními nástroji<sup class="footnote">[<a id="_footnoteref_15" class="footnote" href="#_footnotedef_15" title="View footnote.">15</a>]</sup> jako je GitHub nebo GitLab. Projekt se zde dá snadno odštěpit a změny se pak odesílají do vlastní, odštěpené části, kde se na ně může každý podívat.
Jednou z hlavních výhod tohoto přístupu je, že můžete pracovat bez přerušení a správce hlavního repozitáře může vaše změny do projektu vtáhnout (pull in) až to uzná za vhodné.
Přispěvatelé nemusí čekat, až budou jejich změny začleněny do projektu — všichni zúčastnění mohou pracovat svým vlastním tempem.</p>
</div>
</div>
<div class="sect3">
<h3 id="_pracovní_postup_s_diktátorem_a_poručíky">Pracovní postup s diktátorem a poručíky</h3>
<div class="paragraph">
<p>
Jedná se o variantu pracovního postupu s více repozitáři.
Většinou se používá u obřích projektů se stovkami spolupracovníků. Možná nejznámějším příkladem je vývoj jádra Linuxu.
Za konkrétní části repozitáře odpovídají různí integrační manažeři. Říká se jim poručíci (lieutenants).
Všichni poručíci mají jednoho integračního manažera, kterému se říká benevolentní diktátor.
Repozitář benevolentního diktátora slouží jako referenční repozitář, z nějž všichni spolupracovníci musí stahovat data.
Proces funguje nějak takto (viz obrázek <a href="{{< relurl "book/cs/v2/ch00/wfdiag_c" >}}">Pracovní postup s benevolentním diktátorem.</a>):</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Stálí vývojáři pracují na svých tématických větvích a přeskládávají (rebase) svou práci na vrchol větve <code>master</code>.
Větev <code>master</code> je předmětem zájmu diktátora.</p>
</li>
<li>
<p>Poručíci začleňují (merge) tématické větve vývojářů do svých větví <code>master</code>.</p>
</li>
<li>
<p>Diktátor začleňuje větve <code>master</code> poručíků do své větve <code>master</code>.</p>
</li>
<li>
<p>Diktátor odesílá svou větev <code>master</code> do referenčního repozitáře, aby ji ostatní vývojáři mohli použít jako základ pro přeskládání (rebase).</p>
</li>
</ol>
</div>
<div id="wfdiag_c" class="imageblock">
<div class="content">
<img src="{{< relurl "book/cs/v2/images/benevolent-dictator.png" >}}" alt="Pracovní postup s benevolentním diktátorem.">
</div>
<div class="title">Figure 56. Pracovní postup s benevolentním diktátorem.</div>
</div>
<div class="paragraph">
<p>Tento typ pracovního postupu sice není běžný, ale může být užitečný u velmi velkých projektů nebo v přísně hierarchických prostředích.
Umožňuje vedoucímu projektu (diktátorovi) velkou část práce delegovat a poté na více místech sesbírat velké podmnožiny kódu, které pak dává dohromady.</p>
</div>
</div>
<div class="sect3">
<h3 id="_shrnutí_pracovních_postupů">Shrnutí pracovních postupů</h3>
<div class="paragraph">
<p>Toto jsou tedy některé z běžně používaných pracovních postupů, které umožňují distribuované systémy, jako je Git. Ale sami vidíte, že lze uplatnit řadu variací, aby to vyhovovalo vašim konkrétně používaným pracovním postupům.
Teď už si (snad) dokážete vybrat, jaká kombinace by vám mohla vyhovovat. Ukážeme si pár konkrétnějších příkladů toho, jak splnit hlavní role, které různé pracovní postupy vytvářejí.
V následující podkapitole se dozvíte o několika obvyklých způsobech přispívání do projektu.</p>
</div>
</div>
<div id='footnotes'>
<hr>
<div class="footnote" id="_footnotedef_15">
<a href="#_footnoteref_15">15</a>. hub-based tools
</div>
</div><div id="nav"><a href="{{< previous-section >}}">prev</a> | <a href="{{< next-section >}}">next</a></div>