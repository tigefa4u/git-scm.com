---
### DO NOT EDIT! Generated by script/update-book2.rb
category: book
section: documentation
subsection: book
sidebar: book
book:
  language_code: uz
  chapter:
    title: Git да тармоқланиш
    number: 3
  section:
    title: Тармоқланиш ва бирлашиш асослари
    number: 2
    cs_number: '3.2'
    previous: book/uz/v2/Git-да-тармоқланиш-Тармоқланиш-ҳақида-икки-оғиз-сўз
    next: book/uz/v2/Git-да-тармоқланиш-Тармоқларни-бошқариш
title: Git - Тармоқланиш ва бирлашиш асослари
url: "/book/uz/v2/Git-да-тармоқланиш-Тармоқланиш-ва-бирлашиш-асослари.html"
---
<h2 id="_тармоқланиш_ва_бирлашиш_асослари">Тармоқланиш ва бирлашиш асослари</h2>
<div class="paragraph">
<p>Келинг сизни лойиҳангизда фойдаси тегиб қолиши мумкин бўлган иш жараёнини мисол тариқасида қараб чиқамиз.
Сизнинг ишингиз бундай қурилган:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Сиз сайт устида ишлаябсиз.</p>
</li>
<li>
<p>Сиз ёзаётган мақолангизга тармоқ яратасиз.</p>
</li>
<li>
<p>Сиз ушбу тармоқда ишлайсиз.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Сиз шу вақтда критик хатоликни тезроқ тўғрилаш кераклиги ҳақида маълумот олдингиз.
Сизнинг ҳаракатларингиз:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Асосий тармоққа ўтиш.</p>
</li>
<li>
<p>Тўғрилашни қўшиш учун тармоқ яратасиз.</p>
</li>
<li>
<p>Тест ўтказилгач тўғриланган кодли тармоқни асосий тармоққа қуясиз.</p>
</li>
<li>
<p>Аввалги мақола ёзиб ишлаётган тармоғингизга ўтасиз ва ишлашни давом эттирасиз.</p>
</li>
</ol>
</div>
<div class="sect3">
<h3 id="_basic_branching">Тармоқланиш асослари</h3>
<div class="paragraph">
<p>
Тасаввур қиламиз, сиз лойиҳа устида ишлаябсиз ва бир нечта фиксирлашларга эгасиз.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/uz/v2/images/basic-branching-1.png" >}}" alt="Фиксирлашларнинг оддий тарихи.">
</div>
<div class="title">Figure 18. Фиксирлашларнинг оддий тарихи</div>
</div>
<div class="paragraph">
<p>Сиз хатоликни кузатиш тизимингиздаги #53 хатолик билан ишлашни хулоса қилдингиз дейлик.
Тармоқни яратиш учун ва унга бирданига ўтиш учун  <code>git checkout</code> командани <code>-b</code> параметри билан бажариш мумкин:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout -b iss53
Switched to a new branch "iss53"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Бу қуйидаги билан бир хил:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git branch iss53
$ git checkout iss53</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/uz/v2/images/basic-branching-2.png" >}}" alt="Тармоқнинг янги кўрсаткичини яратиш.">
</div>
<div class="title">Figure 19. Тармоқнинг янги кўрсаткичини яратиш</div>
</div>
<div class="paragraph">
<p>Сиз ўз сайтингиз билан ишлаябсиз ва фиксирлашларни амалга ошираябсиз.
Бу сиз сал аввал <code>iss53</code> (<code>HEAD</code> уни кўрсатиб туради) тармоққа уланганингиз учун уни илгари силжишига олиб келади.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ vim index.html
$ git commit -a -m 'added a new footer [issue 53]'</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/uz/v2/images/basic-branching-3.png" >}}" alt="iss53 тармоқ олдинга силжиябди.">
</div>
<div class="title">Figure 20. iss53 тармоқ олдинга силжиябди</div>
</div>
<div class="paragraph">
<p>Сиз шу дамда тезда бартараф этилиши керак бўлган сайтингиздаги хавфли очиқ жой ҳақида маълумот оласиз.
Git шарофати билан ушбу тузатишни сиз <code>iss53</code> тармоқдаги қилинган ишлари билан аралаштирмайсиз. Сизга хатто хамма қилинган ишларни орқага қайтариш ҳеч қандай уринишларга ҳожат ҳам қолмайди. Нимаики қилшингиз керак бўлса бу - <code>master</code> тармоққа уланишингиз.</p>
</div>
<div class="paragraph">
<p>Бироқ буни амалга оширишдан олдин шуни назарла тутингки - агар сизнинг ишчи каталогингиз ёки тайёраланган файллар соҳаси фиксирланмаган ўзгаришларга эга бўлса ва сиз уланмоқчи бўлган тармоқ билан келишмовчиликлар чиқса Git тармоқдан тармоққа уланишга йўл қўймайди.
Энг яхшиси лойиҳанинг тоза ҳолатидан тармоққа ўтишдир.
Буни айланиб ўтишнинг йўллари мавжуд бу яшириш (stash) ёки фиксирлашларни тўғрилаш (amend), лекин бу ҳақда сал кейинроқ <a href="{{< relurl "book/uz/v2/ch00/_git_stashing" >}}">Stashing and Cleaning</a> бўлимда гаплашамиз.
Энди тасаввур қилайлик сиз ҳамма ўзгаришларни фиксирладингиз ва асосий тармоққа уланишингиз мумкин:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout master
Switched to branch 'master'</code></pre>
</div>
</div>
<div class="paragraph">
<p>Шу вақтдан бошлаб сизнинг ишчи каталогингиз сиз #53 хатолик билан ишлашингиздан олдин қандай бўлган бўлса ана шундай кўринишга эга бўлди. Сиз энди тузатиш билан ишлаш учун диққатингизни жамлашингиз мумкин.
Ёдда тутиш муҳим: сиз тармоқга ўтаётган вақтингизда Git ишчи каталогни шу тармоқнинг охирги фиксирлаши кўринишига ўтказади.
У ишчи каталогни охирги фиксирлаш кўринишига мослаш учун файлларни ўчиради, қўшади ва автоматик тарзда ўзгартиради.</p>
</div>
<div class="paragraph">
<p>Энди сиз тузатишни ёзишга ўтишингиз мумкин.
Келинг тузатиш учун уни тугатмагунимизча ишлашимизга керак бўладиган тармоқ яратамиз.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout -b hotfix
Switched to a new branch 'hotfix'
$ vim index.html
$ git commit -a -m 'fixed the broken email address'
[hotfix 1fb7853] fixed the broken email address
 1 file changed, 2 insertions(+)</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/uz/v2/images/basic-branching-4.png" >}}" alt="hotfix тармоғи `master` тармоғига асосланган">
</div>
<div class="title">Figure 21. hotfix тармоғи <code>master</code> тармоғига асосланган</div>
</div>
<div class="paragraph">
<p>Сиз тестларни юргизиб кутилган натижалар бераётганини текширишингиз ва агар шундай бўлса тузатишни сервердаги ишчи кодларга қўшиш учун уни асосий тармоқ билан бирлаштиришни (merge) амалга оширишингиз мумкин.
Бу <code>git merge</code> команда билан бажарилади:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout master
$ git merge hotfix
Updating f42c576..3a0874c
Fast-forward
 index.html | 2 ++
 1 file changed, 2 insertions(+)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ушбу бирлаштиришда ``fast-forward``  иборани илғадингизми?
Сиз бирлаштирган тармоқ фиксирлаши сиз ишлаган тармоқ фиксирлаши аждоди бўлганлиги сабабли Git уни оддийгина қилиб тармоқ кўрсаткичини олдинга силжитиб қўйди.
Бошқа сўзлар билан айтганда агар фиксирлашларни бирлаштиришга кўрсаткични тарих билан тўғри силжитиш орқали эришиш мумкин бўлса Git бирлаштиришни соддалаштиради ва (ишда тармоқланиш йўқ бўлганлиги сабабли) кўрсаткични олдинга суриб қўя қолади. Бу ``fast-forward`` дейилади (тез айлантириш).
Энди сизни ўзгаришларингиз — фиксирлаш суръатида (snapshot), бу вақтда <code>master</code> тармоғи айнан ана шуни кўрсатиб турибди ва тузатишни амалиётга қўллаш мумкин.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/uz/v2/images/basic-branching-5.png" >}}" alt="`master` тармоғи `hotfix` га тез айлантирилган.">
</div>
<div class="title">Figure 22. <code>master</code> тармоғи <code>hotfix</code> га тез айлантирилган</div>
</div>
<div class="paragraph">
<p>Сизни муҳим ишингизни амалиётга қўллаганингиздан сўнг сиз аввалги орқага сурилган ишларингизга қайтишингиз мумкин бўлади.
Қандай бўлмасин аввал <code>hotfix</code> тармоғини ўчириш керак, сабаби <code>master</code> тармоғи ҳам айнан ана шу тармоқ кўрсатиб турган жойни кўрсатиб турибди ва унинг энди кераги йўқ.
Тармоқни ўчириш учун <code>git branch</code> командасини <code>-d</code> параметри билан беринг:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git branch -d hotfix
Deleted branch hotfix (3a0874c).</code></pre>
</div>
</div>
<div class="paragraph">
<p>Энди сиз #53 хатолик билан ишлаётган тармоққа ўтиб ишингизни давом эттиришингиз мумкин:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout iss53
Switched to branch "iss53"
$ vim index.html
$ git commit -a -m 'finished the new footer [issue 53]'
[iss53 ad82d7a] finished the new footer [issue 53]
1 file changed, 1 insertion(+)</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/uz/v2/images/basic-branching-6.png" >}}" alt="`iss53` хатолик билан ишлашни давом эттириш.">
</div>
<div class="title">Figure 23. <code>iss53</code> хатолик билан ишлашни давом эттириш</div>
</div>
<div class="paragraph">
<p>Шунга эътибор бериш жоизки, <code>hotfix</code> тармоғидан ҳамма ўзгаришлар сизни <code>iss53</code> тармоғингизга ўтказилмаган.
Агар уларни қўшиш керак бўлса, сиз <code>master</code> тармоғини сизнинг <code>iss53</code> тармоғингизга <code>git merge master</code> команда орқали қуясиз, ёки ушбу бирлаштиришни иш тугаганича кутасиз ва охирида <code>iss53</code> тармоқни <code>master</code> тармоғига қуясиз.</p>
</div>
</div>
<div class="sect3">
<h3 id="_basic_merging">Бирлаштириш асослари</h3>
<div class="paragraph">
<p>
Фараз қилайлик, сиз #53 хатолик билан ишлашни тугатдингиз ва уни энди <code>master</code> тармоғига қуйишингиз мумкин.
Бунинг учун бироз аввал <code>hotfix</code> тармоғини қандай бирлаштирган бўлсак <code>iss53</code> тармоғини ҳам худди шундай бирлаштирасиз.
Сизнинг қилишингиз керак бўлган иш бу - ўзгаришларни бирлаштиришингиз керак бўлган тармаоққа ўтиб сўнгра <code>git merge</code> командасини бериш бўлади:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout master
Switched to branch 'master'
$ git merge iss53
Merge made by the 'recursive' strategy.
index.html |    1 +
1 file changed, 1 insertion(+)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Бу бирлаштириш натижаси <code>hotfix</code> тармоғини бирлаштиришдаги натижадан фарқ қилади.
Ушбу ҳолатда бизда иш тарихи тармоқланди.
Биз турган фиксирлашимиз бирлаштирмоқчи бўлган тармоқнинг авлоди бўлмаганлиги сабабли уни бирлаштириш учун Git озгина меҳнат қилишига тўғри келади.
Бу ҳолатда Git бирлаштирилаётган тармоқларнинг икки суръати (snapshot) ва улар учун умумий бош бўлган суръатдан фойдаланиб оддий уч томонламали бирлаштиришни бажаради.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/uz/v2/images/basic-merging-1.png" >}}" alt="Бирлаштиришда учта суръатдан фойдаланиш.">
</div>
<div class="title">Figure 24. Бирлаштиришда учта суръатдан фойдаланиш</div>
</div>
<div class="paragraph">
<p>Тармоқ кўрсаткичини шундайгина силжитиб қўйиш ўрнига Git уч томонламали бирлаштириш натижавий-суръатини яратиб ундан сўнг автоматик фиксирлашни амалга оширади.
Ушбу фиксирлашни аждоди бирдан кўп бўлганлиги боис уни бирлаштириш фиксирлаши дейишади.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/uz/v2/images/basic-merging-2.png" >}}" alt="Коммит слияния.">
</div>
<div class="title">Figure 25. Бирлаштириш фиксирлаши</div>
</div>
<div class="paragraph">
<p>Шуни таъкидлаш жоизки, Git бирлаштиришга асос бўла оладиган қайси аждоддан фойдаланиш яхши эканлигини ўзи аниқлайди. Бу ҳислати уни бошқа эскираётган CVS ёки Subversion (1.5 талқинига қадар) каби ускуналардан фарқлаб туради. Ушбу ускуналарда бирлаштиришни амалга ошираётган яратувчиларнинг ўзлари яхши асосни танлаб олишлари керак бўлади.
Бу Git ни кўрсатилган ускуналардагига қараганда бирлаштиришни ақлга сиғмас даражада енгил бажаришини таъминлайди.</p>
</div>
<div class="paragraph">
<p>Энди иш қуйилганидан кейин <code>iss53</code> тармоқнинг бошқа кераги йўқ.
Сиз хатоликларни назорат қилиш тизимида саволни ёпиб тармоқни ўчиришингиз мумкин:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git branch -d iss53</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h3 id="_basic_merge_conflicts">Бирлаштиришдаги асосий келишмовчиликлар</h3>
<div class="paragraph">
<p>
Баъзида ишлар силлиқ ўтавермайди.
Агар сиз бирлаштирилаётган икки тармоқда бир хил файлнинг бир хил жойини икки хил тарзда ўзгартирган бўлсангиз Git уларни тоза ҳолатда бирлаштира олмайди.
Агар сизнинг #53 хатони тўғрилашларингиз <code>hotfix</code> тармоғида ўзгартирилган файлларни ўзгартиришни талаб қилган бўлса сиз бирлаштириш давомида юзага келган келишмовчилик ҳақидаги қуйидагича ҳабарни олишингиз мумкин:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git merge iss53
Auto-merging index.html
CONFLICT (content): Merge conflict in index.html
Automatic merge failed; fix conflicts and then commit the result.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Git автоматик тарзда бирлаштириш фиксирлашини яратгани йўқ.
У иш жараёнини токи сиз келишмовчиликларга руҳсат бермагунингизча тўхтатиб туради.
Ихтиёрий вақтда келишмвочилик келиб чиққанидан сўнг, қайси файллар бирлаштирилмаганлигини кўриш учун сиз <code>git status</code> командасини чақиришингиз мумкин:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git status
On branch master
You have unmerged paths.
  (fix conflicts and run "git commit")

Unmerged paths:
  (use "git add &lt;file&gt;..." to mark resolution)

    both modified:      index.html

no changes added to commit (use "git add" and/or "git commit -a")</code></pre>
</div>
</div>
<div class="paragraph">
<p>Барча бирлаштириш давомида руҳсат берилмаган келишмовчиликлар бирлашмаганлар ҳисобланади.
Git келишмовчиликка учраган файлларга сиз уларни қўлингиз билан очиб руҳсат беришингиз учун руҳсат бериш стандарт белгилашларини қўшади.
Сизни файлингизда тахминан қуйидаги кўринишдаги бўлим пайдо бўлади:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-html" data-lang="html">&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD:index.html
&lt;div id="footer"&gt;contact : email.support@github.com&lt;/div&gt;
=======
&lt;div id="footer"&gt;
 please contact us at support@github.com
&lt;/div&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt; iss53:index.html</code></pre>
</div>
</div>
<div class="paragraph">
<p>Бунда <code>HEAD</code> (<code>master</code> тармоғингизники, бирлаштириш командасини бериб айнан ана шуни сиз юкладингиз) — блокнинг юқори қисми (барча <code>=======</code> нинг остидагилар), сизнинг тармоғингиз талқини эса қуйи қисмида келтирилган <code>iss53</code>.
Келишмовчиликларга руҳсат бериш учун, икки томондан бирини танлашга ёки уларни ўз хоҳишингизга кўра бирлаштиришингизга тўғри келади.
Масалан, сиз барча блокни қуйидаги билан алмаштириш орқали келишмовчиликка руҳсат беришингиз мумкин:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-html" data-lang="html">&lt;div id="footer"&gt;
please contact us at email.support@github.com
&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ушбу руҳсатномада ҳар бир қисмдан озгинадан бор, <code>&lt;&lt;&lt;&lt;&lt;&lt;&lt;</code>, <code>=======</code> ва <code>&gt;&gt;&gt;&gt;&gt;&gt;&gt;</code> сатрлар умуман олиб ташланган.
Ҳар бир файлда келишмовчиликларга руҳсат бериб файлларни келишмовчиликлари ҳал бўлганлигини билдириш мақсадида ҳар бир файл учун <code>git add</code> ни ишга туширинг.
Файлни тайёрловчи (staging) уни Git учун руҳсат берилган келишмовчилик тарзида белгилаб қўяди.</p>
</div>
<div class="paragraph">
<p>Агар сиз келишмовчиликларга руҳсат беришни график ускуна ёрдамида амалга оширмоқчи бўлсангиз, <code>git mergetool</code> ни ишга туширишингиз мумкин. У сизни ҳар бир келишмовчиликлар бўйлаб юриб чиқишингизда ёрдам беради:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git mergetool

This message is displayed because 'merge.tool' is not configured.
See 'git mergetool --tool-help' or 'git help config' for more details.
'git mergetool' will now attempt to use one of the following tools:
opendiff kdiff3 tkdiff xxdiff meld tortoisemerge gvimdiff diffuse diffmerge ecmerge p4merge araxis bc3 codecompare vimdiff emerge
Merging:
index.html

Normal merge conflict for 'index.html':
  {local}: modified file
  {remote}: modified file
Hit return to start merge resolution tool (opendiff):</code></pre>
</div>
</div>
<div class="paragraph">
<p>Агар сиз бирлаштириш унсури сифатида ўзгаришсиз турганини олишни истамасангиз (ушбу ҳолатда команда Mac да берилганлиги сабабли Git <code>opendiff</code> ни олди), барча қўллаб қувватланувчи ускуналар рўйҳати юқоридаги ``one of the following tools.`` иборадан кейин келтирилган.
Фақат ана шу ишлатилиши керак бўлган ускуна номини киритинг.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Бирлаштиришнинг мураккаб келишмовчиликларга руҳсат беришнинг кенгайтирилган унсурлари ҳақидаги батафсил маълумотларни <a href="{{< relurl "book/uz/v2/ch00/_advanced_merging" >}}">Advanced Merging</a> бўлимида келтирамтиз.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Бирлаштириш ускунаси муҳитидан чиқар вақтингизда Git бирлаштириш муваққиятли бўлдими дея сўрайди.
Агар сиз скриптга тасдиқ жавобини берсангиз у файлни руҳсат берилган тарзида белгилаш учун тайёрлайди.
Барча келишмовчиликлар руҳсат берилганлигига ишонч хосил қилиш учун энди <code>git status</code> ни янгитдан чақириш мумкин:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git status
On branch master
All conflicts fixed but you are still merging.
  (use "git commit" to conclude merge)

Changes to be committed:

    modified:   index.html</code></pre>
</div>
</div>
<div class="paragraph">
<p>Агар сизни бу қанаотлантирса ва сиз қаерда келишмовчиликлар бўлган бўлса улар тайёрланганлигига (staged) ишонч хосил қилсангиз энди бирлаштиришнинг фиксирлашини тамомлаш учун <code>git commit</code> командасини чақиришингиз мумкин бўлади.
фиксирлаш шарҳлари тахминан қуйидагича бўлади:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">Merge branch 'iss53'

Conflicts:
    index.html
#
# It looks like you may be committing a merge.
# If this is not correct, please remove the file
#	.git/MERGE_HEAD
# and try again.


# Please enter the commit message for your changes. Lines starting
# with '#' will be ignored, and an empty message aborts the commit.
# On branch master
# All conflicts fixed but you are still merging.
#
# Changes to be committed:
#	modified:   index.html
#</code></pre>
</div>
</div>
<div class="paragraph">
<p>Агар сиз бошқалар келажакда фиксирлашни маъносини тушунишини онсонлаштирмоқчи бўлсангиз, нима қилганлигингиз ҳақида ушбу фиксирлашга қўшимча қўшишингиз мумкин.</p>
</div>
</div>
<div id="nav"><a href="{{< previous-section >}}">prev</a> | <a href="{{< next-section >}}">next</a></div>