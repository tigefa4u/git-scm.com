---
### DO NOT EDIT! Generated by script/update-book2.rb
category: book
section: documentation
subsection: book
sidebar: book
book:
  language_code: uz
  chapter:
    title: Git асослари
    number: 2
  section:
    title: Ўзгаришларни омборга ёзиш
    number: 2
    cs_number: '2.2'
    previous: book/uz/v2/Git-асослари-Git-омборини-яратиш
    next: book/uz/v2/Git-асослари-Фиксирлашлар-тарихини-кўриш
title: Git - Ўзгаришларни омборга ёзиш
url: "/book/uz/v2/Git-асослари-Ўзгаришларни-омборга-ёзиш.html"
---
<h2 id="_ўзгаришларни_омборга_ёзиш">Ўзгаришларни омборга ёзиш</h2>
<div class="paragraph">
<p>Шундай қилиб сизда Git нинг ҳақиқий омбори ва қандайдир лойиҳа учун ишчи файллар нусҳаси мавжуд.
Сиз лойиҳа билан ишлаш давомида керакли жойда сақлаш пайтида бир қанча ўзгаришлар ва ушбу ўзгаришларни ҳолатини “суръат” (snapshots)га олиб фиксирлашингиз  керак.</p>
</div>
<div class="paragraph">
<p>Эсда тутинг ишчи каталогигингиздаги ҳар бир файл икки ҳолатдан бирида: талқин кузатуви остида ёки кузатилмаётган ҳолатда.
Кузатилаётган файллар – бу лойиҳанинг охирги формадаги ҳолати файллари (snapshot). Улар ўзгартирилмаган, ўзгартирилган ёки жўнатиш учун тайёрланган(staged) бўлиши мумкин.
Кузатилмайдиган файллар бу ишчи каталогингиздаги кузатилаётган файлларга кирмайдиган қолган барча файллардир.
Қачон сиз биринчи бор омборни клондаштирсангиз, барча файллар кузатилаётган ва ўзгартирилмаган бўлади, чунки сиз уларни эндигина сақланувчи омбордан олдингиз (checked them out) ва ҳеч нимани ўзгартирганингиз йўқ.</p>
</div>
<div class="paragraph">
<p>Сиз файлларни таҳрирлашингиз биланоқ Git уларни ўзгаотирилганлар деб қарай бошлайди. Чунки сиз охирги жўнатилгандан кейин яна ўзгартириш киритган ҳисобланаябсиз.
Сиз ушбу ўзгаришларни индекслайсиз(stage) ва кейин барча индекланган ўзгаришларни фиксирлайсиз, шу тарзда жараён такрорланади. Бу жараённинг тасвири қуйида келтирилган:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/uz/v2/images/lifecycle.png" >}}" alt="Сизнинг файлларингизни иш жараёнидаги ҳолатларининг цикл ҳолати.">
</div>
<div class="title">Figure 8. Сизнинг файлларингизни иш жараёнидаги ҳолатларининг цикл ҳолати.</div>
</div>
<div class="sect3">
<h3 id="_checking_status">Файлларингиз ҳолатини аниқлаш</h3>
<div class="paragraph">
<p>Қайси файл қанақа ҳолатда эканлигини аниқлаш учун асосий ускуна – git status. 
Агар сиз клонлаштириш сўнг дарров ушбу командани ишлатсангиз қуйидаги кабиларни кўришингиз мумкин:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git status
On branch master
nothing to commit, working directory clean</code></pre>
</div>
</div>
<div class="paragraph">
<p>Бу сизни каталогингиз тоза эканлигидан бошқача қилиб айтганда эса каталогда кузатилаётган ўзгартирилган файллар йўқ эканлигидан дарак беради.
Git  шунингдек кузатилмаётган файлларни ҳам топа олгани йўқ, акс ҳолда улар акс этган бўларди.
Ва ниҳоят, команда сиз айни вақтда қайси ирмоқ (branch) да эканлигингизни ҳам кўрсатади.
Хозирча бу ирмоқ доим “master” - одатий тарзда қабул қилинган, бу бўлимда бу муҳим эмас.
Навбатдаги <a href="{{< relurl "book/uz/v2/ch00/_git_branching" >}}">Git да тармоқланиш</a> бўлимда ирмоқ ва мурожатлар ҳақида батафсилроқ гапириб берилади.</p>
</div>
<div class="paragraph">
<p>Тасаввур қилайлик сиз лойиҳангизга янги файл қўшдингиз, оддий README файл.
Агар ушбу файл олдин бўлмаган бўлса ва сиз git status ни бажарсангиз кузатилмаётган файл ҳақидаги қуйидаги маълумотни кўришингиз мумкин:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ echo 'My Project' &gt; README
$ git status
On branch master
Untracked files:
  (use "git add &lt;file&gt;..." to include in what will be committed)

    README

nothing added to commit but untracked files present (use "git add" to track)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Сиз янги README файл кузатилмаётган эканлигини уни “ntracked files” бўлимидаги (секциясидаги) рўйҳатдан кўриб билишингиз мумкин.
Одатда кузатилмаётган файл тарзида Git аввалги ҳолатда тасдиқланганлар ичида топа олмаган файлларни назарда тутади. Git га уларни сизни коммит(тасдиқларингизга)ларингизга қўшиш кераклиги ҳақидаги буйруқни бермаганингизча қўшмайди.
Бу сизни тасодифан генерация қилинган иккилик файлларини ёки сиз хоҳламаган файлларни омборга қўшилиб кетишининг олдини олади.
Сиз README файлини қўшишни хоҳлаябсизми келинг унда буни амалга оширамиз.</p>
</div>
</div>
<div class="sect3">
<h3 id="_tracking_files">Янги файлларни кузатиш</h3>
<div class="paragraph">
<p>Янги файлни кузатишни бошлаш учун (талқинлар кузатуви остига олиш учун) <code>git add</code> командаси ишлатилади.
README  файлини кузатишни бошлаш учун қуйидагини бажаришингиз керак:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git add README</code></pre>
</div>
</div>
<div class="paragraph">
<p>Агар сиз яна status командасини берсангиз README  файл кузатилаётган ва индексланганлигини кўришингиз мумкин:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git status
On branch master
Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)

    new file:   README</code></pre>
</div>
</div>
<div class="paragraph">
<p>Файлни индексланганлар рўйҳатида эканлигини уни “Changes to be committed” бўлимидаги (секциясидаги) рўйҳатда кўриб билишингиз мумкин.
Агар сиз ушбу вақтда жўнатиш (коммит) буйруғини берсангиз, у ҳолда <code>git add</code> командаси ёрдамида қўшилган файл талқини ҳолатлар тарихи суръатига қўшилади.
Сизни эсингизда бўлса керак, аввалги бўлимларда <code>git init</code> командасини бажаргандан кейин <code>git add</code> (files) командасини бажарган эдингиз.
Ушбу буйруқ каталогингиздаги файлларни талқинлар кузатуви остига олиш мақсадида берилган эди. <code>git add</code> команда параметр сифатида файл ёки каталог йўлини қабул қилади ва агар у каталог бўлса рекурсив усулда ундаги барча файлларни индекслаб чиқади.</p>
</div>
</div>
<div class="sect3">
<h3 id="_ўзгартирилган_файлларни_индекслаш">Ўзгартирилган файлларни индекслаш</h3>
<div class="paragraph">
<p>Келинг талқинлар кузатуви отида бўлган файлга ўзгартириш киритамиз.
Агар сиз кузатилаётган файл “CONTRIBUTING.md” ни ўзгартирсангиз сўнг status  командасини ишлатсангиз у ҳолда натижа тахминан қуйидагича бўлади:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git status
On branch master
Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)

    new file:   README

Changes not staged for commit:
  (use "git add &lt;file&gt;..." to update what will be committed)
  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)

    modified:   CONTRIBUTING.md</code></pre>
</div>
</div>
<div class="paragraph">
<p>Файл “CONTRIBUTING.md” “Changed but not updated” - бўлими (секцияси) ичида ётибди, бу эса ишчи каталогдаги файл ўзгартирилганлигини лекин ҳалигача индексланмаганлигини билдиради.
Уни индекслаш учун <code>git add</code> (бу кўп функцияли команда талқинларни кузатуви остига янги файлларни қўшишни ва шунинг билан биргаликда бошқа мақсадларда масалан ўзгартирилган файлларни омбордаги билан бирлаштириш вақтида келиб чиққан тафовут (конфликт) ларда қайси файлни қўшиш кераклигини кўрсатишда ишлатилади) командасини бажариш керак.
“CONTRIBUTING.md” файлини индекслаш учун  <code>git add</code>  командасини бажарамиз, сўнг <code>git status</code> командасини берамиз:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git add CONTRIBUTING.md
$ git status
On branch master
Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)

    new file:   README
    modified:   CONTRIBUTING.md</code></pre>
</div>
</div>
<div class="paragraph">
<p>Энди иккала файл ҳам индексланган ва улар навбатдаги жўнатиш(коммит) учун тайёр.
Фараз қилайлик сиз шу онда <code>CONTRIBUTING.md</code> файл учун киритиладиган битта катта бўлмаган ўзгартиришни эслаб қолдингиз ва уни фиксирлашдан олдин амалга оширмоқчисиз.
Сиз файлни очасиз ўзгартирш киритиб сақлаб ёпасиз ва гўёки ҳаммаси жўнатишга тайёрдай.
Лекин, келинг <code>git status</code> командаси ёрдамида ростдан ҳам шундаймикан текшириб кўрамиз:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ vim CONTRIBUTING.md
$ git status
On branch master
Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)

    new file:   README
    modified:   CONTRIBUTING.md

Changes not staged for commit:
  (use "git add &lt;file&gt;..." to update what will be committed)
  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)

    modified:   CONTRIBUTING.md</code></pre>
</div>
</div>
<div class="paragraph">
<p>Нима бўлди?
Қизиқ, энди <code>CONTRIBUTING.md</code> файл икки секцияда ҳам индексланган ҳам  индексланмаганлар рўйҳатида акс этиб турибди.
Бу қандай бўлиши мумкин?
Бундай вазият Git нинг файлларни аниқ ҳолатини яъни охирги бор берилган git add командасидаги ҳолатни индекслашини яна бир бор намойиш қилади.
Агар сиз хозир юборишни (коммит) амалга оширсангиз, <code>CONTRIBUTING.md</code> файлнинг охирги бор <code>git add</code> командаси ёрдамида қўшилган ўзгартиришлари жўнатилиб git commit вақтидаги ҳолати жўнатилмайди.
Сиз <code>git add</code> командасидан кейин ўзгартириш киритган бўлсангиз файлни охирги талқинини индекслаш учун яна <code>git add</code> командасини бажаришингизга тўғри келади:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git add CONTRIBUTING.md
$ git status
On branch master
Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)

    new file:   README
    modified:   CONTRIBUTING.md</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h3 id="_қисқа_ҳолат">Қисқа ҳолат</h3>
<div class="paragraph">
<p><code>git status</code> командаси натижаси тўлиқ ҳолатни кўрсатса у яна бошқа маънода ҳам ишлатилиши мумкин. Git яна <code>қисқа ҳолат</code> белисига эга бўлганлиги боис сиз киритган ўзгаришларингизни янада ихчамроқ кўринишда кўришингиз мумкин. Агар сиз <code>git status -s</code> ёки <code>git status --short</code> командасини чақирсангиз сиз янада яхлитланган натижани оласиз.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git status -s
 M README
MM Rakefile
A  lib/git.rb
M  lib/simplegit.rb
?? LICENSE.txt</code></pre>
</div>
</div>
<div class="paragraph">
<p>Янги файллар кузатилмаётганлари <code>??</code> дан кейин, янги файлларни жўнатишга қўшилганлари <code>A</code> дан кейин, ўзгартирилган файллар <code>M</code> ва хокозо каби келтирилади. Натижа иккита майдонда чиқарилган бўлиб, чап томондаги майдон уни жўнатишга қўшилганлигини ва ўнг томондаги майдон ўзгартирилганлигини билдиради. Масалан, ушбу натижадаги <code>README</code> файлини ҳолатини олсак, у ўзгартирилган аммо жўнатишга тайёрланмаган, <code>lib/simplegit.rb</code> файли эса ҳам ўзгартирилган ҳам жўнатишга қўшилганлигини билдиради. <code>Rakefile</code> файли ўзгартирилган, жўнатишга қўшилган, сўнгра яна ўзгартирилган шу сабабли у жўнатишга қўшилган ва қўшилмаганлигини англатувчи устунлари иккисида ҳам ўзгаришлар бор ҳолатда.</p>
</div>
</div>
<div class="sect3">
<h3 id="_ignoring">Файлларни ҳисобга олмаслик</h3>
<div class="paragraph">
<p>Қисман бўлсада сизда автоматик тарзда омборга қўшилишини ва нафақат қўшилишини балким уларни кузатилувчилар рўйҳатида ҳам кўришни истамаган файллар мавжуд бўлади.
Бундай файлларга автоматик тарзда генерация қилинадиган файллар киради (турли хил журналлар, дастур йиғилиш натижалари ва ҳок.).
Шундай вазиятларда сиз ана шу каби файллар учун яратилган шаблонларни ўз ичига оладиган <code>.gitignore</code> файлни яратишингиз мумкин.
Мана <code>.gitignore</code> файл мисол тариқасида келтирилган:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cat .gitignore
*.[oa]
*~</code></pre>
</div>
</div>
<div class="paragraph">
<p>Биринчи қатор Git га кодларни йиғиш давомида пайдо бўладиган объектли ёки архивли, “.o” ёки “.a” билан тугайдиган ихтиёрий файлларни ҳисобга олмасликни англатади.
Иккинчи қатор тильда (<code>~</code>) билан тугайдиган барча файлларни ҳисобга олмасликни англатади. Бундай файллар кўпгина матнни таҳрирловчи дастурларда масалан Emacs дастурида вақтинчалик яратилган файлларни номлашда ишлатилади.
Сиз шунингдек каталогларни (log, tmp ёки pid), автоматик яратиладиган ҳужжатларни ва бошқа турдаги файл ва каталогларни ҳам қўшишингиз мумкин.
Яхши амалиётдан маълумки, ишга жиддий киришишдан олдин <code>.gitignore</code> файлини созлаш - омборга у ерда кўришни хоҳламаган файлларни тасодифан қўшилишидан сақлайди.</p>
</div>
<div class="paragraph">
<p><code>.gitignore</code> файлида яратилаётган шаблонлар учун қуйидагича қоида қўлланилади:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Бўш ва # белги билан бошланувчи сатрлар ҳисобга олинмайди.</p>
</li>
<li>
<p>Стандарт glob шаблонларни қўллаш мумкин.</p>
</li>
<li>
<p>Шаблонни каталогни кўрсатиш мақсадида (<code>/</code>) белги билан тугатиш мумкин.</p>
</li>
<li>
<p>Акс амални билдирувчи  ундов(<code>!</code>) белгисини қўллаб шаблонга кирмайдиганлар рўйҳатини олиш мумкин.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Glob шаблонлар бошқарувчи ифодалар тилида ёзилан содда командалар интерпретаторларидан ташкил топган.
<code>*</code> белги <code>0</code> ёки ундан ортиқ белгига мос келади; <code>[abc]</code>  кетма-кетлик қавс  ичидаги ихтиёрий белгидан биронтасига (айни мисолда <code>a</code>, <code>b</code> ёки <code>c</code>); сўроқ белгиси (<code>?</code>) битта белгига мос келади; <code>[0-9]</code> интервалдаги ихтиёрий белгига мос келади (ушбу ҳолатда <code>0</code> дан <code>9</code> гача).
Сиз бир гуруҳ каталоглар учун яна иккита юлдузча (asterisk) белгисини ишлатишингиз мумкин; <code>a/**/z</code> эҳтимол <code>a/z</code>, <code>a/b/z</code>, <code>a/b/c/z</code> кабиларга мосликни ўрнатиш учун ишлатилар.</p>
</div>
<div class="paragraph">
<p>Мана яна .gitignore  файлидан мисол:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>*.a
# номи .a билан тугайдиган файлларни ҳисобга олмаслик

!lib.a
# Лекин lib.a файлини кузатиш керак гарчан биз .a билан тугайдиган
#барча файлларни ҳисобга олмасликни буюрсакда

/TODO
# бош каталогда жойлашган фақат TODO файлни ҳисобга олмаслик бу
# subdir/TODO каби файлларга тааллуқли эмас

build/
# build/ каталогидаги барча файлларни ҳисобга олмаслик

doc/*.txt
# doc/notes.txt файлини ҳисобга олмаслик, лекин doc/server/arch.txt
# файлига бу тааллуқли эмас</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="paragraph">
<p>GitHub ўзида сиз лойиҳа яратишни бошлаган вақтингизда сизга ва кўпгина лойиҳалар ёки тилларга мисол бўла оладиган тўлиқ рўйҳатга эга бўлган <code>.gitignore</code> файлга <a href="https://github.com/github/gitignore" class="bare">https://github.com/github/gitignore</a> эга.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h3 id="_git_diff_staged">Индексланган ва индекланмаган файлларни кўриш</h3>
<div class="paragraph">
<p>Агар <code>git status</code> командаси сизга етарлича маълумот бера олмаса ва сизни қайси файллар ўзгарганлигини билишдан ташқари яна айнан нима ўзгаргани қизиқтирса <code>git diff</code> командасини ишлатишингиз мумкин.
Бироз кейинроқ биз <code>git diff</code> командаси ҳақида батафсилроқ маълумот берамиз. Сиз умуман олганда уни иккита саволга жавоб топиш учун ишлатасиз:
Нимани мен ўзгартирдим ва индексламадим?
Нимани мен индексладим ва қайсиларини фиксирласам бўлади?
Агарда <code>git status</code> ушбу саволларга умумлаштирган ҳолатда жавоб берса, <code>git diff</code> командаси бевосита ўзгаришлар (patch) ўзини – қўшилган ва ўчирилган сатрларни кўрсатади.</p>
</div>
<div class="paragraph">
<p>Айтайлик сиз яна README файлини ўзгартирдингиз ва индексладингиз сўнгра <code>CONTRIBUTING.md</code> файлини ўзгартирдингизу лекин индекламадингиз.
Агар сиз <code>git status</code> командасини ишлатсангиз сиз яна қуйидаги каби маълумотларни кўришингиз мумкин бўлади:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git status
On branch master
Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)

    new file:   README

Changes not staged for commit:
  (use "git add &lt;file&gt;..." to update what will be committed)
  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)

    modified:   CONTRIBUTING.md</code></pre>
</div>
</div>
<div class="paragraph">
<p>Нима ўзгартириш киритганингиз ва нимани индексламаганингизни кўришингиз учун <code>git diff</code> командасини аргументсиз киритинг:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git diff
diff --git a/CONTRIBUTING.md b/CONTRIBUTING.md
index 3cb747f..e445e28 100644
--- a/CONTRIBUTING.md
+++ b/CONTRIBUTING.md
@@ -36,6 +36,10 @@ def main
           @commit.parents[0].parents[0].parents[0]
         end

+        run_code(x, 'commits 1') do
+          git.commits.size
+        end
+
         run_code(x, 'commits 2') do
           log = git.commits('master', 15)
           log.size</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ушбу команда сизнинг ишчи каталогингизни индексни ичидаги билан солиштиради.
Натижа индексланмаган ўзгаришларни кўрсатади.</p>
</div>
<div class="paragraph">
<p>Агар сиз нимани индекслаганингизни ва нималар навбатдаги жўнатишга киришини кўришни хоҳласангиз сиз <code>git diff --staged</code> командасини беришингиз мумкин.
Ушбу команда сизнинг индексланган ўзгаришларингизни охирги жўнатишга тайёрланганлар билан солиштиради:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git diff --staged
diff --git a/README b/README
new file mode 100644
index 0000000..03902a1
--- /dev/null
+++ b/README
@@ -0,0 +1,4 @@
+My Project
+
+ This is my project and it is amazing.
+</code></pre>
</div>
</div>
<div class="paragraph">
<p>Шуни таъкидлаш муҳимки <code>git diff</code> - ўз ўзидан охирги бор жўнатишга тайёрланганлардан кейинги ўзгаришларни кўрсатмайди у фақат индекланмаганларни кўрсатади.
Бундай ҳислати уринишларни пучга чиқариши мумкин агарда сиз ҳамма ўзгаришларни индексласангизда ва кейин <code>git diff</code> ҳеч нарса қайтармай турса!</p>
</div>
<div class="paragraph">
<p>Бошқа мисол: айтайлик сиз <code>CONTRIBUTING.md</code> файлни индексладингиз ва кейин ўзгартирдингиз. <code>git diff</code> ни ишлатиб ушбу файлдаги индексланган ўзгартиришларни ва индексланмаганларни кўришингиз мумкин:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git add CONTRIBUTING.md
$ echo '# test line' &gt;&gt; CONTRIBUTING.md
$ git status
On branch master
Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)

    modified:   CONTRIBUTING.md

Changes not staged for commit:
  (use "git add &lt;file&gt;..." to update what will be committed)
  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)

    modified:   CONTRIBUTING.md</code></pre>
</div>
</div>
<div class="paragraph">
<p>Энди сиз <code>git diff</code> ни ишлатган ҳолда индексланмаган ўзгаришларни кўришингиз мумкин</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git diff
diff --git a/CONTRIBUTING.md b/CONTRIBUTING.md
index e445e28..86b2f7c 100644
--- a/CONTRIBUTING.md
+++ b/CONTRIBUTING.md
@@ -127,3 +127,4 @@ end
 main()

 ##pp Grit::GitRuby.cache_client.stats
+# test line</code></pre>
</div>
</div>
<div class="paragraph">
<p>шунингдек индексланганларини ҳам кўришингиз мумкин агарда <code>git diff --cached</code> ни ишлатсангиз:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git diff --cached
diff --git a/CONTRIBUTING.md b/CONTRIBUTING.md
index 3cb747f..e445e28 100644
--- a/CONTRIBUTING.md
+++ b/CONTRIBUTING.md
@@ -36,6 +36,10 @@ def main
          @commit.parents[0].parents[0].parents[0]
        end

+        run_code(x, 'commits 1') do
+          git.commits.size
+        end
+
        run_code(x, 'commits 2') do
          log = git.commits('master', 15)
          log.size</code></pre>
</div>
</div>
<div id="_git_difftool" class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="title">Git Diff ташқи дастгоҳларда</div>
<div class="paragraph">
<p>Биз китобда <code>git diff</code> командасини турли хил йўллар билан ишлатилишини кўришни давом этамиз. Ушбу фарқларга қарашни яна бошқа йўллари бор бўлиб, агар сиз график кўринишни хоҳласангиз ташқи дастурни фарқларни кўриш дастурига алмаштиришингиз керак бўлади. Агар сиз <code>git difftool</code> ни <code>git diff</code> нинг ўрнига алмаштирсангиз, сиз ушбу фарқларни Araxis, emerge, vimdiff ва бошқа кўпгина дастурлардаги каби кўринишда кўришингиз мумкин бўлади. <code>git difftool --tool-help</code> командасини чақириб сизнинг тизимингизда қайси биридан фойдаланиш имкони борлигини кўришингиз мумкин.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h3 id="_committing_changes">Ўзгаришларни фиксирлаш</h3>
<div class="paragraph">
<p>Энди индекс хоҳлаганиздек созланганидан кейин сиз ўзгаришларингизни фиксирлашингиз мумкин.
Эслаб қолинг ихтиёрий яратилган ёки ўзгартирилган файллар ва таҳрирлашдан сўнг сиз <code>git add</code> командасини ишлатмаган барча индексланмаган файллар бу фиксирлашга кирмайди.
Улар сизни дискингизда ўзгартирлган файллар орасида қолади.
Бизнинг ҳолатда сиз охирги бор <code>git status`командасини ишлатган вақтингизда кўрдингизки ҳаммаси индексланган.Бу эса сизни фиксирлашга тайёр эканлигингизни билдиради. (((git commands, status)))
Сизни ўзгаришларингизни фиксирлашни энг содда усули бу `git commit</code> командасини териш:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git commit</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ушбу команда сиз танлаган матн таҳрирловчисини очади.
(Таҳрирловчи тизим ўзгарувчиси $EDITOR билан ўрнатилади. Сиз ўз ёқтирганингизни <a href="{{< relurl "book/uz/v2/ch00/_getting_started" >}}">Иш бошланиши</a> бўлимда кўрсатилганидек <code>git config --global core.editor</code> командаси ёрдамида ўрнатишингиз мумкин бўлсада одатда бу vim ёки emacs бўлади.)</p>
</div>
<div class="paragraph">
<p>Таҳрирловчида қуйидаги матн намойиш этилган бўлади. (бу Vim нинг ойнасидан мисол):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code># Please enter the commit message for your changes. Lines starting
# with '#' will be ignored, and an empty message aborts the commit.
# On branch master
# Changes to be committed:
#	new file:   README
#	modified:   CONTRIBUTING.md
#
~
~
~
".git/COMMIT_EDITMSG" 9L, 283C</code></pre>
</div>
</div>
<div class="paragraph">
<p>Сиз кўришингиз мумкинки фиксирлашнинг шарҳи одатда <code>git status</code> командаси ишининг натижасининг шарҳларини ва юқоридан битта бўш сатрни ўз ичига олади.
Сиз ушбу шарҳларни ўчириб уни ўрнига ўз ҳабарларингизни киритишингиз ёки уларни нимани фиксирлаётганингизни англатиб туриши учун қолдиришингиз мумкин. (Нимани ўзгартирганингизни янада батафсилроқ эсга солиб туриши учун сиз аргумент <code>-v</code> ни <code>git commit</code> командасига беришингиз мумкин.
Бу шунга олиб келадики, изоҳда сиз киритган ўзгаришларни фарқи diff  ҳам киритилган бўлади. Шу тарзда сиз нималар қилинганини кўришингиз мумкин бўлади.)
Қачон сиз таҳрирлаш ойнасидан чиқиб кетар экансиз Git  сизнинг фиксирлаганингизни ушбу хабар билан яратади (изоҳлар ва diff ларни чиқаришни ўчирган ҳолда).</p>
</div>
<div class="paragraph">
<p>Бошқа усул  – сиз шарҳингизни командалар сатридан қуйидаги мисолда келтирилганидек <code>commit</code> командаси билан биргаликда –m параметридан сўнг ёзиб киритишингиз мумкин:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git commit -m "Story 182: Fix benchmarks for speed"
[master 463dc4f] Story 182: Fix benchmarks for speed
 2 files changed, 2 insertions(+)
 create mode 100644 README</code></pre>
</div>
</div>
<div class="paragraph">
<p>Шундай қилиб сиз ўзингизни биринчи фиксирлашингизни яратдингиз!
Сиз кўриб турибсизки фиксирлаш командаси сизга кўп бўлмаган ўз ҳақидаги маълумотни кўрсатди:қайси тармоққа сиз фиксирлашни амалга оширдингиз (<code>master</code>), ушбу фиксирлаш(<code>463dc4f</code>)нинг SHA-1 назорат йиғиндиси қанақа, қанча файлларга ўзгартириш киритилди ва шунингдек ушбу фиксирлашда қўшилган/ўчирилган сатрлар статистикасини.</p>
</div>
<div class="paragraph">
<p>Эслаб қолинг фиксирлаш сизни индексингизни суръатини сақлаб қолади. Нимани индекламаган бўлсангиз у ишчи каталогда ўзгартирилганлар орасида ётади; сиз яна битта фиксирлашни амалга ошириб ушбу ўзгаришларни омборга қўшишингиз мумкин. Ҳар сафар қачон сиз фиксирлашни амалга ошираркансиз сиз ўз лойиҳангизни суръатини сақлаб қўясиз, ушбу сақлашлар кейинчалик қайта тиклаш ёки хозирги ҳолат билан солиштириш учун хизмат қилади.</p>
</div>
</div>
<div class="sect3">
<h3 id="_индекслашларни_ўтказиб_юбориш">Индекслашларни ўтказиб юбориш</h3>
<div class="paragraph">
<p>
Индекслаш сиз хоҳлагандек фиксирлашлар учун анча қулайлик яратсада иш жараёнида сиз кутгандан кўпроқ вақт олиши билан бошқача таъсир кўрсатиши мумкин. Агар сизда индекслаш қадамини ташлаб кетиш хоҳиши бўлса, Git сизга оддий учулни тақдим этади.
<code>-a</code> параметрини <code>git commit</code> командасига қўшиш Git ни автоматик тарзда охирги фиксирлашдан кейинги кузатилаётган ҳар бир файлни индекслашга буюради ва сизга <code>git add</code> командасини бермасдан фиксирлаш жараёнини амалга ошириш имконини беради:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git status
On branch master
Changes not staged for commit:
  (use "git add &lt;file&gt;..." to update what will be committed)
  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)

    modified:   CONTRIBUTING.md

no changes added to commit (use "git add" and/or "git commit -a")
$ git commit -a -m 'added new benchmarks'
[master 83e38c7] added new benchmarks
 1 file changed, 5 insertions(+), 0 deletions(-)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Шунга эътибор берингки, ушбу ҳолатда сизга “CONTRIBUTING.md” файлини фиксирлашдан олдин <code>git add</code> командасини бериш шарт бўлмади.</p>
</div>
</div>
<div class="sect3">
<h3 id="_removing_files">Файлларни ўчириш</h3>
<div class="paragraph">
<p>
Git дан файлларни ўчириш учун уни кузатилаётган файллар орасидан (аниқроқ қилиб айтганда сизнинг индексингиздан ўчириш керак) ўчириш сўнг фиксирлашни амалга ошириш зарур.
 Буни <code>git rm</code> командаси амалга оширади.Ушбу команда файлингизни ишчи каталогингиздан ҳам ўчиради ва сиз уни кейинги сафар “кузатилаётганлар” орасида ҳам кўрмайсиз.</p>
</div>
<div class="paragraph">
<p>Агар сиз уни оддийгина ишчи каталогидан ўчириб қўя қолсангиз <code>git status</code> бериб биз у (“Ўзгартирилган лекин янгиланмаган” – индексланмаган деб ўқинг) секциясида кўрсатилаётганини кўрамиз:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ rm grit.gemspec
$ git status
On branch master
Changes not staged for commit:
  (use "git add/rm &lt;file&gt;..." to update what will be committed)
  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)

    deleted:    grit.gemspec

no changes added to commit (use "git add" and/or "git commit -a")</code></pre>
</div>
</div>
<div class="paragraph">
<p>Сўнг агар сиз <code>git rm</code> командасини берсангиз файлни ўчириш индексга тушади:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git rm grit.gemspec
rm 'grit.gemspec'
$ git status
On branch master
Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)

    deleted:    grit.gemspec</code></pre>
</div>
</div>
<div class="paragraph">
<p>Навбатдаги фиксирлашдан сўнг файл йўқ бўлиб кетади ва энди кузатилмайди. Агар сиз файлни ўчиришдан олдин уни ўзгартиришга ва индекслашга ҳам улгурган бўлсангиз у ҳолда –f параметри ёрдамида мажбурий ўчириш командасини беришингиз керак бўлади.   Бу хавфсизликни ошириш мақсадида қилинган бўлиб, Git дан қайта тиклаб бўлмайдиган  ва ҳалигача ҳолатлар суръатига қўшилмаган файлларни беҳосдан ўчиб кетишидан сақлайди.</p>
</div>
<div class="paragraph">
<p>Яна бошқа сиз бажаришни хоҳлашингиз мумкин бўлган жараён борки – бу файлни сизни ишчи каталогингизда қолдирган ҳолатда индексдан ўчириш. Бошқа сўзлар билан айтганда сиз сергак Git кузатувидан файлингизни озод қилиб винчестерингизда қолдиришингиз мумкин.
Бу асосан файлингизни <code>.gitignore</code> файлига киритишни ёддан чиқарганингизда ва адашиб бир қанча “лог” ёки компиляциялар бир қанча файлларини индекслаб қўйганингизда фойда беради.
 Буни амалга ошириш учун <code>--cached</code> опцияни ишлатинг:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git rm --cached README</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>git rm</code> командасига файлларни, каталогларни ёки glob-шаблонларни бериш мумкин. Бу сизга қуйидагича командаларни амалга ошириш имконини беради:
That means you can do things such as</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git rm log/\*.log</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note the backslash (<code>\</code>) in front of the <code>*</code>.
* дан олдинги тескари слешга(\) эътибор беринг. Бу зарур, чунки Git сиз киритган командаларингиз орасига ўз файллар номи билан ишлаш унсурини ишлатади. Ушбу команда <code>log/</code> .log кенгайтмали файлларни ўчиради. Ёки сиз бундай қилишингиз мумкин:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git rm \*~</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ушбу команда барча номи ~ белгиси билан тугайдиган барча файлларни ўчиради.</p>
</div>
</div>
<div class="sect3">
<h3 id="_git_mv">Файлларни бошқа жойга кўчириш</h3>
<div class="paragraph">
<p>
Бошқа талқинларни бошқарувчи тизимлар каби Git бевосита файлларнинг кўчирилишини кузатмайди. Агар сиз файлни номини алмаштирсангиз бу ҳақда Git да ҳеч қандай метамаълумот бўлмайди. Бироқ Git файлларни кўчириш жараёнини бўлиб ўтганини аниқлашда етарли даражада ақлли. Биз файлларни кўчиришни аниқлашни бироз кейинроқ кўрамиз.
Шу туфайли Git нинг mv  командаси бир қанча бошқачароқ кўринишга эга. Агар сиз файл номини алмаштиришни хоҳлаётган бўлсангиз сиз қуйидаги каби йўл тутишингиз мумкин:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git mv file_from file_to</code></pre>
</div>
</div>
<div class="paragraph">
<p>ва бу жуда яхши ишлайди. Аслида, агар сиз шунга ўхшаш командани бажариб сўнг ҳолатни қарасангиз, Git ни файл номини ўзгартириш жараёни бўлиб ўтган деб ҳисоблаётганини кўрасиз:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git mv README.md README
$ git status
On branch master
Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)

    renamed:    README.md -&gt; README</code></pre>
</div>
</div>
<div class="paragraph">
<p>Бироқ у қуйидаги командаларни бажарилишига эквивалент:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ mv README.md README
$ git rm README.md
$ git add README</code></pre>
</div>
</div>
<div class="paragraph">
<p>Git қайта номлаш бўлганлигини яққол бўлмаган ҳолатда аниқлайди ва файлни сиз бу усулда номлайсизми ёки mv командасини ишлатиб номлайсизми муҳим эмас. Ягона фарқ шуки mv – учта команданинг ўрнига битта команда сифатида ишлатилаябди ва бу қулайлик учун яратилган фукция. Муҳими бошқа нарса – файл номини ўзгартириш учун сиз ўзингизга қулай услубингизни қўллашингиз ва сўнг фиксирлашдан олдин add/rm  командасини ишлатишингиз мумкин.</p>
</div>
</div>
<div id="nav"><a href="{{< previous-section >}}">prev</a> | <a href="{{< next-section >}}">next</a></div>