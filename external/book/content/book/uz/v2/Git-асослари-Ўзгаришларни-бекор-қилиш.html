---
### DO NOT EDIT! Generated by script/update-book2.rb
category: book
section: documentation
subsection: book
sidebar: book
book:
  language_code: uz
  chapter:
    title: Git асослари
    number: 2
  section:
    title: Ўзгаришларни бекор қилиш
    number: 4
    cs_number: '2.4'
    previous: book/uz/v2/Git-асослари-Фиксирлашлар-тарихини-кўриш
    next: book/uz/v2/Git-асослари-Узоқ-масофадаги-омборлар-билан-ишлаш
title: Git - Ўзгаришларни бекор қилиш
url: "/book/uz/v2/Git-асослари-Ўзгаришларни-бекор-қилиш.html"
---
<h2 id="_undoing">Ўзгаришларни бекор қилиш</h2>
<div class="paragraph">
<p>Ихтиёрий босқичда ниманидир бекор қилиш зарурати пайдо бўлиши мумкин. Бу ерда биз киритилган ўзгаришларни бекор қилишниниг асосий бир нечта ускуналарини кўриб ўтамиз.
Эҳтиёт бўлинг, ҳар доим ҳам бекор қилишларни бекор қилиб бўлмайди.</p>
</div>
<div class="paragraph">
<p>Бу Git даги ниманидир нотўғри бажарсангиз маълумотларингизни йўқотиб қўйишингиз мумкин бўлган ўзи кўп бўлмаган жойлардан бири.</p>
</div>
<div class="paragraph">
<p>Кўп такрорланадиган бекор қилишни асосан бирор файлни қўшишни унутиб ёки бошқача изоҳ киритиб фиксирлашни бажарганингизда амалга оширишингизга тўғри келади. Агар сизга ушбу фиксирлашни яна бир бор амалга ошириш керак бўлса, у ҳолда commit командасини <code>--amend</code> параметри билан беришингиз мумкин бўлади:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git commit --amend</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ушбу команда индексни олиб, уни фиксирлаш учун ишлатади. Агар охирги фиксирлашдан сўнг ҳеч қандай ўзгаришлар бўлмаган бўлса (масалан, сиз келтирилган командани бирданига олдингисидан сўнг ишга туширган бўлсангиз), у ҳолда лойиҳа ҳолати командада киритганингиздек бўлади.</p>
</div>
<div class="paragraph">
<p>Фиксирлашларнинг шарҳлари учун яна ўша таҳрирловчи ойна пайдо бўлади, лекин энди охирги фиксирлашга шарҳ киритилган ҳолатда. Сиз ушбу шарҳни одатдагидай таҳрирлашингиз мумкин ва у аввалгисини ўрнига ёзилади.</p>
</div>
<div class="paragraph">
<p>Мисол учун, агар сиз ушбу фиксирлашга қўшилиши керак бўлган файлдаги ўзгаришларни индекслашни унутганингизни сезган бўлсангиз, у ҳолда сиз қуйидаги каби йўл тутишингиз мумкин:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git commit -m 'initial commit'
$ git add forgotten_file
$ git commit --amend</code></pre>
</div>
</div>
<div class="paragraph">
<p>Учта команда биргаликда битта фиксирлашни беради. Иккинчи фиксирлаш биринчи фиксирлашни натижасини алмаштиради.</p>
</div>
<div class="sect3">
<h3 id="_unstaging">Файлларни индекслашни бекор қилиш</h3>
<div class="paragraph">
<p>Навбатдаги икки бўлимда биз қандай қилиб индексда ва ишчи каталогда ўзгариш киритишни намойиш этамиз. Ёқимлиси шуки, ушбу икки нарсани ҳолатини аниқлаш учун қўлланилувчи команда улардаги ўзгаришларни бекор қилиш ҳақидаги эслатмани ҳам кўрсатади. Мисол келтирамиз. Айтайлик, сиз иккита файлга ўзгариш киритдингиз ва уларни иккита алоҳида фиксирлаш тарзида ёзишни хоҳлаган эдингиз, бироқ адашиб <code>git add *</code> командасини териб иккала файлни ҳам индекслаб қўйдингиз.
Қандай қилиб энди икки файлдан бири учун индекслашни бекор қилиш мумкин?
<code>git status</code> командси сизга бу ҳақда эслатади:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git add .
$ git status
On branch master
Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)

    renamed:    README.md -&gt; README
    modified:   CONTRIBUTING.md</code></pre>
</div>
</div>
<div class="paragraph">
<p>“Changes to be committed” ёзувидан кейин индексни олиб ташлаш учун <code>git reset HEAD &lt;file&gt;...</code> ни қўллаш кераклиги ёзиб қўйилган.
Шу сабабли келинг ушбу маслаҳатга амал қилган ҳолда <code>CONTRIBUTING.md</code> файлини индекслашдан олиб ташлаймиз:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git reset HEAD CONTRIBUTING.md
Unstaged changes after reset:
M	CONTRIBUTING.md
$ git status
On branch master
Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)

    renamed:    README.md -&gt; README

Changes not staged for commit:
  (use "git add &lt;file&gt;..." to update what will be committed)
  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)

    modified:   CONTRIBUTING.md</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ушбу команда бироз ғалатироқ бўлсада лекин у ишлаябди.
<code>CONTRIBUTING.md</code> файли ўзгартирилган бироқ энди у яна индексланмаганлар қаторида.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p><code>git reset</code> командасини <code>--hard</code> билан биргаликда ишлатиш хавфли бўлиб, файл сизни ишчи каталогингизга тегишли бўлмай қолади. <code>git reset</code> командасини параметрсиз бериш хавфли эмас у фақат индексланганлар соҳаси билан ишлайди.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Айни вақтда <code>git reset</code> командаси ҳақида билишингиз керак бўлганлари мана шулар. Би бу <code>reset</code> ҳақидаги қизиқарли батафсилроқ маълумотларни <a href="{{< relurl "book/uz/v2/ch00/_git_reset" >}}">Reset Demystified</a> да келтирамиз.</p>
</div>
</div>
<div class="sect3">
<h3 id="_файл_ўзгаришини_бекор_қилиш">Файл ўзгаришини бекор қилиш</h3>
<div class="paragraph">
<p>Агар сиз <code>CONTRIBUTING.md</code> файлидаги ўзгаришни қолдиришни хоҳламасангизчи?
Қандай қилиб ўзгаришни тез бекор қилиб уни ўзгаришдан олдинги охирги фиксирлашдаги ҳолатга (ёки бошланғич клонлаш бажарилган ёҳуд яна бир бошқа амал бажарилиб файлни ишчи каталогга тушган ҳолатига) келтириш мумкин?
Бахтимизга, <code>git status</code> командаси буни ҳам қандай қилиш мумкинлигини айтади.
Энг охирги мисолда чиқарилган натижада индексланмаган соҳа қуйидагича кўринади:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">Changes not staged for commit:
  (use "git add &lt;file&gt;..." to update what will be committed)
  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)

    modified:   CONTRIBUTING.md</code></pre>
</div>
</div>
<div class="paragraph">
<p>Бу ерда қилинган ўзгаришларни қандай бекор қилиш кераклиги ҳақида етарли даражада айтилган.
Келинг нима деб ёзилган бўлса шуни қиламиз:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout -- CONTRIBUTING.md
$ git status
On branch master
Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)

    renamed:    README.md -&gt; README</code></pre>
</div>
</div>
<div class="paragraph">
<p>Сиз кўриб турганингиздек ўзгаришлар бекор қилинди.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>Сиз <code>git checkout -- [file]</code> команда хавфли эканлигини тушунишингиз керак: файлда қилган барча ўзгаришларингиз йўқ бўлиб кетди – сиз уни устига бошқа файлни нусҳаладингиз.
Ҳечқачон файл сизга керак эмаслигига тўлиқ ишонч хосил қилмасдан туриб, ушбу командани ишлатманг!</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Агар уни сизга ҳалақит бермаслигини хоҳласангиз, биз яширишни (stash) ва тармоқланишни <a href="{{< relurl "book/uz/v2/ch00/_git_branching" >}}">Git да тармоқланиш</a> бўлимда кўриб ўтамиз. Ушбу услублар кўпроқ мақтовга созовордир.</p>
</div>
<div class="paragraph">
<p>Ёдда тутинг Git да нимаики фиксирлашни қисми бўлса деярли ҳар доим уни тиклаш мумкин.
Ҳатто бошқа тармоқда турган, ўчирилган ва <code>--amend</code> ёрдамида қайта ёзилган фиксирлашлар қайта тикланиши мумкин (маълумотларни тиклаш учун <a href="{{< relurl "book/uz/v2/ch00/_data_recovery" >}}">Data Recovery</a> бўлимга қаранг).
Бунга қарамасдан фиксирлашга киритилмаганларнинг барчасини энди қайта кўрмайсиз.</p>
</div>
</div>
<div id="nav"><a href="{{< previous-section >}}">prev</a> | <a href="{{< next-section >}}">next</a></div>