---
### DO NOT EDIT! Generated by script/update-book2.rb
category: book
section: documentation
subsection: book
sidebar: book
book:
  language_code: sr
  chapter:
    title: Гит на серверу
    number: 4
  section:
    title: Постављање програма Гит на сервер
    number: 2
    cs_number: '4.2'
    previous: book/sr/v2/Гит-на-серверу-Протоколи
    next: book/sr/v2/Гит-на-серверу-Генерисање-јавног-SSH-кључа
title: Git - Постављање програма Гит на сервер
url: "/book/sr/v2/Гит-на-серверу-Постављање-програма-Гит-на-сервер.html"
---
<h2 id="_getting_git_on_a_server">Постављање програма Гит на сервер</h2>
<div class="paragraph">
<p>Сада ћемо показати како се подешава Гит сервис тако да извршава ове протоколе на вашем сопственом серверу.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Белешка</div>
</td>
<td class="content">
<div class="paragraph">
<p>Овде ћемо демонстрирати команде и кораке неопходне ради основне, поједностављене инсталације на серверу базираном на Линуксу, мада је могуће покренути ове сервисе и на мекОС или Виндоуз серверима.
Заправо, постављање продукционог сервера унутар ваше властите инфраструктуре ће несумњиво подразумевати и неке разлике по питању сигурносних мера или алата које пружа оперативни систем, али надамо се да ће вам ово дати општу слику о томе шта треба урадити.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Да бисте иницијално поставили било који Гит сервер, постојећи репозиторијум морате прво да извезете у нови огољени репозиторијум — репозиторијум који не садржи радни директоријум.
У општем случају се то ради једноставно.
Да бисте клонирали свој репозиторијум и направили нови огољени репозиторијум, можете да извршите команду <code>clone</code> уз опцију <code>--bare</code>.
По конвенцији, огољени репозиторијуми се завршавају са <code>.git</code>, на пример:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git clone --bare my_project my_project.git
Cloning into bare repository 'my_project.git'...
done.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Сада би требало да имате копију података из Гит директоријума у директоријуму <code>my_project.git</code>.</p>
</div>
<div class="paragraph">
<p>Ово је отприлике еквивалентно са следећим:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cp -Rf my_project/.git my_project.git</code></pre>
</div>
</div>
<div class="paragraph">
<p>Постоји неколико малих разлика у конфигурационом фајлу; али за ову сврху, у питању је довољно приближна алтернатива.
Ова команда узима сâм Гит репозиторијум, без радном директоријума, и креира директоријум намењен посебно њему.</p>
</div>
<div class="sect3">
<h3 id="_bare_repo">Постављање огољеног репозиторијума на сервер</h3>
<div class="paragraph">
<p>Сада када имате огољену копију репозиторијума, све што треба да урадите јесте да је окачите на сервер и поставите протоколе.
Рецимо да сте поставили сервер <code>git.example.com</code> коме имате SSH приступ и све своје Гит репозиторијуме желите да ускладиштите у директоријум <code>/srv/git</code>.
Под претпоставком да <code>/srv/git</code> постоји на том серверу, нови репозиторијум можете да подесите тако што ћете тамо прекопирати свој огољени репозиторијум:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ scp -r my_project.git user@git.example.com:/srv/git</code></pre>
</div>
</div>
<div class="paragraph">
<p>Сада и други корисници који имају SSH приступ истом серверу за читање директоријума <code>/srv/git</code> могу да клонирају ваш репозиторијум извршавањем:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git clone user@git.example.com:/srv/git/my_project.git</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ако корисник изврши SSH приступ серверу и има приступ писања у директоријум <code>/srv/git/my_project.git</code>,
аутоматски ће имати и привилегију да гурају измене.</p>
</div>
<div class="paragraph">
<p>Програм Гит ће аутоматски додати групне дозволе за упис у репозиторијум ако покренете команду <code>git init</code> уз опцију <code>--shared</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ ssh user@git.example.com
$ cd /srv/git/my_project.git
$ git init --bare --shared</code></pre>
</div>
</div>
<div class="paragraph">
<p>Видите колико је једноставно узети Гит репозиторијум, креирати његову огољену верзију и поставити је на сервер коме ви и ваши сарадници имате SSH приступ.
Сада сте спремни за сарадњу над истим пројектом.</p>
</div>
<div class="paragraph">
<p>Важно је да приметити да је ово буквално све што треба да урадите ако желите да покренете употребљив Гит сервер коме неколико људи може да приступи — само додајте налоге који поседују SSH приступ на сервер и поставите огољени репозиторијум негде где сви ти корисницима имају приступ за читање и упис.
Спремни сте да кренете — ништа више вам није потребно.</p>
</div>
<div class="paragraph">
<p>У следећих неколико одељака, видећете како да начините нека софистициранија подешавања.
Ова дискусија ће показати и начин којим не морате да креирате корисничке налоге за сваког корисника, затим додавање јавног приступа за читање репозиторијумима, подешавање веб корисничких интерфејса и још тога.
Ипак, имајте на уму да вам је за сарадњу неколико људи на приватном пројекту <em>потребно</em> да имате само SSH сервер и огољени репозиторијум.</p>
</div>
</div>
<div class="sect3">
<h3 id="_мали_системи">Мали системи</h3>
<div class="paragraph">
<p>Ако сте мала група људи или једноставно испробавате програм Гит за своју организацију и имате само неколико програмера, ствари за вас могу бити врло једноставне.
Један од најкомпликованијих аспеката подешавања Гит сервера је управљање корисницима.
Ако желите да неки репозиторијуми неким корисницима буду доступни само за читање, а другима и за читање и за упис, подешавање приступа и дозвола може бити нешто компликованије.</p>
</div>
<div class="sect4">
<h4 id="_ssh_приступ">SSH приступ</h4>
<div class="paragraph">
<p>
Ако имате сервер коме сви програмери већ имају SSH приступ, у општем случају је најједноставније да прво тамо поставите први репозиторијум, јер скоро ништа више није потребно да урадите (као што смо видели у претходном одељку).
Ако желите дозволе сложенијег типа контроле приступа над репозиторијумима, можете да их обрадите користећи уобичајене дозволе фајл система које поседује оперативни систем вашег сервера.</p>
</div>
<div class="paragraph">
<p>Ако своје репозиторијуме желите да поставите на сервер који нема налоге за сваку особу из тима којој желите да доделите права уписа, онда морате да подесите SSH за сваког од њих.
Претпостављамо да ако имате сервер на којем ово можете остварити, већ имате инсталиран SSH сервер и да је то начин којим приступате серверу.</p>
</div>
<div class="paragraph">
<p>Постоји неколико начина на које можете свима из тима дозволити приступ.
Први је да подесите налоге за свакога, што је просто, али може бити заморно.
Можда не желите да покрећете <code>adduser</code> (или могућу алтернативу <code>useradd</code>) и да морате постављати привремене шифре за сваког новог корисника.</p>
</div>
<div class="paragraph">
<p>Друга метода је да на машини креирате јединственог корисника ’git’, па да питате сваког корисника који има приступ за упис на сервер да вам пошаље свој јавни SSH кључ и да додате тај кључ у фајл <code>~/.ssh/authorized_keys</code> тог новог корисника ’git’.
Сада сви могу да приступе машини кроз ’git’ налог.
Ово ни на који начин не утиче на комитоване податке — SSH корисник који се повезује никако не утиче на комитове које бележите.</p>
</div>
<div class="paragraph">
<p>Други начин да ово урадите јесте да подесите ваш SSH сервер тако да аутентификацију ради помоћу LDAP сервера или неког другог централизованог извора аутентификације ког сте већ подесили.
Све док сваки корисник има приступ машини преко командног окружења, било који механизам за аутентификацију преко SSH који вам пада на памет би требало да функционише.</p>
</div>
</div>
</div>
<div id="nav"><a href="{{< previous-section >}}">prev</a> | <a href="{{< next-section >}}">next</a></div>