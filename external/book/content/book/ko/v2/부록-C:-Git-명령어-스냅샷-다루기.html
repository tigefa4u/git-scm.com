---
### DO NOT EDIT! Generated by script/update-book2.rb
category: book
section: documentation
subsection: book
sidebar: book
book:
  language_code: ko
  chapter:
    title: '부록 C: Git 명령어'
    number: 3
  section:
    title: 스냅샷 다루기
    number: 3
    cs_number: A3.3
    previous: book/ko/v2/부록-C:-Git-명령어-프로젝트-가져오기와-생성하기
    next: book/ko/v2/부록-C:-Git-명령어-Branch와-Merge
title: Git - 스냅샷 다루기
url: "/book/ko/v2/부록-C:-Git-명령어-스냅샷-다루기.html"
---
<h2 id="_스냅샷_다루기">스냅샷 다루기</h2>
<div class="paragraph">
<p>Stage 하고 커밋하는 정도의 아주 기본적인 워크플로는 명령어 몇 개만 알면 된다.</p>
</div>
<div class="sect3">
<h3 id="_git_add">git add</h3>
<div class="paragraph">
<p><code>git add</code> 명령은 워킹 디렉토리에서 Staging Area(“index”)로 컨텐트를 추가하는 명령어다.
<code>git commit</code> 명령은 오로지 Staging Area만 바라보기 때문에 <code>git add</code> 명령으로 커밋할 스냅샷을 잘 다듬어야 한다.</p>
</div>
<div class="paragraph">
<p>이 명령은 매우 중요한 명령어라서 이 책에서 수십 번도 더 언급한다. 여기서 어떻게 사용하는지 잘 설명한 곳을 찾아보자.</p>
</div>
<div class="paragraph">
<p><code>git add</code> 는 <a href="{{< relurl "book/ko/v2/ch00/_tracking_files" >}}">파일을 새로 추적하기</a>에서 자세히 설명한다.</p>
</div>
<div class="paragraph">
<p>이 명령는 충돌 시에도 필요하다. <a href="{{< relurl "book/ko/v2/ch00/_basic_merge_conflicts" >}}">충돌의 기초</a>에서 어떻게 사용하는지 설명한다.</p>
</div>
<div class="paragraph">
<p><a href="{{< relurl "book/ko/v2/ch00/_interactive_staging" >}}">대화형 명령</a>에서 수정한 파일 일부분을 대화형으로 Stage 하는 방법을 보여준다.</p>
</div>
<div class="paragraph">
<p>마지막으로 이 명령이 내부적으로 어떻게 동작하는지 이해할 수 있도록 <a href="{{< relurl "book/ko/v2/ch00/_tree_objects" >}}">Tree 개체</a>에서 저수준 명령어로 따라 하는 예를 보여준다.</p>
</div>
</div>
<div class="sect3">
<h3 id="_git_status">git status</h3>
<div class="paragraph">
<p><code>git status</code> 명령은 워킹 디렉토리와 Staging Aread의 상태를 보여준다.
Modified 상태이거나 Unstaged 상태인 파일이 무엇인지 Staged 상태이지만 아직 커밋하지 않은 파일은 무엇인지 보여준다.
Staging Area에 파일을 넣고 꺼내는 방법에 대한 힌트도 보여준다.</p>
</div>
<div class="paragraph">
<p><code>git status</code> 명령은 <a href="{{< relurl "book/ko/v2/ch00/_checking_status" >}}">파일의 상태 확인하기</a>에서 간결하게 설명한다.
이 명령은 이 책에서 아주 많이 사용했지만 여기 설명을 벗어나지 않는다.</p>
</div>
</div>
<div class="sect3">
<h3 id="_git_diff">git diff</h3>
<div class="paragraph">
<p><code>git diff</code> 명령은 두 트리 개체의 차이를 보고 싶을 때 사용한다. 워킹 디렉토리와 Staging Area를 비교할 수 있고(<code>git diff</code>) Staing Area와 마지막 커밋을 비교할 수 있다(<code>git diff --staged</code>). 그리고 두 커밋을 비교할 수 있다(<code>git diff master branchB</code>).</p>
</div>
<div class="paragraph">
<p><code>git diff</code> 는 <a href="{{< relurl "book/ko/v2/ch00/_git_diff_staged" >}}">Staged와 Unstaged 상태의 변경 내용을 보기</a>에서 처음 설명한다. Staged 상태인 내용이 무엇이고 반대 상태인 내용은 무엇인지 비교하는 법을 설명한다.</p>
</div>
<div class="paragraph">
<p><a href="{{< relurl "book/ko/v2/ch00/_commit_guidelines" >}}">커밋 가이드라인</a>에서 <code>--check</code> 옵션으로 공백문자가 잘못 입력되지 않았는지 확인하는 방법을 소개한다.</p>
</div>
<div class="paragraph">
<p><a href="{{< relurl "book/ko/v2/ch00/_what_is_introduced" >}}">무슨 내용인지 확인하기</a>에서 두 브랜치를 효율적으로 비교할 수 있는 <code>git diff A…​B</code> 문법을 설명한다.</p>
</div>
<div class="paragraph">
<p><a href="{{< relurl "book/ko/v2/ch00/_advanced_merging" >}}">고급 Merge</a>을 보면 <code>-b</code> 옵션으로 공백문자는 무시하고 비교하는 것과 <code>--theirs</code>, <code>--ours</code>, <code>--base</code> 옵션으로 충돌 난 파일의 상태를 비교하는 방법이 나와 있다.</p>
</div>
<div class="paragraph">
<p>마지막으로 <a href="{{< relurl "book/ko/v2/ch00/_starting_submodules" >}}">서브모듈 시작하기</a>에서 서브모듈의 변경 내용을 비교하는 <code>--submodule</code> 옵션도 설명한다.</p>
</div>
</div>
<div class="sect3">
<h3 id="_git_difftool_2">git difftool</h3>
<div class="paragraph">
<p><code>git difftool</code> 명령은 단순히 외부 diff 도구를 실행해준다. <code>git diff</code> 는 Git에 들어 있는 기능을 사용하는 것이고 외부 diff 도구로 두 트리를 비교하고 싶을 때 사용한다.</p>
</div>
<div class="paragraph">
<p>이 명령은 <a href="{{< relurl "book/ko/v2/ch00/_git_diff_staged" >}}">Staged와 Unstaged 상태의 변경 내용을 보기</a>에서 설명한다.</p>
</div>
</div>
<div class="sect3">
<h3 id="_git_commit">git commit</h3>
<div class="paragraph">
<p><code>git commit</code> 명령은 <code>git add</code> 로 Staging Area에 넣은 모든 파일을 커밋한다. 데이터베이스에는 하나의 스냅샷으로 기록된다. 그리고 현 브랜치가 새 커밋을 가리키게 한다.</p>
</div>
<div class="paragraph">
<p>커밋에 대한 기본적인 내용은 <a href="{{< relurl "book/ko/v2/ch00/_committing_changes" >}}">변경사항 커밋하기</a>에서 다룬다.
<code>-a</code> 플래그를 주고 <code>git add</code> 를 건너뛰고 바로 커밋하는 것과 <code>-m</code> 으로 커밋 메시지를 파라미터로 넘기는 방법도 보여준다.</p>
</div>
<div class="paragraph">
<p>가장 최근 커밋을 수정하는 <code>--amend</code> 옵션은 <a href="{{< relurl "book/ko/v2/ch00/_undoing" >}}">되돌리기</a>에서 설명한다.</p>
</div>
<div class="paragraph">
<p><a href="{{< relurl "book/ko/v2/ch00/_git_branches_overview" >}}">브랜치란 무엇인가</a>을 보면 <code>git commit</code> 이 무엇을 하는지 왜 그렇게 하는지 설명한다.</p>
</div>
<div class="paragraph">
<p><code>-S</code> 플래그로 커밋에 서명하는 방법은 <a href="{{< relurl "book/ko/v2/ch00/_signing_commits" >}}">커밋에 서명하기</a>에서 설명한다.</p>
</div>
<div class="paragraph">
<p>마지막으로 <a href="{{< relurl "book/ko/v2/ch00/_git_commit_objects" >}}">커밋 개체</a>에서 <code>git commit</code> 명령이 내부적으로 하는 일이 무엇이고 실제로 어떻게 구현돼 있는지 설명한다.</p>
</div>
</div>
<div class="sect3">
<h3 id="_git_reset_2">git reset</h3>
<div class="paragraph">
<p><code>git reset</code> 명령은 되돌리는(Undo) 명령이다. 단어가 의미하는 그대로라고 생각하면 된다.
<code>HEAD</code> 포인터를 옮기는 것과 관련돼 있고 Staging Area(<code>index</code>)를 되돌릴 수 있고 <code>--hard</code> 옵션을 주면 워킹 디렉토리도 되돌린다.
<code>--hard</code> 옵션을 잘못 사용하면 작업물을 잃어버릴 수도 있기 때문에 이 명령을 잘 이해하고 있어야 한다.</p>
</div>
<div class="paragraph">
<p><code>git reset</code> 은 무엇보다도 <code>git add</code> 로 추가한 파일을 Unstage 하는데 사용한다. <a href="{{< relurl "book/ko/v2/ch00/_unstaging" >}}">파일 상태를 Unstage로 변경하기</a>에서 설명한다.</p>
</div>
<div class="paragraph">
<p><a href="{{< relurl "book/ko/v2/ch00/_git_reset" >}}">Reset 명확히 알고 가기</a>에서 이 명령을 전체적으로 자세히 설명한다.</p>
</div>
<div class="paragraph">
<p><code>git reset --hard</code> 명령으로 충돌 시 Merge를 취소할 수 있다. <code>git merge --abort</code> 로도 같은 일을 할 수 있는데 이 명령은 <code>git reset</code> 명령어의 Wrapper다. 이 내용은 <a href="{{< relurl "book/ko/v2/ch00/_abort_merge" >}}">Merge 취소하기</a>에서 설명한다.</p>
</div>
</div>
<div class="sect3">
<h3 id="_git_rm">git rm</h3>
<div class="paragraph">
<p><code>git rm</code> 명령은 Staging Area나 워킹 디렉토리에 있는 파일을 삭제하는 데 사용한다.
<code>git add</code> 명령과 비슷하게 파일의 삭제를 Stage 하는 기능이다.</p>
</div>
<div class="paragraph">
<p><a href="{{< relurl "book/ko/v2/ch00/_removing_files" >}}">파일 삭제하기</a>에서 <code>git rm</code> 명령을 자세히 설명한다. Staging Area와 워킹 디렉토리 모두에서 파일을 삭제하는 방법과 <code>--cached</code> 옵션을 주고 Staging Area에 있는 파일만 지우고 워킹 디렉토리의 파일은 남겨두는 방법도 설명한다.</p>
</div>
<div class="paragraph">
<p>대부분은 <a href="{{< relurl "book/ko/v2/ch00/_removing_objects" >}}">개체 삭제</a>에서 설명한 대로 쓰지만, 이 책에서는 다르게 사용한 예도 있다. <code>git filter-branch</code> 명령을 실행할 때 <code>git rm</code> 명령에 <code>--ignore-unmatch</code> 옵션을 주고 사용한다. 이 옵션은 삭제하려는 파일이 없을 때 에러가 나지 않게 해준다.
스크립트를 작성할 때는 유용하다.</p>
</div>
</div>
<div class="sect3">
<h3 id="_git_mv_2">git mv</h3>
<div class="paragraph">
<p><code>git mv</code> 명령은 파일을 옮기고(이름을 변경하고) 나서 새 파일에 <code>git add</code> 명령을 실행하고 이전 파일에는 <code>git rm</code> 을 실행시켜주는 명령이다.</p>
</div>
<div class="paragraph">
<p>이 명령은 <a href="{{< relurl "book/ko/v2/ch00/_git_mv" >}}">파일 이름 변경하기</a>에서 다룬다.</p>
</div>
</div>
<div class="sect3">
<h3 id="_git_clean_2">git clean</h3>
<div class="paragraph">
<p><code>git clean</code> 명령은 워킹 디렉토리에서 필요없는 파일을 삭제하는 명령이다.
이 명령으로 충돌로 생긴 파일이나 빌드 아티팩트 파일을 삭제할 때 편리하다.</p>
</div>
<div class="paragraph">
<p>이 명령을 사용하는 상황과 필요한 옵션은 <a href="{{< relurl "book/ko/v2/ch00/_git_clean" >}}">워킹 디렉토리 청소하기</a>에서 다룬다.</p>
</div>
</div>
<div id="nav"><a href="{{< previous-section >}}">prev</a> | <a href="{{< next-section >}}">next</a></div>