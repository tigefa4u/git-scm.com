---
### DO NOT EDIT! Generated by script/update-book2.rb
category: book
section: documentation
subsection: book
sidebar: book
book:
  language_code: uk
  chapter:
    title: Git зсередини
    number: 10
  section:
    title: Змінні середовища
    number: 8
    cs_number: '10.8'
    previous: book/uk/v2/Git-зсередини-Супроводження-та-відновлення-даних
    next: book/uk/v2/Git-зсередини-Підсумок
title: Git - Змінні середовища
url: "/book/uk/v2/Git-зсередини-Змінні-середовища.html"
---
<h2 id="_змінні_середовища">Змінні середовища</h2>
<div class="paragraph">
<p>Git завжди виконується в командній оболонці <code>bash</code> і використовує  чимало змінних середовища командної оболонки, щоб визначати свою поведінку.
Інколи буває зручно знати ці змінні та як вони можуть бути використані, щоб змусити Git поводитись так, як вам потрібно.
Це не вичерпний перелік всіх змінних середовища, на які Git звертає увагу, але ми розглянемо найбільш корисні з них.</p>
</div>
<div class="sect3">
<h3 id="_глобальна_поведінка">Глобальна поведінка</h3>
<div class="paragraph">
<p>Дещо з глобальної поведінки Git як комп’ютерної програми, залежить від змінних середовища.</p>
</div>
<div class="paragraph">
<p><strong><code>GIT_EXEC_PATH</code></strong> визначає, де Git шукає свої підпрограми (такі як <code>git-commit</code>, <code>git-diff</code> та інші).
  Ви можете переглянути поточні параметри, виконавши <code>git --exec-path</code>.</p>
</div>
<div class="paragraph">
<p><strong><code>HOME</code></strong> зазвичай не вважається змінною, яку можна пристосовувати та змінювати (занадто багато інших речей залежать від неї), але це те місце, де Git шукає файл загальних налаштувань.
  Якщо ви бажаєте мати справді портативну інсталяцію Git разом з загальними налаштуваннями, ви можете перезаписати <code>HOME</code> в портативному профілі командної оболонки Git.</p>
</div>
<div class="paragraph">
<p><strong><code>PREFIX</code></strong> аналогічно попередній, але для загальносистемних налаштувань.
  Git шукає цей файл з налаштуваннями в <code>$PREFIX/etc/gitconfig</code>.</p>
</div>
<div class="paragraph">
<p><strong><code>GIT_CONFIG_NOSYSTEM</code></strong>, якщо задано, блокує використання файлу з загальносистемними налаштуваннями.
  Це є корисним у випадку, якщо ваші системні налаштування конфліктують з вашими командами, але ви не маєте в системі достатньо прав, щоб їх змінити або видалити.</p>
</div>
<div class="paragraph">
<p><strong><code>GIT_PAGER</code></strong> визначає програму, що використовується для показу багатосторінкового виведення в командному рядку.
Якщо не задано, то використовується змінна <code>PAGER</code> як запасний варіант.</p>
</div>
<div class="paragraph">
<p><strong><code>GIT_EDITOR</code></strong> — це програма-редактор, яку Git стартує, коли користувачу потрібно змінити якийсь текст (наприклад повідомлення коміту).
Якщо не задано, використовується змінна <code>EDITOR</code>.</p>
</div>
</div>
<div class="sect3">
<h3 id="_місцезнаходження_сховищ">Місцезнаходження сховищ</h3>
<div class="paragraph">
<p>Git використовує декілька змінних середовища, щоб визначити, як він взаємодіятиме з поточним сховищем.</p>
</div>
<div class="paragraph">
<p><strong><code>GIT_DIR</code></strong> — це місцезнаходження теки <code>.git</code>.
Якщо цю змінну не задано, Git проходить по дереву директорій, поки не отримає <code>~</code> чи <code>/</code>, шукаючи щокроку директорію <code>.git</code>.</p>
</div>
<div class="paragraph">
<p><strong><code>GIT_CEILING_DIRECTORIES</code></strong> контролює поведінку процесу пошуку <code>.git</code> директорії.
Якщо ви працюєте з директоріями, які завантажуються надто повільно (знаходяться на стрічковому накопичувачі, чи передаються через повільну мережу), ви мабуть захочете, щоб Git зупинявся раніше ніж зазвичай, особливо в процесі запуску Git для створення запиту командного рядка.</p>
</div>
<div class="paragraph">
<p><strong><code>GIT_WORK_TREE</code></strong> — це місцезнаходження кореня локальної робочої директорії, якщо сховище не є чистим. Якщо --git-dir чи GIT_DIR встановлені, проте ані --work-tree, ані GIT_WORK_TREE, ані core.worktree не встановлені, то поточна тека вважається верхнім рівнем вашого робочого дерева.</p>
</div>
<div class="paragraph">
<p><strong><code>GIT_INDEX_FILE</code></strong> — це шлях до індексного файлу (тільки для сховищ, які не є чистими).</p>
</div>
<div class="paragraph">
<p><strong><code>GIT_OBJECT_DIRECTORY</code></strong> може використовуватись для вказівки місцезнаходження директорії з об’єктами, котра зазвичай розташована в <code>.git/objects</code>.</p>
</div>
<div class="paragraph">
<p><strong><code>GIT_ALTERNATE_OBJECT_DIRECTORIES</code></strong> — це список розділений двокрапкою (відформатований як <code>/dir/one:/dir/two:…</code>) котрий вказує Git, де шукати об’єкти, якщо вони відсутні в <code>GIT_OBJECT_DIRECTORY</code>.
Якщо трапилось так, що у вас є багато проектів з файлами великого розміру та однакового вмісту, цю змінну можна використати, щоб уникнути зберігання численних копій таких файлів.</p>
</div>
</div>
<div class="sect3">
<h3 id="_специфікації_файлів">Специфікації файлів</h3>
<div class="paragraph">
<p>Специфікації шляхів (pathspecs) визначають, як задаються шляхи до різноманітних компонентів Git включно з використанням шаблонів заміни (джокер *).
Ці специфікації зокрема використовуються у файлі <code>.gitignore</code>, а також у командному рядку (<code>git add *.c</code>).</p>
</div>
<div class="paragraph">
<p><strong><code>GIT_GLOB_PATHSPECS</code> та <code>GIT_NOGLOB_PATHSPECS</code></strong> контролюють типову поведінку шаблонів заміни в специфікаціях шляхів.
Якщо <code>GIT_GLOB_PATHSPECS</code> встановлено в 1, то символи шаблону заміни працюють саме як шаблон заміни (що є типовою поведінкою); якщо ж <code>GIT_NOGLOB_PATHSPECS</code> встановлено в 1, то символи шаблону заміни відповідають тільки своїм символам, а це означає, що шаблон <code>*.c</code> <em>відповідає тільки файлу з назвою</em> “*.c”, а не будь-якому файлу з розширенням <code>.c</code>.
Ви можете змінити цю задану поведінку символів шаблону заміни в кожному окремому випадку за допомогою запису префіксів <code>:(glob)</code> або <code>:(literal)</code> в шаблоні шляху, як наприклад в <code>:(glob)*.c</code>.</p>
</div>
<div class="paragraph">
<p><strong><code>GIT_LITERAL_PATHSPECS</code></strong> вимикає обидві вище зазначені поведінки специфікаторів шляху; як символи шаблону заміни, так і спеціальні префікси не працюватимуть.</p>
</div>
<div class="paragraph">
<p><strong><code>GIT_ICASE_PATHSPECS</code></strong> встановлює всі специфікатори шляхів нечутливими до регістра літер.</p>
</div>
</div>
<div class="sect3">
<h3 id="_фіксація_комітів">Фіксація комітів</h3>
<div class="paragraph">
<p>Завершальне створення об’єкта коміту Git зазвичай робиться за допомогою <code>git-commit-tree</code>, яка використовує наступні змінні середовища, як основне джерело інформації, і повертається до значень змінних загальносистемних налаштувань тільки в тому випадку, коли ці змінні не задано.</p>
</div>
<div class="paragraph">
<p><strong><code>GIT_AUTHOR_NAME</code></strong> — це сприйнятне для людини ім’я в полі “author”.</p>
</div>
<div class="paragraph">
<p><strong><code>GIT_AUTHOR_EMAIL</code></strong> — це адреса електронної пошти поля “author”.</p>
</div>
<div class="paragraph">
<p><strong><code>GIT_AUTHOR_DATE</code></strong> — це часова мітка коміту використана полем “author”.</p>
</div>
<div class="paragraph">
<p><strong><code>GIT_COMMITTER_NAME</code></strong> задає сприйнятне для людини ім’я в полі “committer”.</p>
</div>
<div class="paragraph">
<p><strong><code>GIT_COMMITTER_EMAIL</code></strong> — це адреса електронної пошти поля “committer”.</p>
</div>
<div class="paragraph">
<p><strong><code>GIT_COMMITTER_DATE</code></strong> використовується для часової мітки в полі “committer”.</p>
</div>
<div class="paragraph">
<p><strong><code>EMAIL</code></strong> — це запасна адреса електронної пошти для випадку, коли значення <code>user.email</code> в налаштуваннях не задано.
Якщо <em>цю запасну адресу</em> не задано, то Git  використовує системні ім’я користувача та мережеве ім’я комп’ютера.</p>
</div>
</div>
<div class="sect3">
<h3 id="_мережа">Мережа</h3>
<div class="paragraph">
<p>Git використовує бібліотеку <code>curl</code> для мережевих операцій через HTTP, отже <strong><code>GIT_CURL_VERBOSE</code></strong> вказує Git показувати всі повідомлення, які генеруються цією бібліотекою.
Це схоже на старт <code>curl -v</code> в командному рядку.</p>
</div>
<div class="paragraph">
<p><strong><code>GIT_SSL_NO_VERIFY</code></strong> вказує Git не перевіряти сертифікати SSL.
Це може бути необхідно, якщо ви використовуєте самостійно підписаний сертифікат для обслуговування сховищ Git через HTTPS, або ви знаходитесь якраз в процесі налаштування сервера Git, але ще не встановили повноцінний сертифікат.</p>
</div>
<div class="paragraph">
<p>Якщо швидкість передачі даних деякої операції через HTTP нижча, ніж <strong><code>GIT_HTTP_LOW_SPEED_LIMIT</code></strong> байтів за секунду впродовж більш ніж <strong><code>GIT_HTTP_LOW_SPEED_TIME</code></strong> секунд, то Git скасує цю операцію.
Ці значення перекривають значення налаштувань <code>http.lowSpeedLimit</code> та <code>http.lowSpeedTime</code>.</p>
</div>
<div class="paragraph">
<p><strong><code>GIT_HTTP_USER_AGENT</code></strong> задає текстовий рядок User-Agent, який використовує Git під час мережевого спілкування через HTTP.
Типове значення виглядає так: <code>git/2.0.0</code>.</p>
</div>
</div>
<div class="sect3">
<h3 id="_визначення_відмінностей_та_злиття">Визначення відмінностей та злиття</h3>
<div class="paragraph">
<p><strong><code>GIT_DIFF_OPTS</code></strong> названо трохи невдало.
Допустимими значеннями є тільки <code>-u&lt;n&gt;</code> чи <code>--unified=&lt;n&gt;</code>, які контролюють кількість контекстних рядків, що показуватимуться за допомогою команди <code>git diff</code>.</p>
</div>
<div class="paragraph">
<p><strong><code>GIT_EXTERNAL_DIFF</code></strong> використовується для переозначення параметра <code>diff.external</code> в налаштуваннях.
Якщо цю змінну задано, то Git викликатиме вибрану програму для команди <code>git diff</code>.</p>
</div>
<div class="paragraph">
<p><strong><code>GIT_DIFF_PATH_COUNTER</code></strong> та <strong><code>GIT_DIFF_PATH_TOTAL</code></strong> є корисними всередині програми, заданої за допомогою <code>GIT_EXTERNAL_DIFF</code> чи <code>diff.external</code>.
Перша змінна визначає індекс порівнюваного файлу в серії (починаючи з 1), а інша — це загальна кількість файлів в пакеті завдань.</p>
</div>
<div class="paragraph">
<p><strong><code>GIT_MERGE_VERBOSITY</code></strong> контролює виведення інформації під час рекурсивної стратегії злиття.
Допустимі значення:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>0 не виводить нічого, крім, можливо, одного повідомлення про помилку.</p>
</li>
<li>
<p>1 показує тільки конфлікти.</p>
</li>
<li>
<p>2 показує також зміни у файлах.</p>
</li>
<li>
<p>3 показує пропущені внаслідок відсутності змін файли.</p>
</li>
<li>
<p>4 показує всі шляхи, як вони обробляються.</p>
</li>
<li>
<p>5 і більше, показують докладну інформацію для зневадження.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Типове значення змінної становить 2.</p>
</div>
</div>
<div class="sect3">
<h3 id="_зневадження">Зневадження</h3>
<div class="paragraph">
<p>Бажаєте <em>справді</em> знати, що Git замислив?
Git має достатньо повний набір вбудованих засобів трасування, і все, що вам потрібно зробити, це увімкнути їх.
Можливі значення приведених нижче змінних наступні:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>“true”, “1”, або “2” — категорія трасування записується до стандартного потоку помилок stderr.</p>
</li>
<li>
<p>Абсолютний шлях, що починається на <code>/</code> — виведення трасування буде записано в цей файл.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong><code>GIT_TRACE</code></strong> контролює загальні сліди трасування, які не вписуються до якої-небудь конкретної категорії.
Це включає в себе розкриття псевдонімів, та делегацію до інших підпрограм.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ GIT_TRACE=true git lga
20:12:49.877982 git.c:554               trace: exec: 'git-lga'
20:12:49.878369 run-command.c:341       trace: run_command: 'git-lga'
20:12:49.879529 git.c:282               trace: alias expansion: lga =&gt; 'log' '--graph' '--pretty=oneline' '--abbrev-commit' '--decorate' '--all'
20:12:49.879885 git.c:349               trace: built-in: git 'log' '--graph' '--pretty=oneline' '--abbrev-commit' '--decorate' '--all'
20:12:49.899217 run-command.c:341       trace: run_command: 'less'
20:12:49.899675 run-command.c:192       trace: exec: 'less'</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong><code>GIT_TRACE_PACK_ACCESS</code></strong> контролює трасування доступу до pack-файлів.
Перше поле — це pack-файл, до якого здійснюється доступ, а друге — зсув у цьому файлі:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ GIT_TRACE_PACK_ACCESS=true git status
20:10:12.081397 sha1_file.c:2088        .git/objects/pack/pack-c3fa...291e.pack 12
20:10:12.081886 sha1_file.c:2088        .git/objects/pack/pack-c3fa...291e.pack 34662
20:10:12.082115 sha1_file.c:2088        .git/objects/pack/pack-c3fa...291e.pack 35175
# […]
20:10:12.087398 sha1_file.c:2088        .git/objects/pack/pack-e80e...e3d2.pack 56914983
20:10:12.087419 sha1_file.c:2088        .git/objects/pack/pack-e80e...e3d2.pack 14303666
On branch master
Your branch is up-to-date with 'origin/master'.
nothing to commit, working directory clean</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong><code>GIT_TRACE_PACKET</code></strong> вмикає трасування пакетів на рівні мережевих операцій.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ GIT_TRACE_PACKET=true git ls-remote origin
20:15:14.867043 pkt-line.c:46           packet:          git&lt; # service=git-upload-pack
20:15:14.867071 pkt-line.c:46           packet:          git&lt; 0000
20:15:14.867079 pkt-line.c:46           packet:          git&lt; 97b8860c071898d9e162678ea1035a8ced2f8b1f HEAD\0multi_ack thin-pack side-band side-band-64k ofs-delta shallow no-progress include-tag multi_ack_detailed no-done symref=HEAD:refs/heads/master agent=git/2.0.4
20:15:14.867088 pkt-line.c:46           packet:          git&lt; 0f20ae29889d61f2e93ae00fd34f1cdb53285702 refs/heads/ab/add-interactive-show-diff-func-name
20:15:14.867094 pkt-line.c:46           packet:          git&lt; 36dc827bc9d17f80ed4f326de21247a5d1341fbc refs/heads/ah/doc-gitk-config
# […]</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong><code>GIT_TRACE_PERFORMANCE</code></strong> контролює журналювання даних швидкодії.
Вивід показує, скільки часу займає кожен окремий виклик <code>git</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ GIT_TRACE_PERFORMANCE=true git gc
20:18:19.499676 trace.c:414             performance: 0.374835000 s: git command: 'git' 'pack-refs' '--all' '--prune'
20:18:19.845585 trace.c:414             performance: 0.343020000 s: git command: 'git' 'reflog' 'expire' '--all'
Counting objects: 170994, done.
Delta compression using up to 8 threads.
Compressing objects: 100% (43413/43413), done.
Writing objects: 100% (170994/170994), done.
Total 170994 (delta 126176), reused 170524 (delta 125706)
20:18:23.567927 trace.c:414             performance: 3.715349000 s: git command: 'git' 'pack-objects' '--keep-true-parents' '--honor-pack-keep' '--non-empty' '--all' '--reflog' '--unpack-unreachable=2.weeks.ago' '--local' '--delta-base-offset' '.git/objects/pack/.tmp-49190-pack'
20:18:23.584728 trace.c:414             performance: 0.000910000 s: git command: 'git' 'prune-packed'
20:18:23.605218 trace.c:414             performance: 0.017972000 s: git command: 'git' 'update-server-info'
20:18:23.606342 trace.c:414             performance: 3.756312000 s: git command: 'git' 'repack' '-d' '-l' '-A' '--unpack-unreachable=2.weeks.ago'
Checking connectivity: 170994, done.
20:18:25.225424 trace.c:414             performance: 1.616423000 s: git command: 'git' 'prune' '--expire' '2.weeks.ago'
20:18:25.232403 trace.c:414             performance: 0.001051000 s: git command: 'git' 'rerere' 'gc'
20:18:25.233159 trace.c:414             performance: 6.112217000 s: git command: 'git' 'gc'</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong><code>GIT_TRACE_SETUP</code></strong> показує інформацію, яку Git отримує про сховище та середовище, з якими він взаємодіє.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ GIT_TRACE_SETUP=true git status
20:19:47.086765 trace.c:315             setup: git_dir: .git
20:19:47.087184 trace.c:316             setup: worktree: /Users/ben/src/git
20:19:47.087191 trace.c:317             setup: cwd: /Users/ben/src/git
20:19:47.087194 trace.c:318             setup: prefix: (null)
On branch master
Your branch is up-to-date with 'origin/master'.
nothing to commit, working directory clean</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h3 id="_інше">Інше</h3>
<div class="paragraph">
<p><strong><code>GIT_SSH</code></strong>, якщо задано, — це програма, яка викликається замість <code>ssh</code>, коли Git намагається підключитися до SSH сервера.
Вона стартує у вигляді <code>$GIT_SSH [username@]host [-p &lt;port&gt;] &lt;command&gt;</code>.
Зверніть увагу, що це не найпростіший спосіб пристосувати виклик <code>ssh</code>; додаткові параметри командного рядка в цьому випадку не підтримуються, отже вам доведеться написати також скрипт-обгортку і встановити значення змінної <code>GIT_SSH</code>, що вказуватиме на цей скрипт.
Простіше, напевно, використовувати файл <code>~/.ssh/config</code> для цього.</p>
</div>
<div class="paragraph">
<p><strong><code>GIT_ASKPASS</code></strong> — це переозначення змінної <code>core.askpass</code> в налаштуваннях.
Це програма, що викликається щоразу, коли Git потрібно запитати в користувача облікові дані, та яка може очікувати на текстовий запит, як аргумент командного рядка, і повинна повернути відповідь в стандартний потік <code>stdout</code>.
(Див. <a href="{{< relurl "book/uk/v2/ch00/_credential_caching" >}}">Збереження посвідчення (credential)</a>, щоб дізнатись докладніше про цю підсистему.)</p>
</div>
<div class="paragraph">
<p><strong><code>GIT_NAMESPACE</code></strong> контролює доступ до посилань просторів імен, і еквівалентна  параметру <code>--namespace</code>.
Це в основному корисно на стороні сервера, де ви, можливо, захочете зберігати кілька форків єдиного сховища в одному сховищі, зберігаючи тільки окремо посилання на них.</p>
</div>
<div class="paragraph">
<p><strong><code>GIT_FLUSH</code></strong> може використовуватись, щоб змусити Git вживати небуферизоване введення/виведення під час інкрементного запису в стандартний потік stdout.
Значення 1 змушує Git очищувати буфер частіше, а для значення 0 буферизуються всі вихідні дані.
Типове значення (якщо значення цієї змінної не задано) — вибирати доречну схему буферизації в залежності від виду діяльності та режиму виведення.</p>
</div>
<div class="paragraph">
<p><strong><code>GIT_REFLOG_ACTION</code></strong> дозволяє вказати описовий текст, що записується в reflog.
Ось приклад:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ GIT_REFLOG_ACTION="my action" git commit --allow-empty -m 'my message'
[master 9e3d55a] my message
$ git reflog -1
9e3d55a HEAD@{0}: my action: my message</code></pre>
</div>
</div>
</div>
<div id="nav"><a href="{{< previous-section >}}">prev</a> | <a href="{{< next-section >}}">next</a></div>