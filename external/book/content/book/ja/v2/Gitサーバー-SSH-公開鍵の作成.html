---
### DO NOT EDIT! Generated by script/update-book2.rb
category: book
section: documentation
subsection: book
sidebar: book
book:
  language_code: ja
  chapter:
    title: Gitサーバー
    number: 4
  section:
    title: SSH 公開鍵の作成
    number: 3
    cs_number: '4.3'
    previous: book/ja/v2/Gitサーバー-サーバー用の-Git-の取得
    next: book/ja/v2/Gitサーバー-サーバーのセットアップ
title: Git - SSH 公開鍵の作成
url: "/book/ja/v2/Gitサーバー-SSH-公開鍵の作成.html"
---
<h2 id="r_generate_ssh_key">SSH 公開鍵の作成</h2>
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p>多くの Git サーバーでは、SSH の公開鍵認証を使用しています。
この方式を使用するには、各ユーザーが自分の公開鍵を作成しなければなりません。
公開鍵のつくりかたは、OS が何であってもほぼ同じです。
まず、自分がすでに公開鍵を持っていないかどうか確認します。
デフォルトでは、各ユーザーの SSH 鍵はそのユーザーの <code>~/.ssh</code> ディレクトリに置かれています。
自分が鍵を持っているかどうかを確認するには、このディレクトリに行ってその中身を調べます。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cd ~/.ssh
$ ls
authorized_keys2  id_dsa       known_hosts
config            id_dsa.pub</code></pre>
</div>
</div>
<div class="paragraph">
<p>そして、<code>id_dsa</code> あるいは <code>id_rsa</code> というファイルと、同名で <code>.pub</code> という拡張子を持つファイルの組み合わせを探します。もし見つかったら、<code>.pub</code> がついているほうのファイルがあなたの公開鍵で、もう一方があなたの秘密鍵です。
そのようなファイルがない (あるいはそもそも <code>.ssh</code> ディレクトリがない) 場合は、<code>ssh-keygen</code> というプログラムを実行してそれを作成します。このプログラムは Linux/Mac なら SSH パッケージに含まれており、Windows では Git for Windows に含まれています。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ ssh-keygen
Generating public/private rsa key pair.
Enter file in which to save the key (/home/schacon/.ssh/id_rsa):
Created directory '/home/schacon/.ssh'.
Enter passphrase (empty for no passphrase):
Enter same passphrase again:
Your identification has been saved in /home/schacon/.ssh/id_rsa.
Your public key has been saved in /home/schacon/.ssh/id_rsa.pub.
The key fingerprint is:
d0:82:24:8e:d7:f1:bb:9b:33:53:96:93:49:da:9b:e3 schacon@mylaptop.local</code></pre>
</div>
</div>
<div class="paragraph">
<p>まず、鍵の保存先 (<code>.ssh/id_rsa</code>) を指定し、それからパスフレーズを二回入力するよう求められます。鍵を使うときにパスフレーズを入力したくない場合は、パスフレーズを空のままにしておきます。</p>
</div>
<div class="paragraph">
<p>さて、次に各ユーザーは自分の公開鍵をあなた (あるいは Git サーバーの管理者である誰か) に送らなければなりません (ここでは、すでに公開鍵認証を使用するように SSH サーバーが設定済みであると仮定します)。
公開鍵を送るには、<code>.pub</code> ファイルの中身をコピーしてメールで送ります。
公開鍵は、このようなファイルになります。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cat ~/.ssh/id_rsa.pub
ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEAklOUpkDHrfHY17SbrmTIpNLTGK9Tjom/BWDSU
GPl+nafzlHDTYW7hdI4yZ5ew18JH4JW9jbhUFrviQzM7xlELEVf4h9lFX5QVkbPppSwg0cda3
Pbv7kOdJ/MTyBlWXFCR+HAo3FXRitBqxiX1nKhXpHAZsMciLq8V6RjsNAQwdsdMFvSlVK/7XA
t3FaoJoAsncM1Q9x5+3V0Ww68/eIFmb1zuUFljQJKprrX88XypNDvjYNby6vw/Pb0rwert/En
mZ+AW4OZPnTPI89ZPmVMLuayrD2cE86Z/il8b+gw3r3+1nKatmIkjn2so1d01QraTlMqVSsbx
NrRFi9wrf+M7Q== schacon@mylaptop.local</code></pre>
</div>
</div>
<div class="paragraph">
<p>各種 OS 上での SSH 鍵の作り方については、GitHub の <a href="https://help.github.com/articles/generating-ssh-keys" class="bare">https://help.github.com/articles/generating-ssh-keys</a> に詳しく説明されています。</p>
</div>
<div id="nav"><a href="{{< previous-section >}}">prev</a> | <a href="{{< next-section >}}">next</a></div>