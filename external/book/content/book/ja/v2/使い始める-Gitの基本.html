---
### DO NOT EDIT! Generated by script/update-book2.rb
category: book
section: documentation
subsection: book
sidebar: book
book:
  language_code: ja
  chapter:
    title: 使い始める
    number: 1
  section:
    title: Gitの基本
    number: 3
    cs_number: '1.3'
    previous: book/ja/v2/使い始める-Git略史
    next: book/ja/v2/使い始める-コマンドライン
title: Git - Gitの基本
url: "/book/ja/v2/使い始める-Gitの基本.html"
---
<h2 id="_gitの基本">Gitの基本</h2>
<div class="paragraph">
<p>では、要するにGitとは何なのでしょうか。
これは、Gitを吸収するには重要な節です。なぜならば、もしGitが何かを理解し、Gitがどうやって稼動しているかの根本を理解できれば、Gitを効果的に使う事が恐らくとても容易になるからです。
Gitを学ぶときは、SubversionやPerforceのような他のVCSに関してあなたが恐らく知っていることは、意識しないでください。このツールを使うときに、ちょっとした混乱を回避することに役立ちます。
ユーザー・インターフェイスがよく似ているにも関わらず、Gitの情報の格納の仕方や情報についての考え方は、それら他のシステムとは大きく異なっています。これらの相違を理解する事は、Gitを扱っている間の混乱を、防いでくれるでしょう。</p>
</div>
<div class="sect3">
<h3 id="_スナップショットで差分ではない">スナップショットで、差分ではない</h3>
<div class="paragraph">
<p>Gitと他のVCS (Subversionとその類を含む)の主要な相違は、Gitのデータについての考え方です。
概念的には、他のシステムのほとんどは、情報をファイルを基本とした変更のリストとして格納します。
これらのシステム（CVS、Subversion、Perforce、Bazaar等々）は、図1-4に描かれているように、システムが保持しているファイルの集合と、時間を通じてそれぞれのファイルに加えられた変更の情報を考えます。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/ja/v2/images/deltas.png" >}}" alt="他のシステムは、データをそれぞれのファイルの基本バージョンへの変更として格納する傾向があります。">
</div>
<div class="title">図 4. 他のシステムは、データをそれぞれのファイルの基本バージョンへの変更として格納する傾向があります。</div>
</div>
<div class="paragraph">
<p>Gitは、この方法ではデータを考えたり、格納しません。
代わりに、Gitはデータをミニ・ファイルシステムのスナップショットの集合のように考えます。
Gitで全てのコミット（訳注：commitとは変更を記録・保存するGitの操作。詳細は後の章を参照）をするとき、もしくはプロジェクトの状態を保存するとき、Gitは基本的に、その時の全てのファイルの状態のスナップショットを撮り（訳者注：意訳）、そのスナップショットへの参照を格納するのです。
効率化のため、ファイルに変更が無い場合は、Gitはファイルを再格納せず、既に格納してある、以前の同一のファイルへのリンクを格納します。
Gitは、むしろデータを*一連のスナップショット*のように考えます。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/ja/v2/images/snapshots.png" >}}" alt="Gitは時間を通じたプロジェクトのスナップショットとしてデータを格納します。">
</div>
<div class="title">図 5. Gitは時間を通じたプロジェクトのスナップショットとしてデータを格納します。</div>
</div>
<div class="paragraph">
<p>これが、Gitと類似の全ての他のVCSとの間の重要な違いです。
ほとんどの他のシステムが以前の世代から真似してきた、ほとんど全てのバージョン管理のやり方（訳者注：aspectを意訳）を、Gitに見直させます。
これは、Gitを、単純にVCSと言うより、その上に組み込まれた幾つかの途方も無くパワフルなツールを備えたミニ・ファイルシステムにしています。
このやり方でデータを考えることで得られる利益の幾つかを、<a href="{{< relurl "book/ja/v2/ch00/ch03-git-branching" >}}">[ch03-git-branching]</a>を扱ったときに探求します。</p>
</div>
</div>
<div class="sect3">
<h3 id="_ほとんど全ての操作がローカル">ほとんど全ての操作がローカル</h3>
<div class="paragraph">
<p>Gitのほとんどの操作は、ローカル・ファイルと操作する資源だけ必要とします。大体はネットワークの他のコンピューターからの情報は必要ではありません。
ほとんどの操作がネットワーク遅延損失を伴うCVCSに慣れているのであれば、もっさりとしたCVCSに慣れているのであれば、このGitの速度は神業のように感じるでしょう（訳者注：直訳は「このGitの側面はスピードの神様がこの世のものとは思えない力でGitを祝福したと考えさせるでしょう」）。
プロジェクトの履歴は丸ごとすぐそこのローカル・ディスクに保持しているので、大概の操作はほぼ瞬時のように見えます。</p>
</div>
<div class="paragraph">
<p>例えば、プロジェクトの履歴を閲覧するために、Gitはサーバーに履歴を取得しに行って表示する必要がありません。直接にローカル・データベースからそれを読むだけです。
これは、プロジェクトの履歴をほとんど即座に知るということです。
もし、あるファイルの現在のバージョンと、そのファイルの1ヶ月前の間に導入された変更点を知りたいのであれば、Gitは、遠隔のサーバーに差分を計算するように問い合わせたり、ローカルで差分を計算するために遠隔サーバーからファイルの古いバージョンを持ってくる代わりに、1か月前のファイルを調べてローカルで差分の計算を行なえます。</p>
</div>
<div class="paragraph">
<p>これはまた、オフラインであるか、VPNから切り離されていたとしても、出来ない事は非常に少ないことを意味します。
もし、飛行機もしくは列車に乗ってちょっとした仕事をしたいとしても、アップロードするためにネットワーク接続し始めるまで、楽しくコミットできます。
もし、帰宅してVPNクライアントを適切に作動させられないとしても、さらに作業ができます。
多くの他のシステムでは、それらを行なう事は、不可能であるか苦痛です。
例えばPerforceにおいては、サーバーに接続できないときは、多くの事が行なえません。SubversionとCVSにおいては、ファイルの編集はできますが、データベースに変更をコミットできません（なぜならば、データベースがオフラインだからです）。
このことは巨大な問題に思えないでしょうが、実に大きな違いを生じうることに驚くでしょう。</p>
</div>
</div>
<div class="sect3">
<h3 id="_gitは完全性を持つ">Gitは完全性を持つ</h3>
<div class="paragraph">
<p>Gitの全てのものは、格納される前にチェックサムが取られ、その後、そのチェックサムで照合されます。
これは、Gitがそれに関して感知することなしに、あらゆるファイルの内容を変更することが不可能であることを意味します。
この機能は、Gitの最下層に組み込まれ、またGitの哲学に不可欠です。
Gitがそれを感知できない状態で、転送中に情報を失う、もしくは壊れたファイルを取得することはありません。</p>
</div>
<div class="paragraph">
<p>Gitがチェックサム生成に用いる機構は、SHA-1ハッシュと呼ばれます。
これは、16進数の文字（0-9とa-f）で構成された40文字の文字列で、ファイルの内容もしくはGit内のディレクトリ構造を元に計算されます。
SHA-1ハッシュは、このようなもののように見えます:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>24b9da6552252987aa493b52f8696cd6d3b00373</code></pre>
</div>
</div>
<div class="paragraph">
<p>Gitはハッシュ値を大変よく利用するので、Gitのいたるところで、これらのハッシュ値を見ることでしょう。
事実、Gitはファイル名ではなく、ファイル内容のハッシュ値によってGitデータベースの中に全てを格納しています。</p>
</div>
</div>
<div class="sect3">
<h3 id="_gitは通常はデータを追加するだけ">Gitは通常はデータを追加するだけ</h3>
<div class="paragraph">
<p>Gitで行動するとき、ほとんど全てはGitデータベースにデータを追加するだけです。
システムにいかなる方法でも、UNDO不可能なこと、もしくはデータを消させることをさせるのは困難です。
あらゆるVCSと同様に、まだコミットしていない変更は失ったり、台無しにできたりします。しかし、スナップショットをGitにコミットした後は、特にもし定期的にデータベースを他のリポジトリにプッシュ（訳注：pushはGitで管理するあるリポジトリのデータを、他のリポジトリに転送する操作。詳細は後の章を参照）していれば、変更を失うことは大変難しくなります。</p>
</div>
<div class="paragraph">
<p>激しく物事をもみくちゃにする危険なしに試行錯誤を行なえるため、これはGitの利用を喜びに変えます。Gitがデータをどのように格納しているのかと失われたように思えるデータをどうやって回復できるのかについての、より詳細な解説に関しては、<a href="{{< relurl "book/ja/v2/ch00/r_undoing" >}}">作業のやり直し</a>を参照してください。</p>
</div>
</div>
<div class="sect3">
<h3 id="_三つの状態">三つの状態</h3>
<div class="paragraph">
<p>今、注意してください。
もし学習プロセスの残りをスムーズに進めたいのであれば、これはGitに関して覚えておく主要な事です。
Gitは、ファイルが帰属する、コミット済、修正済、ステージ済の、三つの主要な状態を持ちます。
コミット済は、ローカル・データベースにデータが安全に格納されていることを意味します。
修正済は、ファイルに変更を加えていますが、データベースにそれがまだコミットされていないことを意味します。
ステージ済は、次のスナップショットのコミットに加えるために、現在のバージョンの修正されたファイルに印をつけている状態を意味します。</p>
</div>
<div class="paragraph">
<p>このことは、Gitプロジェクト（訳者注：ディレクトリ内）の、Gitディレクトリ、作業ディレクトリ、ステージング・エリアの三つの主要な部分（訳者注：の理解）に導きます。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/ja/v2/images/areas.png" >}}" alt="作業ディレクトリ、ステージング・エリア、Gitディレクトリ">
</div>
<div class="title">図 6. 作業ディレクトリ、ステージング・エリア、Gitディレクトリ</div>
</div>
<div class="paragraph">
<p>Gitディレクトリは、プロジェクトのためのメタデータ（訳者注：Gitが管理するファイルやディレクトリなどのオブジェクトの要約）とオブジェクトのデータベースがあるところです。
これは、Gitの最も重要な部分で、他のコンピューターからリポジトリをクローン（訳者注：コピー元の情報を記録した状態で、Gitリポジトリをコピーすること）したときに、コピーされるものです。</p>
</div>
<div class="paragraph">
<p>作業ディレクトリは、プロジェクトの一つのバージョンの単一チェックアウトです。
これらのファイルはGitディレクトリの圧縮されたデータベースから引き出されて、利用するか修正するためにディスクに配置されます。</p>
</div>
<div class="paragraph">
<p>ステージング・エリアは、普通はGitディレクトリに含まれる、次のコミットに何が含まれるかに関しての情報を蓄えた一つのファイルです。
「インデックス」と呼ばれることもありますが、ステージング・エリアと呼ばれることも多いです。</p>
</div>
<div class="paragraph">
<p>基本的なGitのワークフローは、このような風に進みます：</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>作業ディレクトリのファイルを修正します。</p>
</li>
<li>
<p>修正されたファイルのスナップショットをステージング・エリアに追加して、ファイルをステージします。</p>
</li>
<li>
<p>コミットします。（訳者注：Gitでは）これは、ステージング・エリアにあるファイルを取得し、永久不変に保持するスナップショットとしてGitディレクトリに格納することです。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>もしファイルの特定のバージョンがGitディレクトリの中にあるとしたら、コミット済だと見なされます。
もし修正されていて、ステージング・エリアに加えられていれば、ステージ済です。
そして、チェックアウトされてから変更されましたが、ステージされていないとするなら、修正済です。
<a href="{{< relurl "book/ja/v2/ch00/ch02-git-basics" >}}">[ch02-git-basics]</a>では、これらの状態と、どうやってこれらを利用をするか、もしくは完全にステージ化部分を省略するかに関してより詳しく学習します。</p>
</div>
</div>
<div id="nav"><a href="{{< previous-section >}}">prev</a> | <a href="{{< next-section >}}">next</a></div>