---
### DO NOT EDIT! Generated by script/update-book2.rb
category: book
section: documentation
subsection: book
sidebar: book
book:
  language_code: pt-pt
  chapter:
    title: Git no Servidor
    number: 4
  section:
    title: GitLab
    number: 8
    cs_number: '4.8'
    previous: book/pt-pt/v2/Git-no-Servidor-GitWeb
    next: book/pt-pt/v2/Git-no-Servidor-Opções-Hospedadas-de-Terceiros
title: Git - GitLab
---
<h2 id="_gitlab">GitLab</h2>
<div class="paragraph">
<p>
Embora o GitWeb seja bastante simplista, se estiveres a procurar por um servidor Git mais moderno e completo, existem algumas soluções de código aberto lá fora que podes instalar em vez deste.
Como o GitLab é um dos mais populares, vamos cobrir a instalação e usá-lo como um exemplo.
Este é um pouco mais complexo do que a opção GitWeb e provavelmente requer mais manutenção, mas é uma opção muito mais completa.</p>
</div>
<div class="sect3">
<h3 id="_instalação">Instalação</h3>
<div class="paragraph">
<p>O GitLab é um aplicativo da Web baseado em banco de dados, por isso a sua instalação é um pouco mais trabalhosa do que alguns outros servidores Git.
Felizmente, este processo é muito bem documentado e apoiado.</p>
</div>
<div class="paragraph">
<p>Existem alguns métodos que tu podes seguir para instalar o GitLab.
Para obter algo em execução rapidamente, podes descarrear uma imagem de máquina virtual ou um instalador de um clique em <a href="https://bitnami.com/stack/gitlab" class="bare">https://bitnami.com/stack/gitlab</a> e ajustar a configuração para que corresponda ao teu ambiente particular..
Um toque agradável que Bitnami incluiu é o ecrã de login (acedida digitando alt-→); Ele informa o endereço IP e o nome de utilizador e senha padrão para o GitLab instalado.</p>
</div>
<div id="Bitnami" class="imageblock">
<div class="content">
<img src="{{< relurl "book/pt-pt/v2/images/bitnami.png" >}}" alt="O ecrã de login da máquina virtual Bitnami GitLab.">
</div>
<div class="title">Figure 50. O ecrã de login da máquina virtual Bitnami GitLab.</div>
</div>
<div class="paragraph">
<p>Para qualquer outra coisa, sigue as orientações no readme do GitLab Community Edition, que pode ser encontrado em <a href="https://gitlab.com/gitlab-org/gitlab-ce/tree/master" class="bare">https://gitlab.com/gitlab-org/gitlab-ce/tree/master</a>.
Lá encontrarás assistência na instalação do GitLab usando receitas do Chef, a máquina virtual no Digital Ocean, e os pacotes RPM e DEB (que, no momento em que este texto foi escrito, estava na versão estável Omnibus, para os sistemas operacionais Ubuntu 14.04, Ubuntu 16.04, Debian 7, Debian 8, CentOS 6, CentOS 7, OpenSUSE 42.1 e Raspberry PI 2 em Raspbian).
Há também guias com orientações “não oficiais” para que o GitLab funcione em sistemas operacionais e bases de dados diferentes dos citados acima, um script para instalação completamente manual e muitos outros tópicos.</p>
</div>
</div>
<div class="sect3">
<h3 id="_administração">Administração</h3>
<div class="paragraph">
<p>A interface de administração do GitLab é acedida através da web.
Basta apontar o teu navegador para o nome do host ou endereço IP onde o GitLab está instalado e efetuar login como um utilizador admin.
O nome de utilizador padrão é <code>admin@local.host</code> e a senha padrão é <code>5iveL!fe</code> (que tu serás solicitado a alterar assim que entrares nele).
Depois de efetuares o login, clica no ícone “Área de administração” no menu no canto superior direito.</p>
</div>
<div id="gitlab_menu" class="imageblock">
<div class="content">
<img src="{{< relurl "book/pt-pt/v2/images/gitlab-menu.png" >}}" alt="O item Área de administração no menu GitLab.">
</div>
<div class="title">Figure 51. O item “Área de administração” no menu GitLab.</div>
</div>
<div class="sect4">
<h4 id="_utilizadores">Utilizadores</h4>
<div class="paragraph">
<p>Utilizadores no GitLab são contas que correspondem a pessoas.
As contas de utilizador não têm muita complexidade; A conta de utilizador é uma coleção de informações pessoais anexadas aos dados de login.
Cada conta de utilizador vem com um <strong>namespace</strong>, que é um agrupamento lógico de projetos que pertencem a este utilizador.
Se o utilizador <code>jane</code> tivesse um projeto chamado <code>project</code>, o URL do projeto seria <a href="http://servidor/jane/project" class="bare">http://servidor/jane/project</a>.</p>
</div>
<div id="gitlab_users" class="imageblock">
<div class="content">
<img src="{{< relurl "book/pt-pt/v2/images/gitlab-users.png" >}}" alt="O ecrã de administração de utilizadores do GitLab.">
</div>
<div class="title">Figure 52. Ecrã de administração de utilizadores do GitLab.</div>
</div>
<div class="paragraph">
<p>Remoção de um utilizador pode ser feito de duas formas.
“Bloquear” um utilizador que os impede de logar na instância do Gitlab, mas todos os dados sob o namespace do utilizador serão preservados, e os commits assinados com o e-mail do utilizador ainda irão direcionar para o perfil do mesmo.</p>
</div>
<div class="paragraph">
<p>“Destruir” um utilizador, por outro lado, remove o remove completamente da base de dados e do sistema de arquivos.
Todos os projetos e dados no namespace são removidos, e qualquer outro grupo que ele possua também será removido.
Isto é obviamente uma ação muito mais permanete e destrutiva, e o uso disso é raro.</p>
</div>
</div>
<div class="sect4">
<h4 id="_gitlab_groups_section">Grupos</h4>
<div class="paragraph">
<p>Um grupo GitLab é um conjunto de projetos, juntamente com dados sobre como os utilizadores podem acederr estes projetos.
Cada grupo tem um espaço para nome de projeto (da mesma forma que os utilizadores), então se o grupo <code>training</code> tiver um projeto <code>materials</code>, tua url seria <a href="http://servidor/training/materials" class="bare">http://servidor/training/materials</a>.</p>
</div>
<div id="gitlab_groups" class="imageblock">
<div class="content">
<img src="{{< relurl "book/pt-pt/v2/images/gitlab-groups.png" >}}" alt="O ecrã de administração de grupos do GitLab.">
</div>
<div class="title">Figure 53. O ecrã de administração de grupos do GitLab.</div>
</div>
<div class="paragraph">
<p>Cada grupo está associado a um número de utilizadores, cada um com um nível de permissões para os projetos do grupo e para o próprio grupo.
Estes variam de “Convidado” (problemas e bate-papo somente) a “Proprietário” (controle total do grupo, seus membros e seus projetos).
Os tipos de permissões são muito numerosos para listar aqui, mas o GitLab tem um link útil no ecrã de administração.</p>
</div>
</div>
<div class="sect4">
<h4 id="_projetos">Projetos</h4>
<div class="paragraph">
<p>Um projeto GitLab corresponde de grosso modo a um único repositório Git.
Cada projeto pertence a um único namespace, a um utilizador ou a um grupo.
Se o projeto pertence a um utilizador, o proprietário do projeto tem controle direto sobre quem tem acesso ao projeto; Se o projeto pertence a um grupo, as permissões de nível de utilizador do grupo também terão efeito.</p>
</div>
<div class="paragraph">
<p>Cada projeto também tem um nível de visibilidade, que controla quem tem acesso de leitura às páginas desse projeto e ao repositório.
Se um projeto for <em>Privado</em>, o proprietário do projeto deve conceder explicitamente acesso a utilizadores específicos.
Um projeto <em>Interno</em> é visível para qualquer utilizador logado, e um projeto <em>Público</em> é visível para qualquer pessoa.
Observa que isto controla tanto o acesso <code>git fetch</code> quanto o acesso à interface web do utilizador a este projeto.</p>
</div>
</div>
<div class="sect4">
<h4 id="_ganchos">Ganchos</h4>
<div class="paragraph">
<p>O GitLab inclui suporte para ganchos (hooks), tanto a nível de projeto como de sistema.
Para qualquer um destes, o servidor GitLab executará um HTTP POST com algum JSON descritivo sempre que ocorrerem eventos relevantes.
Esta é uma ótima maneira de conectar os teus repositórios Git e a instância GitLab ao resto de sua automação de desenvolvimento, como servidores CI, salas de bate-papo ou ferramentas de implantação.</p>
</div>
</div>
</div>
<div class="sect3">
<h3 id="_uso_básico">Uso Básico</h3>
<div class="paragraph">
<p>A primeira coisa que vais querer fazer com o GitLab é criar um novo projeto.
Isto é feito clicando no ícone “+” na barra de ferramentas.
Ser-te-á pedido o nome do projecto, a qual namespace ele deverá pertencer e que nível de visibilidade deverá ter.
A maior parte do que tu especificas aqui não é permanente e pode ser reajustada posteriormente através da interface de configurações.
Clica em “Criar projeto” e pronto.</p>
</div>
<div class="paragraph">
<p>Uma vez que o projeto exista, provavelmente vais querer conectá-lo com um repositório Git local.
Cada projeto é acessível através de HTTPS ou SSH, sendo que ambos podem ser usados para configurar um Git remoto.
As URLs estão visíveis na parte superior da página inicial do projeto.
Para um repositório local existente, este comando criará um remoto chamado <code>gitlab</code> para o local hospedado:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git remote add gitlab https://servidor/namespace/project.git</code></pre>
</div>
</div>
<div class="paragraph">
<p>Se não tens uma cópia local do repositório, podes simplesmente fazer isto:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git clone https://servidor/namespace/project.git</code></pre>
</div>
</div>
<div class="paragraph">
<p>A interface do utilizador da Web fornece o acesso a várias visualizações úteis do próprio repositório.
A página inicial de cada projeto mostra as atividades recentes e os links ao longo do topo levam-te a exibições dos arquivos do projeto e do log de commits.</p>
</div>
</div>
<div class="sect3">
<h3 id="_trabalhando_juntos">Trabalhando juntos</h3>
<div class="paragraph">
<p>A maneira mais simples de trabalhar juntos num projeto GitLab é dar a outro utilizador acesso direto de push (envio de commits) ao repositório Git.
Podes adicionar um utilizador a um projeto indo para a seção “Membros” das configurações deste projeto e associando o novo utilizador com um nível de acesso (os diferentes níveis de acesso estão um pouco descritos em <a href="{{< relurl "book/pt-pt/v2/ch00/_gitlab_groups_section" >}}">Grupos</a>).
Ao fornecer a um utilizador um nível de acesso de “Desenvolvedor” ou superior, este utilizador pode empurrar branches e ramificações diretamente para o repositório.</p>
</div>
<div class="paragraph">
<p>Outra maneira mais dissociada de colaboração é usar solicitações de mesclagem.
Este recurso permite que qualquer utilizador que possa ver um projeto contribua para ele de forma controlada.
Os utilizadores com acesso direto podem simplesmente criar uma ramificação, empurrá-la para ele e abrir uma solicitação de mesclagem do seu ramo de volta para <code>master</code> ou qualquer outra ramificação.
Os utilizador que não têm permissões push para um repositório podem "fork" (criar sua própria cópia), push commit para <em>aquela</em> cópia e abrir uma solicitação de mesclagem de sua bifurcação de volta para o projeto principal.
Este modelo permite que o proprietário esteja no controle total do que entra no repositório e quando, embora permita contribuições de utilizadores não confiáveis.</p>
</div>
<div class="paragraph">
<p>Os pedidos de mesclagem e os problemas são as principais unidades de discussão de longa duração no GitLab.
Cada solicitação de mesclagem permite uma discussão linha a linha da alteração proposta (que suporta um tipo leve de revisão de código), bem como um tópico geral de discussão geral.
Ambos podem ser atribuídos a utilizador ou organizados em marcos.</p>
</div>
<div class="paragraph">
<p>Esta seção é focada principalmente nos recursos relacionados ao Git do GitLab, mas como um projeto maduro, ele fornece muitos outros recursos para ajudar a tua equipa a trabalhar em conjunto, como wikis de projeto e ferramentas de manutenção do sistema.
Um benefício para o GitLab é que, uma vez que o servidor está configurado e em execução, tu raramente precisarás ajustar um arquivo de configuração ou aceder o servidor via SSH; A maior parte da administração e o uso geral podem ser realizados através da interface no navegador.</p>
</div>
</div>
<div id="nav"><a href="{{< previous-section >}}">prev</a> | <a href="{{< next-section >}}">next</a></div>