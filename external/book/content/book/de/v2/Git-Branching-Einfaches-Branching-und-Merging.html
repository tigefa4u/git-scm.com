---
### DO NOT EDIT! Generated by script/update-book2.rb
category: book
section: documentation
subsection: book
sidebar: book
book:
  language_code: de
  chapter:
    title: Git Branching
    number: 3
  section:
    title: Einfaches Branching und Merging
    number: 2
    cs_number: '3.2'
    previous: book/de/v2/Git-Branching-Branches-auf-einen-Blick
    next: book/de/v2/Git-Branching-Branch-Management
title: Git - Einfaches Branching und Merging
---
<h2 id="_einfaches_branching_und_merging">Einfaches Branching und Merging</h2>
<div class="paragraph">
<p>Lass uns ein einfaches Beispiel für das Verzweigen und Zusammenführen (engl. branching and merging) anschauen, wie es dir in einem praxisnahen Workflow begegnen könnte.
Stell dir vor, du führst folgende Schritte aus:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Du arbeitest an einer Website</p>
</li>
<li>
<p>Du erstellst einen Branch für eine neue Anwendergeschichte (engl. User Story), an der du gerade arbeitest</p>
</li>
<li>
<p>Du erledigst einige Arbeiten in diesem Branch</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>In diesem Moment erhältst du einen Anruf, dass ein anderes Problem kritisch ist und ein Hotfix benötigt wird.
Dazu wirst du folgendes tun:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Du wechselst zu deinem Produktions-Branch</p>
</li>
<li>
<p>Du erstellst einen Branch, um den Hotfix einzufügen</p>
</li>
<li>
<p>Nachdem der Test abgeschlossen ist, mergst du den Hotfix-Branch und schiebst ihn in den Produktions-Branch</p>
</li>
<li>
<p>Du wechselst zurück zu deiner ursprünglichen Anwenderstory und arbeitest daran weiter</p>
</li>
</ol>
</div>
<div class="sect3">
<h3 id="_basic_branching">Einfaches Branching</h3>
<div class="paragraph">
<p>
Lass uns zunächst annehmen, du arbeitest an deinem Projekt und hast bereits ein paar Commits in deinem <code>master</code> Branch gemacht.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/de/v2/images/basic-branching-1.png" >}}" alt="Ein einfacher Commit-Verlauf">
</div>
<div class="title">Abbildung 18. Ein einfacher Commit-Verlauf</div>
</div>
<div class="paragraph">
<p>Du hast dich dafür entschieden, an „Issue #53“ aus irgendeinem Fehlerverfolgungssystem, das deine Firma benutzt, zu arbeiten.
Um einen neuen Branch anzulegen und gleichzeitig zu diesem zu wechseln, kannst du die Anweisung <code>git checkout</code> zusammen mit der Option <code>-b</code> ausführen:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout -b iss53
Switched to a new branch "iss53"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Das ist die Kurzform der beiden folgenden Befehle:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git branch iss53
$ git checkout iss53</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/de/v2/images/basic-branching-2.png" >}}" alt="Erstellen eines neuen Branch-Zeigers">
</div>
<div class="title">Abbildung 19. Erstellen eines neuen Branch-Zeigers</div>
</div>
<div class="paragraph">
<p>Du arbeitest an deiner Website und führst einige Commits durch.
Sobald du das machst, bewegt das den <code>iss53</code> Branch vorwärts, weil du in ihn gewechselt (engl. checked out) bist. Das bedeutet, dein <code>HEAD</code> zeigt auf diesen Branch:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ vim index.html
$ git commit -a -m 'Create new footer [issue 53]'</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/de/v2/images/basic-branching-3.png" >}}" alt="Der `iss53` Branch hat sich bei deiner Arbeit vorwärts bewegt">
</div>
<div class="title">Abbildung 20. Der <code>iss53</code> Branch hat sich bei deiner Arbeit vorwärts bewegt</div>
</div>
<div class="paragraph">
<p>Jetzt bekommst du einen Anruf, dass es ein Problem mit der Website gibt und du es umgehend beheben musst.
Bei Git musst du deinen Fix nicht zusammen mit den Änderungen bereitstellen, die du bereits an <code>iss53</code> vorgenommen hast. Du musst auch keinen großen Aufwand betreiben, diese Änderungen rückgängig zu machen, bevor du an den neuen Hotfix arbeiten kannst, um die Produktionsumgebung zu fixen.
Alles, was du machen musst, ist zu deinem vorherigen <code>master</code> Branch zu wechseln.</p>
</div>
<div class="paragraph">
<p>Beachten dabei, dass Git das Wechseln zu einem anderen Branch blockiert, falls dein Arbeitsverzeichnis oder dein Staging-Bereich nicht committete Modifikationen enthält, die Konflikte verursachen.
Generell ist es am besten, einen sauberen Zustand des Arbeitsbereichs anzustreben, bevor du Branches wechselst.
Es gibt Möglichkeiten, das zu umgehen (nämlich das Verstecken (engl. Stashen) und Revidieren (engl. Amending) von Änderungen), die wir später in Kapitel 7 <a href="{{< relurl "book/de/v2/ch00/_git_stashing" >}}">Git Stashing</a> behandeln werden.
Lass uns vorerst annehmen, du hast für alle deine Änderungen Commits durchgeführt, sodass du zu deinem vorherigen <code>master</code> Branch wechseln kannst.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout master
Switched to branch 'master'</code></pre>
</div>
</div>
<div class="paragraph">
<p>Zu diesem Zeitpunkt befindet sich das Arbeitsverzeichnis des Projektes in exakt dem gleichen Zustand, in dem es sich befand, bevor du mit der Arbeit an „Issue #53“ begonnen hast und du kannst dich direkt auf den Hotfix konzentrieren.
Das ist ein <strong>wichtiger Punkt</strong>, den du unbedingt beachten solltest: Wenn du die Branches wechselst, setzt Git dein Arbeitsverzeichnis zurück, um so auszusehen, wie es das letzte Mal war, als du in den Branch committed hast.
Dateien werden automatisch hinzugefügt, entfernt und verändert, um sicherzustellen, dass deine Arbeitskopie auf demselben Stand ist wie zum Zeitpunkt deines letzten Commits auf diesem Branch.</p>
</div>
<div class="paragraph">
<p>Als Nächstes musst du dich um den Hotfix kümmern.
Lass uns einen <code>hotfix</code> Branch erstellen, an dem du bis zu dessen Fertigstellung arbeitest:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout -b hotfix
Switched to a new branch 'hotfix'
$ vim index.html
$ git commit -a -m 'Fix broken email address'
[hotfix 1fb7853] Fix broken email address
 1 file changed, 2 insertions(+)</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/de/v2/images/basic-branching-4.png" >}}" alt="Auf dem `master` Branch basierender Hotfix-Branch">
</div>
<div class="title">Abbildung 21. Auf dem <code>master</code> Branch basierender Hotfix-Branch</div>
</div>
<div class="paragraph">
<p>Du kannst deine Tests durchführen, dich vergewissern, dass der Hotfix das macht, was du von ihm erwartest und schließlich den Branch <code>hotfix</code> wieder in deinen <code>master</code> Branch integrieren (engl. merge), um ihn in der Produktion einzusetzen.
Das machst du mit der Anweisung <code>git merge</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout master
$ git merge hotfix
Updating f42c576..3a0874c
Fast-forward
 index.html | 2 ++
 1 file changed, 2 insertions(+)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Dir wird bei diesem Zusammenführen der Ausdruck „fast-forward“ auffallen.
Da der Commit <code>C4</code>, auf den der von dir eingebundene Branch <code>hotfix</code> zeigt, direkt vor dem Commit <code>C2</code> liegt, auf dem du dich befindest, bewegt Git den Pointer einfach nach vorne.
Um es anders auszudrücken: Wenn du versuchst, einen Commit mit einem Commit zusammenzuführen, der durch Verfolgen der Historie des ersten Commits erreicht werden kann, vereinfacht Git die Dinge, indem er den Zeiger nach vorne bewegt, da es keine verzweigte Arbeiten gibt, die miteinander gemerged werden müssen – das wird als „fast-forward“ bezeichnet.</p>
</div>
<div class="paragraph">
<p>Deine Änderung befindet sich nun im Schnappschuss des Commits, auf den der <code>master</code> Branch zeigt und du kannst deinen Fix ausliefern und installieren.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/de/v2/images/basic-branching-5.png" >}}" alt="`master` wurde zu `hotfix` „fast-forwarded“">
</div>
<div class="title">Abbildung 22. <code>master</code> wurde zu <code>hotfix</code> „fast-forwarded“</div>
</div>
<div class="paragraph">
<p>Nachdem deine überaus wichtiger Fix bereitgestellt wurde, kannst du dich wieder dem zuwenden, woran du vorher gearbeitet hast.
Zunächst solltest du jedoch den <code>hotfix</code> Branch löschen, weil du diesen nicht länger benötigst – schließlich verweist der <code>master</code> Branch auf denselben Entwicklungsstand.
Du kannst ihn mit der Anweisung <code>git branch</code> und der Option <code>-d</code> löschen:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git branch -d hotfix
Deleted branch hotfix (3a0874c).</code></pre>
</div>
</div>
<div class="paragraph">
<p>Jetzt kannst du zum vorherigen Branch wechseln, auf dem du mit deinen Arbeiten an „Issue #53“ begonnen hattest und daran weiter arbeiten.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout iss53
Switched to branch "iss53"
$ vim index.html
$ git commit -a -m 'Finish the new footer [issue 53]'
[iss53 ad82d7a] Finish the new footer [issue 53]
1 file changed, 1 insertion(+)</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/de/v2/images/basic-branching-6.png" >}}" alt="Arbeiten an `iss53` fortsetzen">
</div>
<div class="title">Abbildung 23. Arbeiten an <code>iss53</code> fortsetzen</div>
</div>
<div class="paragraph">
<p>Erwähnenswert ist, dass die Änderungen, die du in deinem <code>hotfix</code> Branch durchgeführt hast, nicht in den Dateien deines <code>iss53</code> Branch enthalten sind.
Wenn du diese Änderungen übernehmen willst, kannst du deinen <code>master</code> Branch in den <code>iss53</code> Branch mergen, indem du <code>git merge master</code> ausführst. Du kannst aber auch warten und dich später dazu entscheiden, den <code>iss53</code> Branch in <code>master</code> zu übernehmen (engl. pullen).</p>
</div>
</div>
<div class="sect3">
<h3 id="_basic_merging">Einfaches Merging</h3>
<div class="paragraph">
<p>
Angenommen, du hast dich entschieden, dass dein Issue #53 abgeschlossen ist und du bereit bist, ihn in deinem Branch <code>master</code> zu mergen.
Dann wirst du deinen <code>iss53</code> Branch in den <code>master</code> Branch mergen, so wie du es zuvor mit dem <code>hotfix</code> Branch gemacht hast.
Du musst nur mit der Anweisung <code>checkout</code> zum Branch wechseln, in welchen du etwas einfließen lassen willst und dann die Anweisung <code>git merge</code> ausführen:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout master
Switched to branch 'master'
$ git merge iss53
Merge made by the 'recursive' strategy.
index.html |    1 +
1 file changed, 1 insertion(+)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Das sieht ein bisschen anders aus, als das Merging mit dem <code>hotfix</code> Branch, welches du zuvor gemacht hast.
Hier hat sich der Entwicklungsverlauf an einem früheren Zustand geteilt.
Da der Commit auf dem Branch, auf dem du dich gerade befindest, kein unmittelbarer Vorgänger des Branches ist, in den du mergst, muss Git einige Arbeiten erledigen.
In diesem Fall führt Git einen einfachen Drei-Wege-Merge durch, indem er die beiden Schnappschüsse verwendet, auf die das Branch-Ende und der gemeinsame Vorgänger der beiden zeigen.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/de/v2/images/basic-merging-1.png" >}}" alt="Drei Schnappschüsse" width="die bei einem typischen `merge` benutzt werden">
</div>
<div class="title">Abbildung 24. Drei Schnappschüsse, die bei einem typischen <code>merge</code> benutzt werden</div>
</div>
<div class="paragraph">
<p>Anstatt einfach den Zeiger des Branches vorwärts zu bewegen, erstellt Git einen neuen Schnappschuss, der aus dem Drei-Wege-Merge resultiert und erzeugt automatisch einen neuen Commit, der darauf zeigt.
Das wird auch als Merge-Commit bezeichnet und ist ein Spezialfall, weil er mehr als nur einen Vorgänger hat.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/de/v2/images/basic-merging-2.png" >}}" alt="Ein Merge-Commit">
</div>
<div class="title">Abbildung 25. Ein Merge-Commit</div>
</div>
<div class="paragraph">
<p>Da deine Änderungen jetzt eingeflossen sind, hast du keine weitere Verwendung mehr für den <code>iss53</code> Branch.
Du kannst den Issue in deinem Issue-Tracking-System schließen und den Branch löschen:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git branch -d iss53</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h3 id="_basic_merge_conflicts">Einfache Merge-Konflikte</h3>
<div class="paragraph">
<p>
Gelegentlich verläuft der Merge-Prozess nicht ganz reibungslos.
Wenn du in den beiden Branches, die du zusammenführen willst, an derselben Stelle in derselben Datei unterschiedliche Änderungen vorgenommen hast, wird Git nicht in der Lage sein, diese sauber zusammenzuführen.
Wenn dein Fix für „Issue #53“ den gleichen Teil einer Datei wie der Branch <code>hotfix</code> geändert hat, erhältst du einen Merge-Konflikt, der ungefähr so aussieht:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git merge iss53
Auto-merging index.html
CONFLICT (content): Merge conflict in index.html
Automatic merge failed; fix conflicts and then commit the result.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Git konnte einen neuen Merge-Commit nicht automatisch erstellen.
Es hat den Prozess angehalten, bis du den Konflikt beseitigt hast.
Wenn du sehen möchtest, welche Dateien zu irgendeinem Zeitpunkt nach einem Merge-Konflikt nicht zusammengeführt wurden, kannst du <code>git status</code> ausführen:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git status
On branch master
You have unmerged paths.
  (fix conflicts and run "git commit")

Unmerged paths:
  (use "git add &lt;file&gt;..." to mark resolution)

    both modified:      index.html

no changes added to commit (use "git add" and/or "git commit -a")</code></pre>
</div>
</div>
<div class="paragraph">
<p>Alles, was Merge-Konflikte ausgelöst hat und nicht behoben wurde, wird als <code>unmerged</code> angezeigt.
Git fügt den Dateien, die Konflikte haben, Standardmarkierungen zur Konfliktlösung hinzu, so dass du sie manuell öffnen und diese Konflikte lösen können.
Deine Datei enthält einen Bereich, der in etwa so aussieht:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-html" data-lang="html">&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD:index.html
&lt;div id="footer"&gt;contact : email.support@github.com&lt;/div&gt;
=======
&lt;div id="footer"&gt;
 please contact us at support@github.com
&lt;/div&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt; iss53:index.html</code></pre>
</div>
</div>
<div class="paragraph">
<p>Das bedeutet, die Version in <code>HEAD</code> (das ist der aktuelle commit <code>master</code> Branches, denn der wurde per <code>checkout</code> aktiviert, als du den <code>Merge</code> gestartet hast) ist der obere Teil des Blocks (alles oberhalb von <code>=======</code>) und die Version aus dem <code>iss53</code> Branch ist in dem darunter befindliche Teil.
Um den Konflikt zu lösen, musst du dich entweder für einen der beiden Teile entscheiden oder du führst die Inhalte selbst zusammen.
Du kannst diesen Konflikt beispielsweise lösen, indem du den gesamten Block durch diesen ersetzen:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-html" data-lang="html">&lt;div id="footer"&gt;
please contact us at email.support@github.com
&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Diese Lösung hat von beiden Teilen etwas und die Zeilen mit <code>&lt;&lt;&lt;&lt;&lt;&lt;&lt;</code>, <code>=======</code> und <code>&gt;&gt;&gt;&gt;&gt;&gt;&gt;</code> wurden vollständig entfernt.
Nachdem du alle problematischen Bereiche in allen von dem Konflikt betroffenen Dateien beseitigt hast, führst du einfach die Anweisung <code>git add</code> für alle betroffenen Dateien aus, um sie als gelöst zu markieren.
Dieses ‚Staging‘ der Dateien markiert sie für Git als bereinigt.</p>
</div>
<div class="paragraph">
<p>Wenn du ein grafisches Tool benutzen möchtest, um die Probleme zu lösen, dann kannst du <code>git mergetool</code> verwenden, welches ein passendes grafisches Merge-Tool startet und dich durch die Konfliktbereiche führt:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git mergetool

This message is displayed because 'merge.tool' is not configured.
See 'git mergetool --tool-help' or 'git help config' for more details.
'git mergetool' will now attempt to use one of the following tools:
opendiff kdiff3 tkdiff xxdiff meld tortoisemerge gvimdiff diffuse diffmerge ecmerge p4merge araxis bc3 codecompare vimdiff emerge
Merging:
index.html

Normal merge conflict for 'index.html':
  {local}: modified file
  {remote}: modified file
Hit return to start merge resolution tool (opendiff):</code></pre>
</div>
</div>
<div class="paragraph">
<p>Wenn du ein anderes Merge-Tool anstelle des Standardwerkzeugs verwenden möchten (Git wählte in diesem Fall <code>opendiff</code>, da die Anweisung auf einem Mac ausgeführt wurde), dann kannst du alle unterstützten Werkzeuge sehen, die oben nach „one of the following tools“ aufgelistet sind.
Tippe einfach den Namen des gewünschten Programms ein.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Anmerkung</div>
</td>
<td class="content">
<div class="paragraph">
<p>Wenn du fortgeschrittenere Werkzeuge zur Lösung kniffliger Merge-Konflikte benötigst, erfährst du mehr darüber in Kapitel 7 <a href="{{< relurl "book/de/v2/ch00/_advanced_merging" >}}">Fortgeschrittenes Merging</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Nachdem du das Merge-Tool beendet hast, wirst du von Git gefragt, ob das Zusammenführen erfolgreich war.
Wenn du das bestätigst, wird die Datei der Staging-Area hinzugefügt und der Konflikt als gelöst markiert.
Du kannst den Befehl <code>git status</code> erneut ausführen, um zu überprüfen, ob alle Konflikte gelöst wurden:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git status
On branch master
All conflicts fixed but you are still merging.
  (use "git commit" to conclude merge)

Changes to be committed:

    modified:   index.html</code></pre>
</div>
</div>
<div class="paragraph">
<p>Wenn du damit zufrieden bist und geprüft hast, dass alles, was Konflikte aufwies, der Staging-Area hinzugefügt wurde, kannst du die Anweisung <code>git commit</code> ausführen, um den Merge-Commit abzuschließen.
Die standardmäßige Commit-Nachricht sieht ungefähr so aus:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">Merge branch 'iss53'

Conflicts:
    index.html
#
# It looks like you may be committing a merge.
# If this is not correct, please remove the file
#	.git/MERGE_HEAD
# and try again.


# Please enter the commit message for your changes. Lines starting
# with '#' will be ignored, and an empty message aborts the commit.
# On branch master
# All conflicts fixed but you are still merging.
#
# Changes to be committed:
#	modified:   index.html
#</code></pre>
</div>
</div>
<div class="paragraph">
<p>Du kannst diese Commit-Nachricht noch Details darüber hinzufügen, wie du diesen Merge-Konflikt gelöst hast. Es könnte für künftige Betrachter dieses Commits hilfreich sein, zu verstehen, warum du etwas getan hast, falls es nicht offensichtlich ist.</p>
</div>
</div>
<div id="nav"><a href="{{< previous-section >}}">prev</a> | <a href="{{< next-section >}}">next</a></div>