---
### DO NOT EDIT! Generated by script/update-book2.rb
category: book
section: documentation
subsection: book
sidebar: book
book:
  language_code: pt-br
  chapter:
    title: Distributed Git
    number: 5
  section:
    title: Fluxos de Trabalho Distribuídos
    number: 1
    cs_number: '5.1'
    previous: book/pt-br/v2/Git-no-servidor-Sumário
    next: book/pt-br/v2/Distributed-Git-Contribuindo-com-um-Projeto
title: Git - Fluxos de Trabalho Distribuídos
url: "/book/pt-br/v2/Distributed-Git-Fluxos-de-Trabalho-Distribuídos.html"
---
<p>
Now that you have a remote Git repository set up as a point for all the developers to share their code, and you’re familiar with basic Git commands in a local workflow, you’ll look at how to utilize some of the distributed workflows that Git affords you.</p><p>In this chapter, you’ll see how to work with Git in a distributed environment as a contributor and an integrator.
That is, you’ll learn how to contribute code successfully to a project and make it as easy on you and the project maintainer as possible, and also how to maintain a project successfully with a number of developers contributing.</p>
<h2 id="_fluxos_de_trabalho_distribuídos">Fluxos de Trabalho Distribuídos</h2>
<div class="paragraph">
<p>
Em contraste com Sistemas de Controle de Versão Centralizados (CVCSs), a natureza compartilhada do Git permite ser muito mais flexível na maneira que desenvolvedores colaboram em projetos.
Em sistemas centralizados, cada desenvolvedor é um nó trabalhando mais ou menos pareado com o ponto central (<em>hub</em>).
No Git, entretanto, cada desenvolvedor pode ser tanto um nó quanto um hub; ou seja, cada desenvolvedor pode tanto contribuir para o código de outros repositórios quanto manter um repositório público no qual outros podem basear o trabalho deles e contribuir.
Isto permite várias possibilidades no fluxo de trabalho de seu projeto e/ou da sua equipe, então iremos explorar alguns paradigmas comuns que aproveitam esta flexibilidade.
Cobriremos os pontos fortes e as possíveis fraquezas de cada design; você poderá escolher apenas um para usar, ou uma combinação de suas características.</p>
</div>
<div class="sect3">
<h3 id="_fluxo_de_trabalho_centralizado">Fluxo de Trabalho Centralizado</h3>
<div class="paragraph">
<p>
Em sistemas centralizados, geralmente há um único modelo de colaboração — o fluxo de trabalho centralizado.
Um hub central, ou <em>repositório</em>, que pode aceitar código e todos sincronizam seu trabalho com ele.
Alguns desenvolvedores são nós — consumidores daquele hub — e sincronizam com aquela localização central.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/pt-br/v2/images/centralized_workflow.png" >}}" alt="Centralized workflow.">
</div>
<div class="title">Figure 54. Fluxo de trabalho centralizado</div>
</div>
<div class="paragraph">
<p>Isto significa que se dois desenvolvedores clonarem do hub e ambos fizerem alterações, o primeiro desenvolvedor que publicar (<em>push</em>) no servidor pode fazê-lo sem problemas.
O segundo desenvolvedor deve mesclar (<em>merge</em>) com o trabalho do primeiro antes de publicar suas mudanças, para não sobrescrever as modificações do primeiro desenvolvedor.
Este conceito é tão verdadeiro em Git quanto em Subversion (ou qualquer CVCS), e este modelo funciona perfeitamente bem em Git.</p>
</div>
<div class="paragraph">
<p>Se você já é confortável com um fluxo de trabalho centralizado na sua companhia ou equipe, pode facilmente continuar usando este fluxo de trabalho com o Git.
Simplesmente configure um único repositório, e dê para todos no seu time permissão de publicação (<em>push</em>); Git não permitirá os usuários sobrescreverem-se.</p>
</div>
<div class="paragraph">
<p>Digamos que John e Jessica começaram a trabalhar ao mesmo tempo.
John termina sua modificação e dá um push para o servidor.
Então Jessica tenta dar um push das alterações dela, mas o servidor as rejeita.
Ela recebe uma mensagem de que está tentando dar um push com modificações conflitantes (<mark>non-fast-forward</mark>) e que não conseguirá até as resolver e mesclar.
Este fluxo de trabalho atrai várias pessoas pois já é um modelo familiar e confortável para muitos.</p>
</div>
<div class="paragraph">
<p>Isto não é limitado apenas a equipes pequenas.
Com o modelo de ramificações do Git, é possível para centenas de desenvolvedores conseguirem trabalhar em um único projeto através de dúzias de ramos (<em>branches</em>) simultaneamente.</p>
</div>
</div>
<div class="sect3">
<h3 id="r_integration_manager">Fluxo de Trabalho Coordenado</h3>
<div class="paragraph">
<p>
Como o Git permite ter múltiplos repositórios remotos, é possível ter um fluxo de trabalho onde cada desenvolvedor tem permissão de escrita para o seu próprio repositório, e permissão de leitura para o de todos os outros.
Este cenário geralmente inclui um repositório canônico que representa o projeto “oficial”.
Para contribuir com este projeto, você cria seu próprio clone público do projeto e dá um push das suas modificações.
Então você pode mandar um pedido para os coordenadores do projeto principal para aceitarem (<em>pull</em>) suas mudanças.
Os coordenadores podem então adicionar seu repositório como um repositório remoto deles, testar suas mudanças localmente, mesclá-las (<em>merge</em>) nos respectivos branches e publicar (<em>push</em>) no repositório principal.
O processo funciona assim (ver <a href="{{< relurl "book/pt-br/v2/ch00/rwfdiag_b" >}}">Fluxo de trabalho coordenado</a>):</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Os coordenadores do projeto publicam no repositório público.</p>
</li>
<li>
<p>Um colaborador clona o repositório e faz modificações.</p>
</li>
<li>
<p>O colaborador dá um push para a sua própria cópia pública.</p>
</li>
<li>
<p>Este contribuinte manda aos coordenadores um email pedindo para incluir as modificações.</p>
</li>
<li>
<p>Os coordenadores adicionam o repositório do colaborador como um repositório remoto e o mesclam localmente.</p>
</li>
<li>
<p>Os coordenadores publicam as alterações combinadas no repositório principal.</p>
</li>
</ol>
</div>
<div id="rwfdiag_b" class="imageblock">
<div class="content">
<img src="{{< relurl "book/pt-br/v2/images/integration-manager.png" >}}" alt="Integration-manager workflow">
</div>
<div class="title">Figure 55. Fluxo de trabalho coordenado</div>
</div>
<div class="paragraph">
<p>
Este é um fluxo de trabalho bastante comum em ferramentas baseadas em um hub como GitHub ou GitLab, onde é fácil bifurcar (<em>fork</em>) um projeto e publicar suas modificações no seu próprio fork para todos verem.
Uma das principais vantagens desta abordagem é que você pode continuar a trabalhar, e os coordenadores do repositório principal podem incluir as suas modificações a qualquer hora.
Colaboradores não tem que esperar pelo projeto para incorporar suas mudanças -– cada grupo pode trabalhar na sua própria velocidade.</p>
</div>
</div>
<div class="sect3">
<h3 id="_fluxo_de_trabalho_ditador_e_tenentes">Fluxo de Trabalho Ditador e Tenentes</h3>
<div class="paragraph">
<p>
Esta é uma variante de um fluxo de trabalho com múltiplos repositórios.
É geralmente usada por projetos gigantescos com centenas de colaboradores; um exemplo famoso é o kernel Linux.
Vários coordenadores são responsáveis por partes específicas do repositório, eles são chamados <em>tenentes</em>.
Todos os tenentes têm um coordenador conhecido como o ditador benevolente.
O ditador benevolente publica (<em>push</em>) do diretório deles para um repositório de referência do qual todos os colaboradores precisam buscar (<em>pull</em>).
Este processo funciona assim (ver <a href="{{< relurl "book/pt-br/v2/ch00/rwfdiag_c" >}}">Fluxo de trabalho do ditador benevolente</a>):</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Desenvolvedores comuns trabalham no seu próprio branch, baseando seu trabalho no <code>master</code>.
Este branch <code>master</code> é aquele do repositório de referência no qual o ditador publica (<em>push</em>).</p>
</li>
<li>
<p>Tenentes mesclam (<em>merge</em>) cada branch dos desenvolvedores ao branch <code>master</code> deles.</p>
</li>
<li>
<p>O ditador mescla os branches <code>master</code> dos tenentes no branch <code>master</code> do ditador.</p>
</li>
<li>
<p>Finalmente, o ditador publica aquele branch <code>master</code> para o repositório de referência então os desenvolvedores podem se basear nele.</p>
</li>
</ol>
</div>
<div id="rwfdiag_c" class="imageblock">
<div class="content">
<img src="{{< relurl "book/pt-br/v2/images/benevolent-dictator.png" >}}" alt="Benevolent dictator workflow">
</div>
<div class="title">Figure 56. Fluxo de trabalho do ditador benevolente</div>
</div>
<div class="paragraph">
<p>Este tipo de fluxo de trabalho não é comum, mas pode ser útil em projetos muito grandes, ou em ambientes altamente hierárquicos.
Ele permite ao líder de projeto (o ditador) delegar muitas tarefas e coletar vários pedaços de código de múltiplas fontes antes de combiná-los.</p>
</div>
</div>
<div class="sect3">
<h3 id="_patterns_for_managing_source_code_branches">Padrões para Controlar Branches de Código Fonte</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Martin Fowler fez um manual "Patterns for Managing Source Code Branches".
Este guia cobre todos os fluxos de trabalho comuns, e explica como/quando utilizá-los.
Há também uma seção comparando fluxos com muitas ou poucas combinações.</p>
</div>
<div class="paragraph">
<p><a href="https://martinfowler.com/articles/branching-patterns.html" class="bare">https://martinfowler.com/articles/branching-patterns.html</a></p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h3 id="_resumo_do_fluxo_de_trabalho">Resumo do Fluxo de Trabalho</h3>
<div class="paragraph">
<p>Estes são alguns fluxos de trabalho comumente utilizados graças a sistemas distribuídos como o Git, mas muitas variações podem ser adaptadas ao seu fluxo de trabalho no mundo real.
Agora que você é capaz (tomara) de determinar qual combinação de fluxo de trabalho deve funcionar para você, iremos cobrir alguns exemplos mais específicos de como realizar as principais funções que compõem os diferentes fluxos.
Na próxima seção, você irá aprender sobre alguns padrões comuns para contribuir com um projeto.</p>
</div>
</div>
<div id="nav"><a href="{{< previous-section >}}">prev</a> | <a href="{{< next-section >}}">next</a></div>