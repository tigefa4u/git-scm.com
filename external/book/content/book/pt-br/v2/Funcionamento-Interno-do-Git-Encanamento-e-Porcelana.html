---
### DO NOT EDIT! Generated by script/update-book2.rb
category: book
section: documentation
subsection: book
sidebar: book
book:
  language_code: pt-br
  chapter:
    title: Funcionamento Interno do Git
    number: 10
  section:
    title: Encanamento e Porcelana
    number: 1
    cs_number: '10.1'
    previous: book/pt-br/v2/Git-and-Other-Systems-Summary
    next: book/pt-br/v2/Funcionamento-Interno-do-Git-Objetos-do-Git
title: Git - Encanamento e Porcelana
---
<p>Talvez você venha de um capítulo anterior para este, ou talvez você tenha chegado aqui depois de ler o resto do livro. De qualquer forma, aqui iremos para o funcionamento e implementação internos do Git.
Nós achávamos que aprender esta informação era de fundamental importância para o entendimento do quão útil e poderoso o Git é, mas outras pessoas alegaram para nós que isso pode ser confuso e desnecessariamente complexo para iniciantes.
Desta forma, levamos esta discussão para o último capítulo do livro, de forma que você possa lê-lo tanto no começo quanto mais tarde em seu aprendizado.
Deixamos que você decida isso.</p><p>Já que você está aqui, vamos começar.
Primeiramente, se ainda não está claro, o Git é essencialmente um sistema de arquivos de conteúdo endereçável com uma interface de usuário de um VCS escrita sobre ele.
Você logo aprenderá o que isso significa.</p><p>Nos primeiros dias do Git (principalmente antes da versão 1.5), a interface de usuário era muito mais complexa por ela enfatizar mais esse sistema de arquivos do que ser um VCS pronto.
Nos últimos anos, a interface de usuário foi refinada até se tornar tão clara e fácil quanto qualquer outro VCS; porém, com frequência ainda perdura o esteriótipo da interface antiga do Git que era complexa e difícil de aprender.</p><p>O sistema de arquivos de conteúdo endereçável é incrivelmente interessante, então cobriremos isto primeiramente neste capítulo; em seguida, você irá aprender sobre os mecanismos de transporte e as tarefas de manutenção que você eventualmente terá de lidar.</p>
<h2 id="r_plumbing_porcelain">Encanamento e Porcelana</h2>
<div class="paragraph">
<p>Este livro cobre como usar o Git com mais ou menos 30 verbos como <code>checkout</code>, <code>branch</code>, <code>remote</code>, entre outros.
Porém, como o Git a princípio era um conjunto de ferramentas para um VCS em vez de um VCS completo e amigável, ele tem uma porção de verbos que fazem trabalhos de baixo nível e foram feitos para serem encadeados no estilo UNIX ou serem chamados em <em>scripts</em>.
Esses comandos normalmente são chamados como comandos de “encanamento” (<em>plumbing</em>), e os mais amigáveis são chamados de comandos “porcelana” (<em>porcelain</em>).</p>
</div>
<div class="paragraph">
<p>Os primeiros nove capítulos deste livro lidam quase exclusivamente com comandos porcelana.
Entretanto, neste capítulo, você irá lidar na maior parte do tempo com os comandos de encanamento, de nível mais baixo, pois eles lhe darão acesso ao funcionamento interno do Git e ajudarão a demonstrar como e porque o Git faz o que ele faz.
Muitos desses comandos não foram feitos para serem usados manualmente na linha de comando, mas para serem usados como blocos de construção de novas ferramentas e <em>scripts</em> próprios.</p>
</div>
<div class="paragraph">
<p>Quando você executa <code>git init</code> em um diretório novo ou existente, o Git cria um diretório <code>.git</code>, que é onde é localizado quase tudo que o Git armazena ou manipula.
Se você quer fazer uma cópia ou clonar o seu repositório, copiar apenas este diretório para outro lugar te dá quase tudo que você precisa.
Este capítulo inteiro basicamente lida com o conteúdo deste diretório.
A aparência dele é essa:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ ls -F1
HEAD
config*
description
hooks/
info/
objects/
refs/</code></pre>
</div>
</div>
<div class="paragraph">
<p>Talvez você veja outros arquivos nesse diretório, porém esse é um repositório logo após um <code>git init</code> - isso é o que você vê por padrão.
O arquivo <code>description</code> só é usado pelo programa GitWeb, então não se preocupe com ele.
O arquivo <code>config</code> contem opções de configuração específicas do seu projeto, e o diretório <code>info</code> mantém um arquivo <code>exclude</code> global  para padrões ignorados que você não gostaria de colocar em um arquivo <code>.gitignore</code>.
O diretório <code>hooks</code> contém scripts <em>hooks</em> tanto para o lado do cliente quanto do servidor, que são discutidos em detalhes em <a href="{{< relurl "book/pt-br/v2/ch00/r_git_hooks" >}}">Git Hooks</a>.</p>
</div>
<div class="paragraph">
<p>Isto nos deixa quatro importantes entradas: o arquivo <code>HEAD</code> e o (ainda a ser criado) arquivo <code>index</code>, além dos diretórios <code>objects</code> e <code>refs</code>.
Essas são as partes principais do Git.
O diretório <code>objects</code> guarda todo o conteúdo para o seu banco de dados, o diretório <code>refs</code> guarda referências para objetos <em>commit</em> nesse banco de dados (<em>branches</em>), o arquivo <code>HEAD</code> aponta para a <em>branch</em> em que você fez um <em>checkout</em>, e o arquivo <code>index</code> é onde o Git guarda a informação da área de <em>stage</em>.
Você irá agora ver cada uma das trẽs seções em detalhes para entender como o Git funciona.</p>
</div>
<div id="nav"><a href="{{< previous-section >}}">prev</a> | <a href="{{< next-section >}}">next</a></div>