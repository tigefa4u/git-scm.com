---
### DO NOT EDIT! Generated by script/update-book2.rb
category: book
section: documentation
subsection: book
sidebar: book
book:
  language_code: zh
  chapter:
    title: '附录 A: 在其它环境中使用 Git'
    number: 1
  section:
    title: Bash 中的 Git
    number: 6
    cs_number: A1.6
    previous: book/zh/v2/附录-A:-在其它环境中使用-Git-Sublime-Text-中的-Git
    next: book/zh/v2/附录-A:-在其它环境中使用-Git-Zsh-中的-Git
title: Git - Bash 中的 Git
url: "/book/zh/v2/附录-A:-在其它环境中使用-Git-Bash-中的-Git.html"
---
<h2 id="_bash_中的_git">Bash 中的 Git</h2>
<div class="paragraph">
<p>
如果你是一名 Bash 用户，你可以从中发掘出一些 Shell 的特性，让你在使用 Git 时更加随心所欲。
实际上 Git 附带了几个 Shell 的插件，但是这些插件并不是默认打开的。</p>
</div>
<div class="paragraph">
<p>首先，你需要从你使用的 Git 发行版的源代码中获得一份自动补全文件的拷贝。
输入 <code>git version</code> 检查版本，然后使用 <code>git checkout tags/vX.Y.Z</code>，其中 <code>vX.Y.Z</code> 对应于你正在使用的 Git 版本。
将这个 <code>contrib/completion/git-completion.bash</code> 文件复制到一个相对便捷的目录，例如你的 Home 目录，并且将它的路径添加到 <code>.bashrc</code> 中：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">. ~/git-completion.bash</code></pre>
</div>
</div>
<div class="paragraph">
<p>做完这些之后，请将你当前的目录切换到某一个 Git 仓库，并且输入：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git chec&lt;tab&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>……此时 Bash 将会把上面的命令自动补全为 <code>git checkout</code>。
在适当的情况下，这项功能适用于 Git 所有的子命令、命令行参数、以及远程仓库与引用名。</p>
</div>
<div class="paragraph">
<p>这项功能也可以用于你自己定义的提示符（<code>prompt</code>），显示当前目录下 Git 仓库的信息。
根据你的需要，这个信息可以简单或复杂，这里通常有大多数人想要的几个关键信息，比如当前分支信息和当前工作目录的状态信息。
要添加你自己的提示符（<code>prompt</code>），只需从 Git 源版本库复制 <code>contrib/completion/git-prompt.sh</code> 文件到你的 Home 目录（或其他便于你访问与管理的目录）， 并在 <code>.bashrc</code> 里添加这个文件路径，类似于下面这样：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">. ~/git-prompt.sh
export GIT_PS1_SHOWDIRTYSTATE=1
export PS1='\w$(__git_ps1 " (%s)")\$ '</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>\w</code> 表示打印当前工作目录，<code>\$</code> 打印 <code>$</code> 部分的提示符（<code>prompt</code>），<code>__git_ps1 " (%s)"</code> 表示通过格式化参数符（<code>%s</code>）调用`git-prompt.sh`脚本中提供的函数。
因为有了这个自定义提示符，现在你的 <code>Bash</code> 提示符（<code>prompt</code>）在 Git 仓库的任何子目录中都将显示成这样：</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/zh/v2/images/git-bash.png" >}}" alt="自定义的 `bash` 提示符（`prompt`）.">
</div>
<div class="title">Figure 159. 自定义的 <code>bash</code> 提示符（<code>prompt</code>）.</div>
</div>
<div class="paragraph">
<p>这两个脚本都提供了很有帮助的文档；浏览 <code>git-completion.bash</code> 和 <code>git-prompt.sh</code> 的内容以获得更多信息。</p>
</div>
<div id="nav"><a href="{{< previous-section >}}">prev</a> | <a href="{{< next-section >}}">next</a></div>