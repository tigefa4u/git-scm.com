---
### DO NOT EDIT! Generated by script/update-book2.rb
category: book
section: documentation
subsection: book
sidebar: book
book:
  language_code: zh
  chapter:
    title: '附录 C: Git 命令'
    number: 3
  section:
    title: 管理
    number: 11
    cs_number: A3.11
    previous: book/zh/v2/附录-C:-Git-命令-外部系统
    next: book/zh/v2/附录-C:-Git-命令-底层命令
title: Git - 管理
url: "/book/zh/v2/附录-C:-Git-命令-管理.html"
---
<h2 id="_管理_2">管理</h2>
<div class="paragraph">
<p>如果你正在管理一个 Git 仓库，或者需要通过一个复杂的方法来修复某些东西，Git 提供了一些管理命令来帮助你。</p>
</div>
<div class="sect3">
<h3 id="_git_gc_2">git gc</h3>
<div class="paragraph">
<p><code>git gc</code> 命令在你的仓库中执行 “garbage collection”，删除数据库中不需要的文件和将其他文件打包成一种更有效的格式。</p>
</div>
<div class="paragraph">
<p>此命令一般在背后为你工作，虽然你可以手动执行它-如果你想的话。
我们在<a href="{{< relurl "book/zh/v2/ch00/_git_gc" >}}">维护</a> 一节中研究此命令的几个示例。</p>
</div>
</div>
<div class="sect3">
<h3 id="_git_fsck">git fsck</h3>
<div class="paragraph">
<p><code>git fsck</code> 命令用来检查内部数据库的问题或者不一致性。</p>
</div>
<div class="paragraph">
<p>我们只在 <a href="{{< relurl "book/zh/v2/ch00/_data_recovery" >}}">数据恢复</a> 这一节中快速使用了一次此命令来搜索所有的悬空对象（dangling object）。</p>
</div>
</div>
<div class="sect3">
<h3 id="_git_reflog_2">git reflog</h3>
<div class="paragraph">
<p><code>git reflog</code> 命令分析你所有分支的头指针的日志来查找出你在重写历史上可能丢失的提交。</p>
</div>
<div class="paragraph">
<p>我们主要在 <a href="{{< relurl "book/zh/v2/ch00/_git_reflog" >}}">引用日志</a> 一节中提到了此命令，并在展示了一般用法，及如何使用 <code>git log -g</code> 来通过 <code>git log</code> 的输出来查看同样的信息。</p>
</div>
<div class="paragraph">
<p>我们同样在 <a href="{{< relurl "book/zh/v2/ch00/_data_recovery" >}}">数据恢复</a> 一节中研究了一个恢复丢失的分支的实例。</p>
</div>
</div>
<div class="sect3">
<h3 id="_git_filter_branch">git filter-branch</h3>
<div class="paragraph">
<p><code>git filter-branch</code> 命令用来根据某些规则来重写大量的提交记录，例如从任何地方删除文件，或者通过过滤一个仓库中的一个单独的子目录以提取出一个项目。</p>
</div>
<div class="paragraph">
<p>在 <a href="{{< relurl "book/zh/v2/ch00/_removing_file_every_commit" >}}">从每一个提交中移除一个文件</a> 一节中，我们解释了此命令，并探究了其他几个选项，例如 <code>--commit-filter</code>，<code>--subdirectory-filter</code> 及 <code>--tree-filter</code> 。</p>
</div>
<div class="paragraph">
<p>在 <a href="{{< relurl "book/zh/v2/ch00/_git_p4" >}}">Git-p4</a> 的章节中我们使用它来修复已经导入的外部仓库。</p>
</div>
</div>
<div id="nav"><a href="{{< previous-section >}}">prev</a> | <a href="{{< next-section >}}">next</a></div>