---
### DO NOT EDIT! Generated by script/update-book2.rb
category: book
section: documentation
subsection: book
sidebar: book
book:
  language_code: zh
  chapter:
    title: 起步
    number: 1
  section:
    title: 安装 Git
    number: 5
    cs_number: '1.5'
    previous: book/zh/v2/起步-命令行
    next: book/zh/v2/起步-初次运行-Git-前的配置
title: Git - 安装 Git
url: "/book/zh/v2/起步-安装-Git.html"
---
<h2 id="_安装_git">安装 Git</h2>
<div class="paragraph">
<p>在你开始使用 Git 前，需要将它安装在你的计算机上。
即便已经安装，最好将它升级到最新的版本。
你可以通过软件包或者其它安装程序来安装，或者下载源码编译安装。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>本书写作时使用的 Git 版本为 <strong>2.8.0</strong>。
我们使用的大部分命令仍然可以在很古老的 Git 版本上使用，但也有少部分命令不好用或者在旧版本中的行为有差异。
因为 Git 在保持向后兼容方面表现很好，本书使用的这些命令在 2.8 之后的版本应该有效。</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h3 id="_在_linux_上安装">在 Linux 上安装</h3>
<div class="paragraph">
<p>
如果你想在 Linux 上用二进制安装程序来安装基本的 Git 工具，可以使用发行版包含的基础软件包管理工具来安装。
以 Fedora 为例，如果你在使用它（或与之紧密相关的基于 RPM 的发行版，如 RHEL 或 CentOS），你可以使用 <code>dnf</code>：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ sudo dnf install git-all</code></pre>
</div>
</div>
<div class="paragraph">
<p>如果你在基于 Debian 的发行版上，如 Ubuntu，请使用 <code>apt</code>：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ sudo apt install git-all</code></pre>
</div>
</div>
<div class="paragraph">
<p>要了解更多选择，Git 官方网站上有在各种 Unix 发行版的系统上安装步骤，网址为 <a href="https://git-scm.com/download/linux" class="bare">https://git-scm.com/download/linux</a>。</p>
</div>
</div>
<div class="sect3">
<h3 id="_在_macos_上安装">在 macOS 上安装</h3>
<div class="paragraph">
<p>
在 Mac 上安装 Git 有多种方式。
最简单的方法是安装 Xcode Command Line Tools。
Mavericks （10.9） 或更高版本的系统中，在 Terminal 里尝试首次运行 'git' 命令即可。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git --version</code></pre>
</div>
</div>
<div class="paragraph">
<p>如果没有安装过命令行开发者工具，将会提示你安装。</p>
</div>
<div class="paragraph">
<p>如果你想安装更新的版本，可以使用二进制安装程序。
官方维护的 macOS Git 安装程序可以在 Git 官方网站下载，网址为 <a href="https://git-scm.com/download/mac" class="bare">https://git-scm.com/download/mac</a>。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/zh/v2/images/git-osx-installer.png" >}}" alt="Git macOS 安装程序。">
</div>
<div class="title">Figure 7. Git macOS Installer.</div>
</div>
<div class="paragraph">
<p>你也可以将它作为 GitHub for macOS 的一部分来安装。
它们的图形化 Git 工具有一个安装命令行工具的选项。
你可以从 GitHub for macOS 网站下载该工具，网址为 <a href="https://mac.github.com" class="bare">https://mac.github.com</a>。</p>
</div>
</div>
<div class="sect3">
<h3 id="_在_windows_上安装">在 Windows 上安装</h3>
<div class="paragraph">
<p>在 Windows 上安装 Git 也有几种安装方法。
官方版本可以在 Git 官方网站下载。
打开 <a href="https://git-scm.com/download/win" class="bare">https://git-scm.com/download/win</a>，下载会自动开始。
要注意这是一个名为 Git for Windows 的项目（也叫做 msysGit），和 Git 是分别独立的项目；更多信息请访问 <a href="http://msysgit.github.io/" class="bare">http://msysgit.github.io/</a>。</p>
</div>
<div class="paragraph">
<p>要进行自动安装，你可以使用 <a href="https://chocolatey.org/packages/git">Git Chocolatey 包</a>。
注意 Chocolatey 包是由社区维护的。</p>
</div>
<div class="paragraph">
<p>另一个简单的方法是安装 GitHub Desktop。
该安装程序包含图形化和命令行版本的 Git。
它也能支持 Powershell，提供了稳定的凭证缓存和健全的换行设置。
稍后我们会对这方面有更多了解，现在只要一句话就够了，这些都是你所需要的。
你可以在 GitHub for Windows 网站下载，网址为 <a href="https://desktop.github.com">GitHub Desktop 网站</a>。</p>
</div>
</div>
<div class="sect3">
<h3 id="_从源代码安装">从源代码安装</h3>
<div class="paragraph">
<p>有人觉得从源码安装 Git 更实用，因为你能得到最新的版本。
二进制安装程序倾向于有一些滞后，当然近几年 Git 已经成熟，这个差异不再显著。</p>
</div>
<div class="paragraph">
<p>如果你想从源码安装 Git，需要安装 Git 依赖的库：autotools、curl、zlib、openssl、expat 和 libiconv。
如果你的系统上有 <code>dnf</code> （如 Fedora）或者 <code>apt</code>（如基于 Debian 的系统），
可以使用对应的命令来安装最少的依赖以便编译并安装 Git 的二进制版：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ sudo dnf install dh-autoreconf curl-devel expat-devel gettext-devel \
  openssl-devel perl-devel zlib-devel
$ sudo apt-get install dh-autoreconf libcurl4-gnutls-dev libexpat1-dev \
  gettext libz-dev libssl-dev</code></pre>
</div>
</div>
<div class="paragraph">
<p>为了添加文档的多种格式（doc、html、info），需要以下附加的依赖：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ sudo dnf install asciidoc xmlto docbook2X
$ sudo apt-get install asciidoc xmlto docbook2x</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>使用 RHEL 和 RHEL 衍生版，如 CentOS 和 Scientific Linux 的用户需要
<a href="https://fedoraproject.org/wiki/EPEL#How_can_I_use_these_extra_packages.3F">开启 EPEL 库</a>
以便下载 <code>docbook2X</code> 包。</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>如果你使用基于 Debian 的发行版（Debian/Ubuntu/Ubuntu-derivatives），你也需要 <code>install-info</code> 包：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ sudo apt-get install install-info</code></pre>
</div>
</div>
<div class="paragraph">
<p>如果你使用基于 RPM 的发行版（Fedora/RHEL/RHEL衍生版），你还需要 <code>getopt</code> 包
（它已经在基于 Debian 的发行版中预装了）：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ sudo dnf install getopt</code></pre>
</div>
</div>
<div class="paragraph">
<p>此外，如果你使用 Fedora/RHEL/RHEL衍生版，那么你需要执行以下命令：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ sudo ln -s /usr/bin/db2x_docbook2texi /usr/bin/docbook2x-texi</code></pre>
</div>
</div>
<div class="paragraph">
<p>以此来解决二进制文件名的不同。</p>
</div>
<div class="paragraph">
<p>当你安装好所有的必要依赖，你可以继续从几个地方来取得最新发布版本的 tar 包。
你可以从 Kernel.org 网站获取，网址为 <a href="https://www.kernel.org/pub/software/scm/git" class="bare">https://www.kernel.org/pub/software/scm/git</a>，
或从 GitHub 网站上的镜像来获得，网址为 <a href="https://github.com/git/git/releases" class="bare">https://github.com/git/git/releases</a>。
通常在 GitHub 上的是最新版本，但 kernel.org 上包含有文件下载签名，如果你想验证下载正确性的话会用到。</p>
</div>
<div class="paragraph">
<p>接着，编译并安装：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ tar -zxf git-2.8.0.tar.gz
$ cd git-2.8.0
$ make configure
$ ./configure --prefix=/usr
$ make all doc info
$ sudo make install install-doc install-html install-info</code></pre>
</div>
</div>
<div class="paragraph">
<p>完成后，你可以使用 Git 来获取 Git 的更新：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git clone git://git.kernel.org/pub/scm/git/git.git</code></pre>
</div>
</div>
</div>
<div id="nav"><a href="{{< previous-section >}}">prev</a> | <a href="{{< next-section >}}">next</a></div>