---
### DO NOT EDIT! Generated by script/update-book2.rb
category: book
section: documentation
subsection: book
sidebar: book
book:
  language_code: zh
  chapter:
    title: Git 分支
    number: 3
  section:
    title: 分支管理
    number: 3
    cs_number: '3.3'
    previous: book/zh/v2/Git-分支-分支的新建与合并
    next: book/zh/v2/Git-分支-分支开发工作流
title: Git - 分支管理
url: "/book/zh/v2/Git-分支-分支管理.html"
---
<h2 id="_branch_management">分支管理</h2>
<div class="paragraph">
<p>
现在已经创建、合并、删除了一些分支，让我们看看一些常用的分支管理工具。</p>
</div>
<div class="paragraph">
<p><code>git branch</code> 命令不只是可以创建与删除分支。
如果不加任何参数运行它，会得到当前所有分支的一个列表：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git branch
  iss53
* master
  testing</code></pre>
</div>
</div>
<div class="paragraph">
<p>注意 <code>master</code> 分支前的 <code>*</code> 字符：它代表现在检出的那一个分支（也就是说，当前 <code>HEAD</code> 指针所指向的分支）。
这意味着如果在这时候提交，<code>master</code> 分支将会随着新的工作向前移动。
如果需要查看每一个分支的最后一次提交，可以运行 <code>git branch -v</code> 命令：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git branch -v
  iss53   93b412c fix javascript issue
* master  7a98805 Merge branch 'iss53'
  testing 782fd34 add scott to the author list in the readmes</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>--merged</code> 与 <code>--no-merged</code> 这两个有用的选项可以过滤这个列表中已经合并或尚未合并到当前分支的分支。
如果要查看哪些分支已经合并到当前分支，可以运行 <code>git branch --merged</code>：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git branch --merged
  iss53
* master</code></pre>
</div>
</div>
<div class="paragraph">
<p>因为之前已经合并了 <code>iss53</code> 分支，所以现在看到它在列表中。
在这个列表中分支名字前没有 <code>*</code> 号的分支通常可以使用 <code>git branch -d</code> 删除掉；你已经将它们的工作整合到了另一个分支，所以并不会失去任何东西。</p>
</div>
<div class="paragraph">
<p>查看所有包含未合并工作的分支，可以运行 <code>git branch --no-merged</code>：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git branch --no-merged
  testing</code></pre>
</div>
</div>
<div class="paragraph">
<p>这里显示了其他分支。
因为它包含了还未合并的工作，尝试使用 <code>git branch -d</code> 命令删除它时会失败：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git branch -d testing
error: The branch 'testing' is not fully merged.
If you are sure you want to delete it, run 'git branch -D testing'.</code></pre>
</div>
</div>
<div class="paragraph">
<p>如果真的想要删除分支并丢掉那些工作，如同帮助信息里所指出的，可以使用 <code>-D</code> 选项强制删除它。</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="paragraph">
<p>上面描述的选项 <code>--merged</code> 和 <code>--no-merged</code> 会在没有给定提交或分支名作为参数时，
分别列出已合并或未合并到 <strong>当前</strong> 分支的分支。</p>
</div>
<div class="paragraph">
<p>你总是可以提供一个附加的参数来查看其它分支的合并状态而不必检出它们。
例如，尚未合并到 <code>master</code> 分支的有哪些？</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout testing
$ git branch --no-merged master
  topicA
  featureB</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
<div id="nav"><a href="{{< previous-section >}}">prev</a> | <a href="{{< next-section >}}">next</a></div>