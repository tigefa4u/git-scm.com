---
### DO NOT EDIT! Generated by script/update-book2.rb
category: book
section: documentation
subsection: book
sidebar: book
book:
  language_code: ru
  chapter:
    title: 'Приложение C: Команды Git'
    number: 3
  section:
    title: Основные команды
    number: 3
    cs_number: A3.3
    previous: book/ru/v2/Приложение-C:-Команды-Git-Клонирование-и-создание-репозиториев
    next: book/ru/v2/Приложение-C:-Команды-Git-Ветвление-и-слияния
title: Git - Основные команды
url: "/book/ru/v2/Приложение-C:-Команды-Git-Основные-команды.html"
---
<h2 id="_основные_команды">Основные команды</h2>
<div class="paragraph">
<p>Всего несколько команд нужно для базового варианта использования Git для ведения истории изменений.</p>
</div>
<div class="sect3">
<h3 id="_git_add">git add</h3>
<div class="paragraph">
<p>Команда <code>git add</code> добавляет содержимое рабочего каталога в индекс (staging area) для последующего коммита.
По умолчанию <code>git commit</code> использует лишь этот индекс, так что вы можете использовать <code>git add</code> для сборки слепка вашего следующего коммита.</p>
</div>
<div class="paragraph">
<p>Это одна из ключевых команд Git, мы упоминали о ней десятки раз на страницах книги.
Ниже перечислены наиболее интересные варианты использования этой команды.</p>
</div>
<div class="paragraph">
<p>Знакомство с этой командой происходит в разделе <a href="{{< relurl "book/ru/v2/ch00/r_tracking_files" >}}">Отслеживание новых файлов</a> главы 2.</p>
</div>
<div class="paragraph">
<p>О том как использовать <code>git add</code> для разрешения конфликтов слияния написано в разделе <a href="{{< relurl "book/ru/v2/ch00/r_basic_merge_conflicts" >}}">Основные конфликты слияния</a> главы 3.</p>
</div>
<div class="paragraph">
<p>В разделе <a href="{{< relurl "book/ru/v2/ch00/r_interactive_staging" >}}">Интерактивное индексирование</a> главы 7 показано как использовать <code>git add</code> для добавления в индекс лишь отдельных частей изменённого файла.</p>
</div>
<div class="paragraph">
<p>В разделе <a href="{{< relurl "book/ru/v2/ch00/r_tree_objects" >}}">Деревья</a> показано как эта команда работает на низком уровне, чтобы вы понимали, что происходит за кулисами.</p>
</div>
</div>
<div class="sect3">
<h3 id="_git_status">git status</h3>
<div class="paragraph">
<p>Команда <code>git status</code> показывает состояния файлов в рабочем каталоге и индексе: какие файлы изменены, но не добавлены в индекс; какие ожидают коммита в индексе.
Вдобавок к этому выводятся подсказки о том, как изменить состояние файлов.</p>
</div>
<div class="paragraph">
<p>Мы познакомили вас с этой командой в разделе <a href="{{< relurl "book/ru/v2/ch00/r_checking_status" >}}">Определение состояния файлов</a> главы 2, разобрали стандартный и упрощённый формат вывода.
И хотя мы использовали <code>git status</code> повсеместно в этой книге, практически все варианты использования покрыты в указанной главе.</p>
</div>
</div>
<div class="sect3">
<h3 id="_git_diff">git diff</h3>
<div class="paragraph">
<p>Команда <code>git diff</code> используется для вычисления разницы между любыми двумя Git деревьями.
Это может быть разница между вашей рабочей копией и индексом (собственно <code>git diff</code>), разница между индексом и последним коммитом (<code>git diff --staged</code>), или между любыми двумя коммитами (<code>git diff master branchB</code>).</p>
</div>
<div class="paragraph">
<p>Мы познакомили вас с основами этой команды в разделе <a href="{{< relurl "book/ru/v2/ch00/r_git_diff_staged" >}}">Просмотр индексированных и неиндексированных изменений</a> главы 2, где показали как посмотреть какие изменения уже добавлены в индекс, а какие — ещё нет.</p>
</div>
<div class="paragraph">
<p>О том как использовать эту команду для проверки на проблемы с пробелами с помощью аргумента <code>--check</code> можно почитать в разделе <a href="{{< relurl "book/ru/v2/ch00/r_commit_guidelines" >}}">Правила создания коммитов</a> главы 5.</p>
</div>
<div class="paragraph">
<p>Мы показали вам как эффективно сравнивать ветки используя синтаксис <code>git diff A…​B</code> в разделе <a href="{{< relurl "book/ru/v2/ch00/r_what_is_introduced" >}}">Определение применяемых изменений</a> главы 5.</p>
</div>
<div class="paragraph">
<p>В разделе <a href="{{< relurl "book/ru/v2/ch00/r_advanced_merging" >}}">Продвинутое слияние</a> главы 7 показано использование опции <code>-w</code> для скрытия различий в пробельных символах, а также рассказано как сравнивать конфликтующие изменения с опциями <code>--theirs</code>, <code>--ours</code> и <code>--base</code>.</p>
</div>
<div class="paragraph">
<p>Использование этой команды с опцией <code>--submodule</code> для сравнения изменений в подмодулях показано в разделе <a href="{{< relurl "book/ru/v2/ch00/r_starting_submodules" >}}">Начало работы с подмодулями</a> главы 7.</p>
</div>
</div>
<div class="sect3">
<h3 id="_git_difftool">git difftool</h3>
<div class="paragraph">
<p>Команда <code>git difftool</code> просто запускает внешнюю утилиту сравнения для показа различий в двух деревьях, на случай если вы хотите использовать что-либо отличное от встроенного просмотрщика <code>git diff</code>.</p>
</div>
<div class="paragraph">
<p>Мы лишь вкратце упомянули о ней в разделе <a href="{{< relurl "book/ru/v2/ch00/r_git_diff_staged" >}}">Просмотр индексированных и неиндексированных изменений</a> главы 2.</p>
</div>
</div>
<div class="sect3">
<h3 id="_git_commit">git commit</h3>
<div class="paragraph">
<p>Команда <code>git commit</code> берёт все данные, добавленные в индекс с помощью <code>git add</code>, и сохраняет их слепок во внутренней базе данных, а затем сдвигает указатель текущей ветки на этот слепок.</p>
</div>
<div class="paragraph">
<p>Вы познакомились с основами модели коммитов в разделе <a href="{{< relurl "book/ru/v2/ch00/r_committing_changes" >}}">Коммит изменений</a> главы 2.
Там же мы продемонстрировали использование опций <code>-a</code> для добавления всех изменений в индекс без использования <code>git add</code>, что может быть удобным в повседневном использовании, и <code>-m</code> для передачи сообщения коммита без запуска полноценного редактора.</p>
</div>
<div class="paragraph">
<p>В разделе <a href="{{< relurl "book/ru/v2/ch00/r_undoing" >}}">Операции отмены</a> главы 2 мы рассказали об опции <code>--amend</code>, используемой для изменения последнего совершённого коммита.</p>
</div>
<div class="paragraph">
<p>В разделе <a href="{{< relurl "book/ru/v2/ch00/r_git_branches_overview" >}}">О ветвлении в двух словах</a> главы 3 мы более подробно познакомились с тем, что делает команда <code>git commit</code> и почему она делает это именно так.</p>
</div>
<div class="paragraph">
<p>Мы показали вам как подписывать ваши коммиты, используя опцию <code>-S</code> в разделе <a href="{{< relurl "book/ru/v2/ch00/r_signing_commits" >}}">Подпись коммитов</a> главы 7.</p>
</div>
<div class="paragraph">
<p>И наконец мы заглянули внутрь команды <code>git commit</code> в разделе <a href="{{< relurl "book/ru/v2/ch00/r_git_commit_objects" >}}">Объекты коммитов</a> главы 10 и узнали что она делает за кулисами.</p>
</div>
</div>
<div class="sect3">
<h3 id="_git_reset">git reset</h3>
<div class="paragraph">
<p>Команда <code>git reset</code>, как можно догадаться из названия, используется в основном для отмены изменений.
Она изменяет указатель <code>HEAD</code> и, опционально, состояние индекса.
Также эта команда может изменить файлы в рабочем каталоге при использовании параметра <code>--hard</code>, что может привести к потере наработок при неправильном использовании, так что убедитесь в серьёзности своих намерений прежде чем использовать его.</p>
</div>
<div class="paragraph">
<p>Мы рассказали об основах использования <code>git reset</code> в разделе <a href="{{< relurl "book/ru/v2/ch00/r_unstaging" >}}">Отмена индексации файла</a> главы 2, где эта команда использовалась для удаления файла из индекса, добавленного туда с помощью <code>git add</code>.</p>
</div>
<div class="paragraph">
<p>В разделе <a href="{{< relurl "book/ru/v2/ch00/r_git_reset" >}}">Раскрытие тайн reset</a>, полностью посвящённой этой команде, мы разобрались в деталях её использования.</p>
</div>
<div class="paragraph">
<p>Мы использовали <code>git reset --hard</code> чтобы отменить слияние в разделе <a href="{{< relurl "book/ru/v2/ch00/r_abort_merge" >}}">Прерывание слияния</a> главы 7, там же было продемонстрировано использование команды <code>git merge --abort</code> для этих целей, которая работает как обёртка над <code>git reset</code>.</p>
</div>
</div>
<div class="sect3">
<h3 id="_git_rm">git rm</h3>
<div class="paragraph">
<p>Команда <code>git rm</code> используется в Git для удаления файлов из индекса и рабочей копии.
Она похожа на <code>git add</code> с тем лишь исключением, что она удаляет, а не добавляет файлы для следующего коммита.</p>
</div>
<div class="paragraph">
<p>Мы немного разобрались с этой командой в разделе <a href="{{< relurl "book/ru/v2/ch00/r_removing_files" >}}">Удаление файлов</a> главы 2, показали как удалять файлы из рабочего каталога и индекса и только из индекса, используя флаг <code>--cached</code>.</p>
</div>
<div class="paragraph">
<p>Ещё один вариант использования <code>git rm</code> приведён в разделе <a href="{{< relurl "book/ru/v2/ch00/r_removing_objects" >}}">Удаление объектов</a> главы 10, где мы вкратце объяснили как использовать опцию <code>--ignore-unmatch</code> при выполнении <code>git filter-branch</code>, которая подавляет ошибки удаления несуществующих файлов.
Это может быть полезно для автоматически выполняемых скриптов.</p>
</div>
</div>
<div class="sect3">
<h3 id="_git_mv">git mv</h3>
<div class="paragraph">
<p>Команда <code>git mv</code> — это всего лишь удобный способ переместить файл, а затем выполнить <code>git add</code> для нового файла и <code>git rm</code> для старого.</p>
</div>
<div class="paragraph">
<p>Мы лишь вкратце упомянули эту команду в разделе <a href="{{< relurl "book/ru/v2/ch00/r_git_mv" >}}">Перемещение файлов</a> главы 2.</p>
</div>
</div>
<div class="sect3">
<h3 id="_git_clean">git clean</h3>
<div class="paragraph">
<p>Команда <code>git clean</code> используется для удаления мусора из рабочего каталога.
Это могут быть результаты сборки проекта или файлы конфликтов слияний.</p>
</div>
<div class="paragraph">
<p>Мы рассмотрели множество опций и сценариев использования этой команды в разделе <a href="{{< relurl "book/ru/v2/ch00/r_git_clean" >}}">Очистка рабочего каталога</a> главы 7.</p>
</div>
</div>
<div id="nav"><a href="{{< previous-section >}}">prev</a> | <a href="{{< next-section >}}">next</a></div>