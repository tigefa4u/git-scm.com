---
### DO NOT EDIT! Generated by script/update-book2.rb
category: book
section: documentation
subsection: book
sidebar: book
book:
  language_code: ru
  chapter:
    title: Основы Git
    number: 2
  section:
    title: Работа с удалёнными репозиториями
    number: 5
    cs_number: '2.5'
    previous: book/ru/v2/Основы-Git-Операции-отмены
    next: book/ru/v2/Основы-Git-Работа-с-тегами
title: Git - Работа с удалёнными репозиториями
url: "/book/ru/v2/Основы-Git-Работа-с-удалёнными-репозиториями.html"
---
<h2 id="r_remote_repos">Работа с удалёнными репозиториями</h2>
<div class="paragraph">
<p>Для того, чтобы внести вклад в какой-либо Git-проект, вам необходимо уметь работать с удалёнными репозиториями.
Удалённые репозитории представляют собой версии вашего проекта, сохранённые в интернете или ещё где-то в сети.
У вас может быть несколько удалённых репозиториев, каждый из которых может быть доступен для чтения или для чтения-записи.
Взаимодействие с другими пользователями предполагает управление удалёнными репозиториями, а также отправку и получение данных из них.
Управление репозиториями включает в себя как умение добавлять новые, так и умение удалять устаревшие репозитории, а также умение управлять различными удалёнными ветками, объявлять их отслеживаемыми или нет и так далее.
В данном разделе мы рассмотрим некоторые из этих навыков.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Примечание</div>
</td>
<td class="content">
<div class="title">Удалённый репозиторий может находиться на вашем локальном компьютере.</div>
<div class="paragraph">
<p>Вполне возможно, что удалённый репозиторий будет находиться на том же компьютере, на котором работаете вы.
Слово «удалённый» не означает, что репозиторий обязательно должен быть где-то в сети или Интернет, а значит только — где-то ещё.
Работа с таким удалённым репозиторием подразумевает выполнение стандартных операций отправки и получения, как и с любым другим удалённым репозиторием.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h3 id="_просмотр_удалённых_репозиториев">Просмотр удалённых репозиториев</h3>
<div class="paragraph">
<p>Для того, чтобы просмотреть список настроенных удалённых репозиториев, вы можете запустить команду <code>git remote</code>.
Она выведет названия доступных удалённых репозиториев.
Если вы клонировали репозиторий, то увидите как минимум <code>origin</code> — имя по умолчанию, которое Git даёт серверу, с которого производилось клонирование:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git clone https://github.com/schacon/ticgit
Cloning into 'ticgit'...
remote: Reusing existing pack: 1857, done.
remote: Total 1857 (delta 0), reused 0 (delta 0)
Receiving objects: 100% (1857/1857), 374.35 KiB | 268.00 KiB/s, done.
Resolving deltas: 100% (772/772), done.
Checking connectivity... done.
$ cd ticgit
$ git remote
origin</code></pre>
</div>
</div>
<div class="paragraph">
<p>Вы можете также указать ключ <code>-v</code>, чтобы просмотреть адреса для чтения и записи, привязанные к репозиторию:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git remote -v
origin	https://github.com/schacon/ticgit (fetch)
origin	https://github.com/schacon/ticgit (push)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Если у вас больше одного удалённого репозитория, команда выведет их все.
Например, для репозитория с несколькими настроенными удалёнными репозиториями в случае совместной работы нескольких пользователей, вывод команды может выглядеть примерно так:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ cd grit
$ git remote -v
bakkdoor  https://github.com/bakkdoor/grit (fetch)
bakkdoor  https://github.com/bakkdoor/grit (push)
cho45     https://github.com/cho45/grit (fetch)
cho45     https://github.com/cho45/grit (push)
defunkt   https://github.com/defunkt/grit (fetch)
defunkt   https://github.com/defunkt/grit (push)
koke      git://github.com/koke/grit.git (fetch)
koke      git://github.com/koke/grit.git (push)
origin    git@github.com:mojombo/grit.git (fetch)
origin    git@github.com:mojombo/grit.git (push)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Это означает, что мы можем легко получить изменения от любого из этих пользователей.
Возможно, что некоторые из репозиториев доступны для записи и в них можно отправлять свои изменения, хотя вывод команды не даёт никакой информации о правах доступа.</p>
</div>
<div class="paragraph">
<p>Обратите внимание на разнообразие протоколов, используемых при указании адреса удалённого репозитория; подробнее мы рассмотрим протоколы в разделе <a href="{{< relurl "book/ru/v2/ch00/r_git_on_the_server" >}}">Установка Git на сервер</a> главы 4.</p>
</div>
</div>
<div class="sect3">
<h3 id="_добавление_удалённых_репозиториев">Добавление удалённых репозиториев</h3>
<div class="paragraph">
<p>В предыдущих разделах мы уже упоминали и приводили примеры добавления удалённых репозиториев, сейчас рассмотрим эту операцию подробнее.
Для того, чтобы добавить удалённый репозиторий и присвоить ему имя (shortname), просто выполните команду <code>git remote add &lt;shortname&gt; &lt;url&gt;</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git remote
origin
$ git remote add pb https://github.com/paulboone/ticgit
$ git remote -v
origin	https://github.com/schacon/ticgit (fetch)
origin	https://github.com/schacon/ticgit (push)
pb	https://github.com/paulboone/ticgit (fetch)
pb	https://github.com/paulboone/ticgit (push)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Теперь вместо указания полного пути вы можете использовать <code>pb</code>.
Например, если вы хотите получить изменения, которые есть у Пола, но нету у вас, вы можете выполнить команду <code>git fetch pb</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git fetch pb
remote: Counting objects: 43, done.
remote: Compressing objects: 100% (36/36), done.
remote: Total 43 (delta 10), reused 31 (delta 5)
Unpacking objects: 100% (43/43), done.
From https://github.com/paulboone/ticgit
 * [new branch]      master     -&gt; pb/master
 * [new branch]      ticgit     -&gt; pb/ticgit</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ветка <code>master</code> из репозитория Пола сейчас доступна вам под именем <code>pb/master</code>.
Вы можете слить её с одной из ваших веток или переключить на неё локальную ветку, чтобы просмотреть содержимое ветки Пола.
Более подробно работа с ветками рассмотрена в главе <a href="{{< relurl "book/ru/v2/ch00/ch03-git-branching" >}}">Ветвление в Git</a>.</p>
</div>
</div>
<div class="sect3">
<h3 id="r_fetching_and_pulling">Получение изменений из удалённого репозитория — Fetch и Pull</h3>
<div class="paragraph">
<p>Как вы только что узнали, для получения данных из удалённых проектов, следует выполнить:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git fetch [remote-name]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Данная команда связывается с указанным удалённым проектом и забирает все те данные проекта, которых у вас ещё нет.
После того как вы выполнили команду, у вас должны появиться ссылки на все ветки из этого удалённого проекта, которые вы можете просмотреть или слить в любой момент.</p>
</div>
<div class="paragraph">
<p>Когда вы клонируете репозиторий, команда <code>clone</code> автоматически добавляет этот удалённый репозиторий под именем «origin».
Таким образом, <code>git fetch origin</code> извлекает все наработки, отправленные на этот сервер после того, как вы его клонировали (или получили изменения с помощью fetch).
Важно отметить, что команда <code>git fetch</code> забирает данные в ваш локальный репозиторий, но не сливает их с какими-либо вашими наработками и не модифицирует то, над чем вы работаете в данный момент.
Вам необходимо вручную слить эти данные с вашими, когда вы будете готовы.</p>
</div>
<div class="paragraph">
<p>Если ветка настроена на отслеживание удалённой ветки (см. следующий раздел и главу <a href="{{< relurl "book/ru/v2/ch00/ch03-git-branching" >}}">Ветвление в Git</a> чтобы получить больше информации), то вы можете использовать команду <code>git pull</code> чтобы автоматически получить изменения из удалённой ветки и слить их со своей текущей.
Этот способ может для вас оказаться более простым или более удобным.
К тому же, по умолчанию команда <code>git clone</code> автоматически настраивает вашу локальную ветку <code>master</code> на отслеживание удалённой ветки <code>master</code> на сервере, с которого вы клонировали репозиторий.
Название веток может быть другим и зависит от ветки по умолчанию на сервере.
Выполнение <code>git pull</code>, как правило, извлекает (fetch) данные с сервера, с которого вы изначально клонировали, и автоматически пытается слить (merge) их с кодом, над которым вы в данный момент работаете.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Примечание</div>
</td>
<td class="content">
<div class="paragraph">
<p>Начиная с версии 2.27, команда <code>git pull</code> выдаёт предупреждение, если настройка <code>pull.rebase</code> не установлена.
Git будет выводить это предупреждение каждый раз пока настройка не будет установлена.</p>
</div>
<div class="paragraph">
<p>Если хотите использовать поведение Git по умолчанию (простое смещение вперёд если возможно — иначе создание коммита слияния):
<code>git config --global pull.rebase "false"</code></p>
</div>
<div class="paragraph">
<p>Если хотите использовать перебазирование при получении изменений:
<code>git config --global pull.rebase "true"</code></p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h3 id="r_pushing_remotes">Отправка изменений в удалённый репозиторий (Push)</h3>
<div class="paragraph">
<p>Когда вы хотите поделиться своими наработками, вам необходимо отправить их в удалённый репозиторий.
Команда для этого действия простая: <code>git push &lt;remote-name&gt; &lt;branch-name&gt;</code>.
Чтобы отправить вашу ветку <code>master</code> на сервер <code>origin</code> (повторимся, что клонирование обычно настраивает оба этих имени автоматически), вы можете выполнить следующую команду для отправки ваших коммитов:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git push origin master</code></pre>
</div>
</div>
<div class="paragraph">
<p>Эта команда срабатывает только в случае, если вы клонировали с сервера, на котором у вас есть права на запись, и если никто другой с тех пор не выполнял команду <code>push</code>.
Если вы и кто-то ещё одновременно клонируете, затем он выполняет команду <code>push</code>, а после него выполнить команду <code>push</code> попытаетесь вы, то ваш <code>push</code> точно будет отклонён.
Вам придётся сначала получить изменения и объединить их с вашими и только после этого вам будет позволено выполнить <code>push</code>.
Обратитесь к главе <a href="{{< relurl "book/ru/v2/ch00/ch03-git-branching" >}}">Ветвление в Git</a> для более подробного описания, как отправлять изменения на удалённый сервер.</p>
</div>
</div>
<div class="sect3">
<h3 id="r_inspecting_remote">Просмотр удалённого репозитория</h3>
<div class="paragraph">
<p>Если хотите получить побольше информации об одном из удалённых репозиториев, вы можете использовать команду <code>git remote show &lt;remote&gt;</code>.
Выполнив эту команду с некоторым именем, например, <code>origin</code>, вы получите следующий результат:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git remote show origin
* remote origin
  Fetch URL: https://github.com/schacon/ticgit
  Push  URL: https://github.com/schacon/ticgit
  HEAD branch: master
  Remote branches:
    master                               tracked
    dev-branch                           tracked
  Local branch configured for 'git pull':
    master merges with remote master
  Local ref configured for 'git push':
    master pushes to master (up to date)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Она выдаёт URL удалённого репозитория, а также информацию об отслеживаемых ветках.
Эта команда любезно сообщает вам, что если вы, находясь на ветке <code>master</code>, выполните <code>git pull</code>, ветка <code>master</code> с удалённого сервера будет автоматически влита в вашу сразу после получения всех необходимых данных.
Она также выдаёт список всех полученных ею ссылок.</p>
</div>
<div class="paragraph">
<p>Это был пример для простой ситуации и вы наверняка встречались с чем-то подобным.
Однако, если вы используете Git более интенсивно, вы можете увидеть гораздо большее количество информации от <code>git remote show</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git remote show origin
* remote origin
  URL: https://github.com/my-org/complex-project
  Fetch URL: https://github.com/my-org/complex-project
  Push  URL: https://github.com/my-org/complex-project
  HEAD branch: master
  Remote branches:
    master                           tracked
    dev-branch                       tracked
    markdown-strip                   tracked
    issue-43                         new (next fetch will store in remotes/origin)
    issue-45                         new (next fetch will store in remotes/origin)
    refs/remotes/origin/issue-11     stale (use 'git remote prune' to remove)
  Local branches configured for 'git pull':
    dev-branch merges with remote dev-branch
    master     merges with remote master
  Local refs configured for 'git push':
    dev-branch                     pushes to dev-branch                     (up to date)
    markdown-strip                 pushes to markdown-strip                 (up to date)
    master                         pushes to master                         (up to date)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Данная команда показывает какая именно локальная ветка будет отправлена на удалённый сервер по умолчанию при выполнении <code>git push</code>.
Она также показывает, каких веток с удалённого сервера у вас ещё нет, какие ветки всё ещё есть у вас, но уже удалены на сервере, и для нескольких веток показано, какие удалённые ветки будут в них влиты при выполнении <code>git pull</code>.</p>
</div>
</div>
<div class="sect3">
<h3 id="_удаление_и_переименование_удалённых_репозиториев">Удаление и переименование удалённых репозиториев</h3>
<div class="paragraph">
<p>Для переименования удалённого репозитория можно выполнить <code>git remote rename</code>.
Например, если вы хотите переименовать <code>pb</code> в <code>paul</code>, вы можете это сделать при помощи <code>git remote rename</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git remote rename pb paul
$ git remote
origin
paul</code></pre>
</div>
</div>
<div class="paragraph">
<p>Стоит упомянуть, что это также изменит имена удалённых веток в вашем репозитории.
То, к чему вы обращались как <code>pb/master</code>, теперь стало <code>paul/master</code>.</p>
</div>
<div class="paragraph">
<p>Если по какой-то причине вы хотите удалить удалённый репозиторий — вы сменили сервер или больше не используете определённое зеркало, или кто-то перестал вносить изменения — вы можете использовать <code>git remote rm</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git remote remove paul
$ git remote
origin</code></pre>
</div>
</div>
<div class="paragraph">
<p>При удалении ссылки на удалённый репозиторий все отслеживаемые ветки и настройки, связанные с этим репозиторием, так же будут удалены.</p>
</div>
</div>
<div id="nav"><a href="{{< previous-section >}}">prev</a> | <a href="{{< next-section >}}">next</a></div>