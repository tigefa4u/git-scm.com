---
### DO NOT EDIT! Generated by script/update-book2.rb
category: book
section: documentation
subsection: book
sidebar: book
book:
  language_code: ru
  chapter:
    title: 'Приложение A: Git в других окружениях'
    number: 1
  section:
    title: Git в Zsh
    number: 8
    cs_number: A1.8
    previous: book/ru/v2/Приложение-A:-Git-в-других-окружениях-Git-в-Bash
    next: book/ru/v2/Приложение-A:-Git-в-других-окружениях-Git-в-PowerShell
title: Git - Git в Zsh
url: "/book/ru/v2/Приложение-A:-Git-в-других-окружениях-Git-в-Zsh.html"
---
<h2 id="_git_в_zsh">Git в Zsh</h2>
<div class="paragraph">
<p>
Git поставляется с поддержкой автодополнения для Zsh.
Чтобы начать им пользоваться, просто добавьте строку <code>autoload -Uz compinit &amp;&amp; compinit</code> в ваш <code>.zshrc</code> файл.
Интерфейс Zsh более функциональный чем в Bash:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git che&lt;tab&gt;
check-attr        -- display gitattributes information
check-ref-format  -- ensure that a reference name is well formed
checkout          -- checkout branch or paths to working tree
checkout-index    -- copy files from index to working directory
cherry            -- find commits not merged upstream
cherry-pick       -- apply changes introduced by some existing commits</code></pre>
</div>
</div>
<div class="paragraph">
<p>Возможные варианты автодополнения не просто перечислены; они снабжены полезными описаниями и вы можете выбрать нужный вариант из предложенных, перемещаясь по ним нажатием клавиши <code>Tab</code>.
Это работает не только для команд Git, но и для их аргументов, названий объектов внутри репозитория (например, ссылки и удалённые репозитории), а также для имён файлов и прочего.</p>
</div>
<div class="paragraph">
<p>В состав Zsh входит фреймворк <code>vcs_info</code>, предназначенный для извлечения информации из систем контроля версий.
Чтобы отобразить имя текущей ветки в правой строке приветствия, добавьте следующие строки в файл <code>~/.zshrc</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">autoload -Uz vcs_info
precmd_vcs_info() { vcs_info }
precmd_functions+=( precmd_vcs_info )
setopt prompt_subst
RPROMPT=\$vcs_info_msg_0_
# PROMPT=\$vcs_info_msg_0_'%# '
zstyle ':vcs_info:git:*' formats '%b'</code></pre>
</div>
</div>
<div class="paragraph">
<p>В результате вы будете видеть имя текущей ветки в правой части окна терминала каждый раз, как перейдёте внутрь Git репозитория.
(Для отображения названия ветки слева используйте <code>PROMPT</code> вместо <code>RPROMPT</code>)
Результат выглядит примерно так:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/ru/v2/images/zsh-prompt.png" >}}" alt="Кастомизированная строка приветствия в `zsh`">
</div>
<div class="title">Рисунок 162. Кастомизированная строка приветствия в <code>zsh</code>
</div>
</div>
<div class="paragraph">
<p>Дополнительную информацию о <code>vcs_info</code> можно найти в документации <code>zshcontrib(1)</code> или онлайн <a href="http://zsh.sourceforge.net/Doc/Release/User-Contributions.html#Version-Control-Information" class="bare" target="_blank" rel="noopener">http://zsh.sourceforge.net/Doc/Release/User-Contributions.html#Version-Control-Information</a>.</p>
</div>
<div class="paragraph">
<p>Возможно, вы предпочтёте использовать поставляемый вместе с Git скрипт настройки <code>git-prompt.sh</code>; детали использования приведены в комментариях к файлу <a href="https://github.com/git/git/blob/master/contrib/completion/git-prompt.sh" class="bare" target="_blank" rel="noopener">https://github.com/git/git/blob/master/contrib/completion/git-prompt.sh</a>.
Скрипт <code>git-prompt.sh</code> совместим с обеими оболочками Bash и Zsh.</p>
</div>
<div class="paragraph">
<p>Zsh настолько конфигурируем, что существуют целые фреймворки, посвящённые его улучшению.
Пример такого проекта, называемый «oh-my-zsh», расположен на <a href="https://github.com/robbyrussell/oh-my-zsh" class="bare" target="_blank" rel="noopener">https://github.com/robbyrussell/oh-my-zsh</a>.
Система плагинов этого проекта включает в себя мощнейший набор правил автодополнения для Git, а многие «темы» (служащие для настройки строк приветствия) отображают информацию из различных систем контроля версий.
<a href="{{< relurl "book/ru/v2/ch00/roh_my_zsh_git" >}}">Пример темы oh-my-zsh</a> — лишь один из многих вариантов применения.</p>
</div>
<div id="roh_my_zsh_git" class="imageblock">
<div class="content">
<img src="{{< relurl "book/ru/v2/images/zsh-oh-my.png" >}}" alt="Пример темы oh-my-zsh">
</div>
<div class="title">Рисунок 163. Пример темы oh-my-zsh</div>
</div>
<div id="nav"><a href="{{< previous-section >}}">prev</a> | <a href="{{< next-section >}}">next</a></div>