---
### DO NOT EDIT! Generated by script/update-book2.rb
category: book
section: documentation
subsection: book
sidebar: book
book:
  language_code: fr
  chapter:
    title: GitHub
    number: 6
  section:
    title: Contribution à un projet
    number: 2
    cs_number: '6.2'
    previous: book/fr/v2/GitHub-Configuration-et-paramétrage-d’un-compte
    next: book/fr/v2/GitHub-Maintenance-d’un-projet
title: Git - Contribution à un projet
url: "/book/fr/v2/GitHub-Contribution-à-un-projet.html"
---
<h2 id="_contribution_à_un_projet">Contribution à un projet</h2>
<div class="paragraph">
<p>Après avoir configuré votre compte, examinons comment contribuer à un projet existant.</p>
</div>
<div class="sect3">
<h3 id="_duplication_des_projets">Duplication des projets</h3>
<div class="paragraph">
<p>
Si vous souhaitez contribuer à un projet existant sur lequel vous n’avez pas le droit de pousser, vous pouvez dupliquer (<em>fork</em>) ce projet.
Cela signifie que GitHub va faire pour vous une copie personnelle du projet.
Elle se situe dans votre espace de nom et vous pouvez pousser dessus.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Historiquement, le terme « <em>fork</em> » transmet une idée négative, qui s’apparente à l’idée que quelqu’un mène un projet open-source vers une direction différente, créant un projet concurrent de l’original et divisant les forces de contributions.
Au sein de GitHub, un « <em>fork</em> » constitue une simple copie d’un projet au sein de votre espace de nom personnel, ce qui vous permet d’y apporter publiquement des modifications, c’est donc tout simplement un moyen de contribuer de manière plus ouverte.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Ainsi, les gestionnaires de projets n’ont pas à se soucier de devoir ajouter des utilisateurs comme collaborateurs pour leur accorder un accès en poussée.
Les personnes peuvent dupliquer un projet eux-mêmes, pousser sur leur copie personnelle et fournir leur contribution au dépôt originel en créant une requête de tirage (<em>Pull Request</em>), concept qui sera abordé par la suite.
Ceci ouvre un fil de discussion avec possibilité de revue de code, pour que le propriétaire et le contributeur puissent discuter et modifier le code proposé jusqu’à ce que le propriétaire soit satisfait du résultat et le fusionne dans son dépôt.</p>
</div>
<div class="paragraph">
<p>Pour dupliquer un projet, visitez la page du projet et cliquez sur le bouton « <em>Fork</em> » en haut à droite de la page.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/fr/v2/images/forkbutton.png" >}}" alt="Le bouton  « Fork ».">
</div>
<div class="title">Figure 88. Le bouton  « <em>Fork</em> ».</div>
</div>
<div class="paragraph">
<p>Quelques secondes plus tard, vous serez redirigé vers la page de votre nouveau projet, contenant votre copie modifiable du code.</p>
</div>
</div>
<div class="sect3">
<h3 id="s_github_flow">Processus GitHub</h3>
<div class="paragraph">
<p>
GitHub est construit autour d’une certaine organisation de la collaboration, centrée autour des requêtes de tirage (<em>Pull Request</em>).
Ce processus de travail fonctionne aussi bien avec une petite équipe soudée collaborant sur un dépôt unique partagé qu’avec une société éclatée à travers le monde ou un réseau d’inconnus contribuant sur un projet au moyen de dizaines de projets dupliqués.
Il est centré sur le processus de travail par branches thématiques (voir <a href="{{< relurl "book/fr/v2/ch00/s_topic_branch" >}}">Les branches thématiques</a> traité dans le <a href="{{< relurl "book/fr/v2/ch00/ch03-git-branching" >}}">Les branches avec Git</a>).</p>
</div>
<div class="paragraph">
<p>Le principe général est le suivant :</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Duplication du projet.</p>
</li>
<li>
<p>Création d’une branche thématique à partir de la branche <code>master</code>,</p>
</li>
<li>
<p>validation de quelques améliorations (<em>commit</em>),</p>
</li>
<li>
<p>poussée de la branche thématique sur votre projet GitHub (<em>push</em>),</p>
</li>
<li>
<p>ouverture d’une requête de tirage sur GitHub (<em>Pull Request</em>),</p>
</li>
<li>
<p>discussion et éventuellement possibilité de nouvelles validations (<em>commit</em>).</p>
</li>
<li>
<p>Le propriétaire du projet fusionne (<em>merge</em>) ou ferme (<em>close</em>) la requête de tirage.</p>
</li>
<li>
<p>Synchronisation de la branche master mise à jour avec celle de votre propre dépôt.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>C’est essentiellement le processus de gestion par gestionnaire d’intégration traité dans <a href="{{< relurl "book/fr/v2/ch00/s_integration_manager" >}}">Mode du gestionnaire d’intégration</a>, mais au lieu d’utiliser des courriels pour communiquer et faire une revue des modifications, les équipes utilisent les outils Web de GitHub.</p>
</div>
<div class="paragraph">
<p>Détaillons un exemple illustrant une proposition de modification à un projet open-source hébergé sur GitHub.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Astuce</div>
</td>
<td class="content">
<div class="paragraph">
<p>Vous pouvez utiliser l’outil officiel de ligne de commande <strong>GitHub CLI</strong> au lieu de l’interface web GitHub pour la plupart des actions.
L’outil peut être utilisé sous Windows, MacOS et Linux.
Rendez-vous sur <a href="https://cli.github.com/">GitHub CLI homepage</a> pour les instructions d’installation et le manuel.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect4">
<h4 id="_création_dune_requête_de_tirage">Création d’une requête de tirage</h4>
<div class="paragraph">
<p>Tony recherche un programme à faire tourner sur son micro-contrôleur Arduino et a trouvé un programme génial sur GitHub à <a href="https://github.com/schacon/blink" class="bare">https://github.com/schacon/blink</a>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/fr/v2/images/blink-01-start.png" >}}" alt="Le projet auquel nous souhaitons contribuer.">
</div>
<div class="title">Figure 89. Le projet auquel nous souhaitons contribuer.</div>
</div>
<div class="paragraph">
<p>Le seul problème est que le clignotement est trop rapide, nous pensons qu’il serait mieux d’attendre 3 secondes au lieu d’une entre chaque changement d’état.
Améliorons donc le programme et soumettons cette amélioration au projet initial.</p>
</div>
<div class="paragraph">
<p>Premièrement, nous cliquons sur le bouton « Fork » comme mentionné ci-dessus pour obtenir une copie du projet.
Notre nom d’utilisateur ici est « tonychacon » donc notre copie de ce projet est à <code><a href="https://github.com/tonychacon/blink" class="bare">https://github.com/tonychacon/blink</a></code> et c’est ici que nous pouvons la modifier.
Nous pouvons aussi la cloner localement, créer une branche thématique, modifier le code et pousser finalement cette modification sur GitHub.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">$ git clone https://github.com/tonychacon/blink <b class="conum">(1)</b>
Clonage dans 'blink'...

$ cd blink
$ git checkout -b slow-blink <b class="conum">(2)</b>
Switched to a new branch 'slow-blink'

$ sed -i '' 's/1000/3000/' blink.ino # (MacOSX) <b class="conum">(3)</b>
# Si vous êtes sur un système Linux, faites plutôt ceci :
# $ sed -i 's/1000/3000/' blink.ino <b class="conum">(3)</b>

$ git diff --word-diff <b class="conum">(4)</b>
diff --git a/blink.ino b/blink.ino
index 15b9911..a6cc5a5 100644
--- a/blink.ino
+++ b/blink.ino
@@ -18,7 +18,7 @@ void setup() {
// the loop routine runs over and over again forever:
void loop() {
  digitalWrite(led, HIGH);   // turn the LED on (HIGH is the voltage level)
  [-delay(1000);-]{+delay(3000);+}               // wait for a second
  digitalWrite(led, LOW);    // turn the LED off by making the voltage LOW
  [-delay(1000);-]{+delay(3000);+}               // wait for a second
}

$ git commit -a -m 'three seconds is better' <b class="conum">(5)</b>
[master 5ca509d] three seconds is better
 1 file changed, 2 insertions(+), 2 deletions(-)

$ git push origin slow-blink <b class="conum">(6)</b>
Username for 'https://github.com': tonychacon
Password for 'https://tonychacon@github.com':
Counting objects: 5, done.
Delta compression using up to 8 threads.
Compressing objects: 100% (3/3), done.
Writing objects: 100% (3/3), 340 bytes | 0 bytes/s, done.
Total 3 (delta 1), reused 0 (delta 0)
To https://github.com/tonychacon/blink
 * [new branch]      slow-blink -&gt; slow-blink</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Clone notre copie du projet localement</p>
</li>
<li>
<p>Crée un branche thématique avec un nom descriptif</p>
</li>
<li>
<p>Modifie le code</p>
</li>
<li>
<p>Vérifie si la modification est bonne</p>
</li>
<li>
<p>Valide les modifications dans la branche thématique</p>
</li>
<li>
<p>Pousse notre branche thématique sur notre dépôt dupliqué GitHub</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Maintenant, si nous allons sur notre projet dupliqué sur GitHub, nous pouvons voir que GitHub a remarqué que nous avons poussé une nouvelle branche thématique et affiche un gros bouton vert pour vérifier nos modifications et ouvrir une requête de tirage sur le projet original.</p>
</div>
<div class="paragraph">
<p>Vous pouvez aussi vous rendre à la page « Branches » à <code>https://github.com/&lt;utilisateur&gt;/&lt;projet&gt;/branches</code> pour trouver votre branche et ouvrir une requête de tirage à partir de là.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/fr/v2/images/blink-02-pr.png" >}}" alt="Le bouton Pull Request">
</div>
<div class="title">Figure 90. Le bouton Pull Request</div>
</div>
<div class="paragraph">
<p>
Si nous cliquons sur le bouton vert, une fenêtre nous permet de créer un titre et une description de la modification que nous souhaitons faire intégrer pour que le propriétaire du projet trouve une bonne raison de la prendre en considération.
C’est généralement une bonne idée de passer un peu de temps à écrire une description aussi argumentée que possible pour que le propriétaire sache pourquoi la modification est proposée et en quoi elle apporterait une amélioration au projet.</p>
</div>
<div class="paragraph">
<p>Nous voyons aussi une liste de soumissions (<em>commits</em>) dans notre branche thématique qui sont « en avance » (<em>ahead</em>) par rapport à la branche <code>master</code> (ici, un seul uniquement) et une visualisation unifiée de toutes les modifications (<em>unified diff</em>) qui seraient intégrées en cas de fusion.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/fr/v2/images/blink-03-pull-request-open.png" >}}" alt="Création d’une requête de tirage.">
</div>
<div class="title">Figure 91. Page de création d’une requête de tirage</div>
</div>
<div class="paragraph">
<p>Quand vous cliquez sur le bouton « Create pull request » sur cet écran, le propriétaire du projet que vous avez dupliqué reçoit une notification lui indiquant que quelqu’un suggère une modification et qui renvoie à la page contenant toutes les informations correspondantes.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Bien que les requêtes de tirage soient souvent utilisées de cette façon pour des projets publics quand un contributeur propose une modification complète, elles sont aussi souvent utilisées dans les projets internes <em>au début</em> d’un cycle de développement.
Comme on peut continuer à pousser sur la branche thématique même <strong>après</strong> l’ouverture de la requête de tirage, on ouvre une requête de tirage très tôt et cela permet de travailler en équipe dans un contexte, plutôt que de l’ouvrir à la toute fin du processus.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h4 id="_itérations_sur_une_requête_de_tirage">Itérations sur une requête de tirage</h4>
<div class="paragraph">
<p>À présent, le propriétaire du projet peut regarder les modifications suggérées et les fusionner ou les rejeter ou encore les commenter.
Supposons qu’il apprécie l’idée mais préférerait un temps d’extinction de la lumière légèrement plus long que le temps d’allumage.</p>
</div>
<div class="paragraph">
<p>Alors que cette conversation a lieu par échange de courriel dans les flux de travail présentés dans <a href="{{< relurl "book/fr/v2/ch00/ch05-distributed-git" >}}">Git distribué</a>, ici elle a lieu en ligne sur GitHub.
Le propriétaire du projet peut faire une revue des différences en vue unifiées et laisser un commentaire en cliquant sur une des lignes.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/fr/v2/images/blink-04-pr-comment.png" >}}" alt="ligne commentée sur une requête de tirage">
</div>
<div class="title">Figure 92. Commentaire sur une ligne spécifique de code de la requête de tirage</div>
</div>
<div class="paragraph">
<p>Une fois que le mainteneur a commenté, la personne qui a ouvert la requête de tirage (et en fait toute personne surveillant le dépôt) recevra une notification.
Nous verrons comment personnaliser ce comportement plus tard, mais si la notification par courriel est activée, Tony recevra un courriel comme celui-ci :</p>
</div>
<div id="s_email_notification" class="imageblock">
<div class="content">
<img src="{{< relurl "book/fr/v2/images/blink-04-email.png" >}}" alt="Notification par courriel">
</div>
<div class="title">Figure 93. Commentaires notifiés par courriel</div>
</div>
<div class="paragraph">
<p>N’importe qui peut aussi laisser un commentaire global sur la requête de tirage.
Sur <a href="{{< relurl "book/fr/v2/ch00/s_pr_discussion" >}}">Page de discussion d’une requête de tirage</a>, nous pouvons voir un exemple où le propriétaire du projet commente une ligne de code puis laisse un commentaire général dans la section de discussion.
Vous pouvez voir que les commentaires de code sont aussi publiés dans la conversation.</p>
</div>
<div id="s_pr_discussion" class="imageblock">
<div class="content">
<img src="{{< relurl "book/fr/v2/images/blink-05-general-comment.png" >}}" alt="Page de discussion du PR">
</div>
<div class="title">Figure 94. Page de discussion d’une requête de tirage</div>
</div>
<div class="paragraph">
<p>Maintenant, le contributeur sait ce qu’il doit faire pour que ses modifications soient intégrées.
Heureusement, ici c’est une chose facile à faire.
Alors que par courriel, il faudrait retravailler les séries de commit et les soumettre à nouveau à la liste de diffusion, avec GitHub il suffit de soumettre les correctifs sur la branche thématique et de la repousser.</p>
</div>
<div class="paragraph">
<p>Le propriétaire du projet sera notifié à nouveau des modifications du contributeur et pourra voir que les problèmes ont été réglés quand il visitera la page de la requête de tirage.
En fait, comme la ligne de code initialement commentée a été modifiée entre temps, GitHub le remarque et fait disparaître la différence obsolète.</p>
</div>
<div id="s_pr_final" class="imageblock">
<div class="content">
<img src="{{< relurl "book/fr/v2/images/blink-06-final.png" >}}" alt="PR finale">
</div>
<div class="title">Figure 95. Requête de tirage finale</div>
</div>
<div class="paragraph">
<p>Un point intéressant à noter est que si vous cliquez sur l’onglet « Files Changed » (fichiers modifiés), vous obtenez la différence sous forme unifiée — c’est-à-dire la différence totalement agrégée qui serait introduite dans votre branche principale si cette branche thématique était fusionnée.
En équivalent <code>git diff</code>, cela montre automatiquement la même chose que la commande <code>git diff master…​&lt;branche&gt;</code> pour la branche sur laquelle vous avez ouvert la requête de tirage.
Référez-vous à <a href="{{< relurl "book/fr/v2/ch00/s_what_is_introduced" >}}">Déterminer les modifications introduites</a> pour plus d’informations sur ce type de différence.</p>
</div>
<div class="paragraph">
<p>L’autre point à noter est que GitHub vérifie si la requête de tirage peut être fusionnée proprement et fournit un bouton pour réaliser la fusion sur le serveur.
Ce bouton n’apparaît que si vous avez accès en écriture au dépôt et si une fusion peut s’effectuer simplement.
Si vous cliquez dessus, GitHub réalise une fusion sans avance rapide (non-fast-forward), ce qui signifie que même si la fusion <em>pouvait</em> se faire en avance rapide (fast-forward), il va tout de même créer une soumission de fusion (merge <em>commit</em>).</p>
</div>
<div class="paragraph">
<p>Si vous préférez, vous pouvez simplement tirer la branche et la fusionner localement.
Si vous fusionnez cette branche dans <code>master</code> et poussez le tout sur GitHub, la requête de tirage sera fermée automatiquement.</p>
</div>
<div class="paragraph">
<p>C’est le processus de travail de base que la plupart des projets GitHub utilisent.
Des branches thématiques sont créées, des requêtes de tirage sont ouvertes dessus, une discussion s’engage, du travail additionnel peut être ajouté sur la branche et à la fin, la requête est soit fermée, soit fusionnée.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="title">Pas seulement avec des dépôts dupliqués</div>
<div class="paragraph">
<p>Il est important de noter que vous pouvez aussi ouvrir une requête de tirage entre deux branches du même dépôt.
Si vous travaillez sur une fonctionnalité avec quelqu’un et que vous avez tous deux accès en écriture au projet, vous pouvez pousser une branche thématique sur le dépôt et ouvrir une requête de tirage dessus vers la branche <code>master</code> de ce même projet pour démarrer une revue de code et une discussion.
Aucune duplication n’est nécessaire.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect3">
<h3 id="_requêtes_de_tirage_avancées">Requêtes de tirage avancées</h3>
<div class="paragraph">
<p>Après avoir présenté les bases de la contribution à un projet sur GitHub, voyons quelques trucs et astuces concernant les requêtes de tirage afin d’améliorer votre efficacité .</p>
</div>
<div class="sect4">
<h4 id="_requêtes_de_tirage_comme_patchs">Requêtes de tirage comme patchs</h4>
<div class="paragraph">
<p>Il est important de comprendre que pour de nombreux projets, les requêtes de tirage ne sont pas vues comme des files d’attente de patchs parfaits qui doivent s’appliquer correctement dans l’ordre, comme le conçoivent la plupart des projets basés sur des listes de diffusion qui fonctionnent par série de patchs envoyés par courriel.
La plupart des projets GitHub voient les branches de requête de tirage comme des conversations itératives autour d’une modification proposée, aboutissant à une différence unifiée qui est appliquée par fusion.</p>
</div>
<div class="paragraph">
<p>C’est une distinction importante, car généralement la modification est soumise à revue avant que le code ne soit considéré comme parfait, ce qui est bien plus rare avec les contributions par série de patchs envoyées sur une liste de diffusion.
Cela permet une conversation précoce avec les mainteneurs de sorte que l’on atteint une solution correcte par un travail plus collectif.
Quand du code est proposé par requête de tirage et que les mainteneurs ou la communauté suggèrent une modification, la série de patchs n’est généralement pas régénérée mais la différence est poussée comme nouvelle soumission (<em>commit</em>) à la branche, permettant ainsi d’avancer dans la discussion, tout en conservant intact le contexte du travail passé.</p>
</div>
<div class="paragraph">
<p>Par exemple, si vous regardez à nouveau la figure <a href="{{< relurl "book/fr/v2/ch00/s_pr_final" >}}">Requête de tirage finale</a>, vous noterez que le contributeur n’a pas rebasé sa soumission et envoyé une nouvelle requête de tirage.
Au lieu de cela, il a ajouté de nouvelles soumissions (<em>commit</em>) et les a poussé dans la branche existante.
De cette manière, si on examine cette requête de tirage dans le futur, on peut aisément retrouver la totalité du contexte qui a amené aux décisions prises.
L’utilisation du bouton « <em>Merge</em> » sur le site crée à dessein un « commit de fusion » (<em>merge</em>) qui référence la requête de tirage pour qu’il reste facile de revenir sur celle-ci et d’y rechercher la discussion originale si nécessaire.</p>
</div>
</div>
<div class="sect4">
<h4 id="_se_maintenir_à_jour_avec_le_développement_amont">Se maintenir à jour avec le développement amont</h4>
<div class="paragraph">
<p>Si votre requête de tirage devient obsolète ou ne peut plus être fusionnée proprement, vous voudrez la corriger pour que le mainteneur puisse la fusionner facilement.
GitHub testera cela pour vous et vous indique à la fin de la requête de tirage si la fusion automatique est possible ou non.</p>
</div>
<div id="s_pr_fail" class="imageblock">
<div class="content">
<img src="{{< relurl "book/fr/v2/images/pr-01-fail.png" >}}" alt="Échec de fusion de PR">
</div>
<div class="title">Figure 96. La requête de tirage ne peut pas être fusionnée proprement</div>
</div>
<div class="paragraph">
<p>Si vous voyez quelque chose comme sur la figure <a href="{{< relurl "book/fr/v2/ch00/s_pr_fail" >}}">La requête de tirage ne peut pas être fusionnée proprement</a>, vous voudrez corriger votre branche pour qu’elle ait un statut vert et que le mainteneur n’ait pas à fournir de travail supplémentaire.</p>
</div>
<div class="paragraph">
<p>Vous avez deux options.
Vous pouvez soit rebaser votre branche sur le sommet de la branche cible (normalement, la branche <code>master</code> du dépôt que vous avez dupliqué), soit fusionner la branche cible dans votre branche.</p>
</div>
<div class="paragraph">
<p>La plupart des développeurs sur GitHub choisiront cette dernière option, pour la même raison que celle citée à la section précédente.
Ce qui importe est l’historique et la fusion finale, donc le rebasage n’apporte pas beaucoup plus qu’un historique légèrement plus propre avec en prime une plus grande difficulté d’application et l’introduction possible d’erreurs.</p>
</div>
<div class="paragraph">
<p>Si vous voulez fusionner la branche cible pour rendre votre requête de tirage fusionnable, vous ajouterez le dépôt original comme nouveau dépôt distant, récupérerez la branche cible que vous fusionnerez dans votre branche thématique, corrigerez les erreurs et finalement pousserez la branche thématique sur la même branche thématique pour laquelle vous avez ouvert la requête de tirage.</p>
</div>
<div class="paragraph">
<p>Par exemple, considérons que dans l’exemple « tonychacon » que nous avons utilisé, l’auteur original a fait des modifications qui créent un conflit dans la requête de tirage.
Examinons ces étapes.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">$ git remote add upstream https://github.com/schacon/blink <b class="conum">(1)</b>

$ git fetch upstream <b class="conum">(2)</b>
remote: Counting objects: 3, done.
remote: Compressing objects: 100% (3/3), done.
Unpacking objects: 100% (3/3), done.
remote: Total 3 (delta 0), reused 0 (delta 0)
From https://github.com/schacon/blink
 * [new branch]      master     -&gt; upstream/master

$ git merge upstream/master <b class="conum">(3)</b>
Auto-merging blink.ino
CONFLICT (content): Merge conflict in blink.ino
Automatic merge failed; fix conflicts and then commit the result.

$ vim blink.ino <b class="conum">(4)</b>
$ git add blink.ino
$ git commit
[slow-blink 3c8d735] Merge remote-tracking branch 'upstream/master' \
    into slower-blink

$ git push origin slow-blink <b class="conum">(5)</b>
Counting objects: 6, done.
Delta compression using up to 8 threads.
Compressing objects: 100% (6/6), done.
Writing objects: 100% (6/6), 682 bytes | 0 bytes/s, done.
Total 6 (delta 2), reused 0 (delta 0)
To https://github.com/tonychacon/blink
   ef4725c..3c8d735  slower-blink -&gt; slow-blink</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Ajoute le dépôt original comme dépôt distant sous le nom « upstream ».</p>
</li>
<li>
<p>Récupère les derniers travaux depuis ce dépôt distant.</p>
</li>
<li>
<p>Fusionne la branche principale dans la branche thématique.</p>
</li>
<li>
<p>Corrige le conflit créé.</p>
</li>
<li>
<p>Pousse sur la même branche thématique.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Quand vous faites cela, la requête de tirage est automatiquement mise à jour et un nouveau contrôle est effectué pour vérifier la possibilité de fusion.</p>
</div>
<div id="s_pr_merge_fix" class="imageblock">
<div class="content">
<img src="{{< relurl "book/fr/v2/images/pr-02-merge-fix.png" >}}" alt="La requête de tirage a été corrigée">
</div>
<div class="title">Figure 97. La requête de tirage se fusionne proprement maintenant</div>
</div>
<div class="paragraph">
<p>Une des grandes forces de Git est que vous pouvez faire ceci régulièrement.
Si vous avez un projet à très long terme, vous pouvez facilement fusionner depuis la branche cible de nombreuses fois et n’avoir à gérer que les conflits apparus depuis la dernière fusion, rendant ainsi le processus réalisable.</p>
</div>
<div class="paragraph">
<p>Si vous souhaitez absolument rebaser la branche pour la nettoyer, vous pouvez toujours le faire, mais il vaut mieux ne pas pousser en forçant sur la branche sur laquelle la requête de tirage est déjà ouverte.
Si d’autres personnes l’ont déjà tirée et ont travaillé dessus, vous vous exposez aux problèmes décrits dans <a href="{{< relurl "book/fr/v2/ch00/s_rebase_peril" >}}">Les dangers du rebasage</a>.
À la place, poussez cette branche rebasée vers une nouvelle branche sur GitHub et ouvrez une nouvelle requête de tirage qui référence l’ancienne requête, puis fermez l’originale.</p>
</div>
</div>
<div class="sect4">
<h4 id="_références">Références</h4>
<div class="paragraph">
<p>Votre prochaine question pourrait être : « Comment faire pour référencer l’ancienne requête de tirage ? ».
En fait, il y a de très très nombreuses manières de faire référence à d’autres choses dans GitHub depuis à peu près toutes les zones textuelles.</p>
</div>
<div class="paragraph">
<p>Commençons par la manière de faire référence à une autre requête de tirage ou à une anomalie (Issue).
Toutes les requêtes de tirage et toutes les anomalies sont identifiées par des numéros qui sont uniques au sein d’un projet.
Par exemple, vous ne pouvez avoir une requête de tirage numéro 3 et une anomalie numéro 3.
Si vous voulez faire référence à n’importe quelle requête de tirage ou anomalie depuis l’une ou l’autre du même projet, il vous suffit d’insérer <code>#&lt;numéro&gt;</code> dans n’importe quel commentaire ou n’importe quelle description.
Vous pouvez aussi référencer une requête ou une anomalie d’un autre dépôt dupliqué du dépôt actuel en utilisant la syntaxe <code>&lt;utilisateur&gt;#&lt;numéro&gt;</code>, ou même un autre dépôt indépendant avec la syntaxe <code>&lt;utilisateur&gt;/&lt;dépôt&gt;#&lt;numéro&gt;</code>.</p>
</div>
<div class="paragraph">
<p>Voyons cela sur un exemple.
Disons que nous avons rebasé la branche de l’exemple précédent, créé une nouvelle requête de tirage et nous souhaitons maintenant faire référence à l’ancienne requête de tirage depuis la nouvelle.
Nous souhaitons aussi faire référence à une anomalie dans un dépôt dupliqué de celui-ci et à une anomalie soumise dans un projet complètement différent.
Nous pouvons saisir une description comme sur la figure <a href="{{< relurl "book/fr/v2/ch00/s_pr_references" >}}">Références croisées dans une requête de tirage.</a>.</p>
</div>
<div id="s_pr_references" class="imageblock">
<div class="content">
<img src="{{< relurl "book/fr/v2/images/mentions-01-syntax.png" >}}" alt="Références dans un PR">
</div>
<div class="title">Figure 98. Références croisées dans une requête de tirage.</div>
</div>
<div class="paragraph">
<p>Quand nous soumettons cette requête de tirage, nous voyons tout ceci mis en forme comme sur la figure <a href="{{< relurl "book/fr/v2/ch00/s_pr_references_render" >}}">Références croisées mises en forme dans une requête de tirage.</a>.</p>
</div>
<div id="s_pr_references_render" class="imageblock">
<div class="content">
<img src="{{< relurl "book/fr/v2/images/mentions-02-render.png" >}}" alt="Références mises en formes">
</div>
<div class="title">Figure 99. Références croisées mises en forme dans une requête de tirage.</div>
</div>
<div class="paragraph">
<p>Notez bien que l’URL GitHub complète que nous avons indiquée a été raccourcie pour ne contenir que l’information nécessaire.</p>
</div>
<div class="paragraph">
<p>À présent, si Tony retourne sur la requête de tirage originale et la ferme, nous pouvons voir que du fait de son référencement dans la nouvelle, GitHub a créé automatiquement un événement de suivi dans le journal de la nouvelle requête de tirage.
Cela signifie qu’une personne qui visitera cette requête de tirage et verra qu’elle est fermée, pourra facilement se rendre sur celle qui l’a remplacée.
Le lien ressemblera à quelque chose comme sur la figure <a href="{{< relurl "book/fr/v2/ch00/s_pr_closed" >}}">Références croisée dans une requête de tirage fermée.</a>.</p>
</div>
<div id="s_pr_closed" class="imageblock">
<div class="content">
<img src="{{< relurl "book/fr/v2/images/mentions-03-closed.png" >}}" alt="PR fermée">
</div>
<div class="title">Figure 100. Références croisée dans une requête de tirage fermée.</div>
</div>
<div class="paragraph">
<p>En plus des numéros d’anomalies, vous pouvez aussi faire référence à une soumission (commit) spécifique par son SHA-1.
Vous devez spécifier la totalité des 40 caractères du SHA-1, mais si GitHub rencontre cette chaîne, il créera un lien direct vers la soumission.
Vous pouvez aussi faire référence à des commits dans des dépôts dupliqués ou d’autres dépôts de la même manière que nous l’avons fait pour les anomalies.</p>
</div>
</div>
</div>
<div class="sect3">
<h3 id="_markdown_saveur_github">Markdown, saveur GitHub</h3>
<div class="paragraph">
<p>Faire des liens vers les autres anomalies n’est que le début des choses intéressantes que vous pouvez faire dans presque toutes les boîtes de saisie dans GitHub.
Dans les descriptions d’anomalies et de requêtes de tirage, les commentaires, les commentaires de code et plus, vous pouvez utiliser ce qu’on appelle le « Markdown, saveur GitHub » (<em>GitHub Flavored Markdown</em>).
Markdown, c’est comme écrire du texte simple mais celui-ci est rendu plus richement.</p>
</div>
<div class="paragraph">
<p>Référez-vous à l’exemple sur la figure <a href="{{< relurl "book/fr/v2/ch00/s_example_markdown" >}}">Un exemple de Markdown écrit et rendu.</a> pour savoir comment les commentaires ou le texte peuvent être écrits puis rendus en utilisant Markdown.</p>
</div>
<div id="s_example_markdown" class="imageblock">
<div class="content">
<img src="{{< relurl "book/fr/v2/images/markdown-01-example.png" >}}" alt="Exemple de Markdown">
</div>
<div class="title">Figure 101. Un exemple de Markdown écrit et rendu.</div>
</div>
<div class="paragraph">
<p>La saveur GitHub de Markdown permet de réaliser encore plus de choses au-delà de la syntaxe Markdown basique.
Celles-ci peuvent être vraiment utiles pour la création de requêtes de tirage, de commentaires d’anomalies ou de descriptions.</p>
</div>
<div class="sect4">
<h4 id="_listes_de_tâches">Listes de tâches</h4>
<div class="paragraph">
<p>La première spécificité vraiment utile du Markdown de GitHub, particulièrement dans le cadre de requêtes de tirage, est la création de listes de tâches.
Une liste de tâches est une liste de cases à cocher pour chaque action à accomplir.
Dans une anomalie ou une requête de tirage, cela indique les choses qui doit être faites avant de pouvoir considérer l’élément comme fermé.</p>
</div>
<div class="paragraph">
<p>Vous pouvez créer une liste de tâches comme ceci :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>- [X] Écrire le code
- [ ] Écrire tous les tests
- [ ] Documenter le code</code></pre>
</div>
</div>
<div class="paragraph">
<p>Si nous incluons ceci dans la description de notre requête de tirage ou de notre anomalie, nous le verrons rendu comme sur la figure <a href="{{< relurl "book/fr/v2/ch00/s_task_lists" >}}">Rendu d’une liste de tâches dans un commentaire Markdown.</a></p>
</div>
<div id="s_task_lists" class="imageblock">
<div class="content">
<img src="{{< relurl "book/fr/v2/images/markdown-02-tasks.png" >}}" alt="Exemple de liste de tâches.">
</div>
<div class="title">Figure 102. Rendu d’une liste de tâches dans un commentaire Markdown.</div>
</div>
<div class="paragraph">
<p>C’est très utilisé dans les requêtes de tirage pour indiquer tout ce que vous souhaitez voir accompli sur la branche avant que la requête de tirage ne soit prête à être fusionnée.
Le truc vraiment cool est que vous pouvez simplement cliquer sur les cases à cocher pour mettre à jour le commentaire — il est inutile de modifier directement le Markdown pour cocher les cases.</p>
</div>
<div class="paragraph">
<p>De plus, GitHub surveille la présence de listes de tâches dans vos anomalies et vos requêtes de tirage et les affiche comme métadonnées sur les pages qui en donnent la liste.
Par exemple, si vous avez une requête de tirage contenant des tâches et que vous regardez la page de résumé de toutes les requêtes de tirage, vous pouvez y voir l’état d’avancement.
Cela aide les gens à découper les requêtes de tirage en sous-tâches et aide les autres personnes à suivre le progrès sur la branche.
Vous pouvez voir un exemple de cette fonctionnalité sur la figure <a href="{{< relurl "book/fr/v2/ch00/s_task_list_progress" >}}">Résumé de listes de tâches dans la liste des requêtes de tirage.</a>.</p>
</div>
<div id="s_task_list_progress" class="imageblock">
<div class="content">
<img src="{{< relurl "book/fr/v2/images/markdown-03-task-summary.png" >}}" alt="Exemple de liste de tâches">
</div>
<div class="title">Figure 103. Résumé de listes de tâches dans la liste des requêtes de tirage.</div>
</div>
<div class="paragraph">
<p>C’est incroyablement utile quand vous ouvrez tôt une requête de tirage et les utilisez pour suivre votre progrès au cours du développement de la fonctionnalité.</p>
</div>
</div>
<div class="sect4">
<h4 id="_extraits_de_code">Extraits de code</h4>
<div class="paragraph">
<p>Vous pouvez aussi ajouter des extraits de code dans les commentaires.
C’est particulièrement utile si vous souhaitez montrer quelque chose que vous <em>pourriez</em> essayer de faire avant de les développer réellement dans votre branche sous la forme d’une soumission.
C’est aussi souvent utilisé pour ajouter un exemple de code de ce qui ne fonctionne pas ou de ce que cette requête de tirage pourrait mettre en œuvre.</p>
</div>
<div class="paragraph">
<p>Pour ajouter un extrait de code, vous devez le délimiter par des guillemets simples inversés.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>```java
for(int i=0 ; i &lt; 5 ; i++)
{
   System.out.println("i is : " + i);
}
```</code></pre>
</div>
</div>
<div class="paragraph">
<p>Si de plus vous ajoutez un nom de langage comme nous l’avons fait avec 'java', GitHub essaye de colorer syntaxiquement l’extrait.
Dans le cas ci-dessus, cela donnerait le rendu sur la figure  <a href="{{< relurl "book/fr/v2/ch00/s_md_code" >}}">Exemple de rendu d’un code délimité</a>.</p>
</div>
<div id="s_md_code" class="imageblock">
<div class="content">
<img src="{{< relurl "book/fr/v2/images/markdown-04-fenced-code.png" >}}" alt="Rendu d’un code délimité">
</div>
<div class="title">Figure 104. Exemple de rendu d’un code délimité</div>
</div>
</div>
<div class="sect4">
<h4 id="_citation">Citation</h4>
<div class="paragraph">
<p>Si vous répondez à une petite partie d’un long commentaire, vous pouvez citer la partie concernée de l’autre commentaire de manière sélective en faisant précéder chaque ligne par le caractère <code>&gt;</code>.
En réalité, c’est même tellement courant et utile qu’il existe un raccourci clavier pour cela.
Si vous sélectionnez un texte dans un commentaire auquel vous voulez directement répondre et que vous appuyez sur la touche <code>r</code>, ce texte sera automatiquement cité pour vous dans votre boîte de commentaire.</p>
</div>
<div class="paragraph">
<p>Les citations ressemblent à quelque chose comme ça :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>&gt; Whether 'tis Nobler in the mind to suffer
&gt; The Slings and Arrows of outrageous Fortune,

How big are these slings and in particular, these arrows?</code></pre>
</div>
</div>
<div class="paragraph">
<p>Une fois rendu, le commentaire ressemble à quelque chose comme sur la figure <a href="{{< relurl "book/fr/v2/ch00/s_md_quote" >}}">Exemple de rendu de citation</a>.</p>
</div>
<div id="s_md_quote" class="imageblock">
<div class="content">
<img src="{{< relurl "book/fr/v2/images/markdown-05-quote.png" >}}" alt="Rendu de citation">
</div>
<div class="title">Figure 105. Exemple de rendu de citation</div>
</div>
</div>
<div class="sect4">
<h4 id="_émoticône_emoji">Émoticône (Emoji)</h4>
<div class="paragraph">
<p>Enfin, vous pouvez également utiliser des émoticônes dans vos commentaires.
C’est en réalité utilisé assez largement dans les commentaires que vous pouvez voir pour de nombreuses anomalies et requêtes de tirage GitHub.
Il existe même un assistant pour émoticônes dans GitHub.
Lorsque vous saisissez un commentaire et que vous commencez à saisir le caractère <code>:</code>, un outil pour l’auto-complétion vous aide à trouver ce que vous recherchez.</p>
</div>
<div id="s_md_emoji_auto" class="imageblock">
<div class="content">
<img src="{{< relurl "book/fr/v2/images/markdown-06-emoji-complete.png" >}}" alt="Auto-complétion d’émoticônes">
</div>
<div class="title">Figure 106. Auto-complétion d’émoticônes en action.</div>
</div>
<div class="paragraph">
<p>Les émoticônes apparaissent sous la forme <code>:&lt;nom&gt;:</code> n’importe où dans le commentaire.
Par exemple, vous pourriez écrire quelque chose comme cela :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>I :eyes: that :bug: and I :cold_sweat:.

:trophy: for :microscope: it.

:+1: and :sparkles: on this :ship:, it's :fire::poop:!

:clap::tada::panda_face:</code></pre>
</div>
</div>
<div class="paragraph">
<p>Une fois rendu, cela ressemblerait à quelque chose comme sur la figure <a href="{{< relurl "book/fr/v2/ch00/s_md_emoji" >}}">Commentaire très chargé en émoticônes.</a>.</p>
</div>
<div id="s_md_emoji" class="imageblock">
<div class="content">
<img src="{{< relurl "book/fr/v2/images/markdown-07-emoji.png" >}}" alt="Émoticône (Emoji)">
</div>
<div class="title">Figure 107. Commentaire très chargé en émoticônes.</div>
</div>
<div class="paragraph">
<p>Bien que cela ne soit pas indispensable, cela ajoute une touche d’humour et d’émotion à un moyen de communication avec lequel il est difficile de transmettre des émotions.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Il y a en fait un assez grand nombre de services Web qui emploient maintenant des émoticônes.
Un formidable aide mémoire de référence pour trouver des émoticônes qui expriment ce que vous souhaitez dire peut être trouvé ici :</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/ikatyang/emoji-cheat-sheet/blob/master/README.md" class="bare">https://github.com/ikatyang/emoji-cheat-sheet/blob/master/README.md</a></p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h4 id="_images">Images</h4>
<div class="paragraph">
<p>Ce n’est pas à proprement parler du Markdown, saveur GitHub, mais c’est incroyablement utile.
En plus de l’ajout de liens images aux commentaires (dont il peut être difficile de trouver et d’intégrer les URL), GitHub vous permet de faire un glisser-déposer de vos images sur les zones de texte pour les intégrer.</p>
</div>
<div id="s_md_drag" class="imageblock">
<div class="content">
<img src="{{< relurl "book/fr/v2/images/markdown-08-drag-drop.png" >}}" alt="Glisser-déposer d’images">
</div>
<div class="title">Figure 108. Glisser-déposer d’images pour les télécharger et les intégrer.</div>
</div>
<div class="paragraph">
<p>Si vous regardez à nouveau l’image <a href="{{< relurl "book/fr/v2/ch00/s_pr_references" >}}">Références croisées dans une requête de tirage.</a>, vous y verrez une petite indication ``Parsed as Markdown'' (Traitement Markdown) en haut de la zone de texte.
En cliquant dessus, vous serez redirigé vers une page (en anglais) affichant un aide-mémoire de référence vous résumant tout ce que vous pouvez faire avec Markdown sur GitHub.</p>
</div>
</div>
</div>
<div class="sect3">
<h3 id="s_tirer_et_pousser_sur_differents_depots">Garder votre dépôt GitHub public à jour</h3>
<div class="paragraph">
<p>Une fois que vous avez dupliqué un dépôt GitHub, votre dépôt (votre « copie ») existe indépendamment de l’original.
En particulier, lorsque le dépôt original a de nouveaux <em>commits</em>, GitHub vous en informe avec un message comme :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">This branch is 5 commits behind progit:master.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Mais votre dépôt GitHub ne sera jamais mis à jour automatiquement par GitHub ; c’est quelque chose que vous devez faire vous-même.
Heureusement, cela est très facile à faire.</p>
</div>
<div class="paragraph">
<p>Une possibilité pour faire ça ne requiert aucune configuration.
Par exemple, si vous avez dupliqué depuis <code><a href="https://github.com/progit/progit2-fr.git" class="bare">https://github.com/progit/progit2-fr.git</a></code>, vous pouvez garder votre branche <code>master</code> à jour comme ceci :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout master <b class="conum">(1)</b>
$ git pull https://github.com/progit/progit2-fr.git <b class="conum">(2)</b>
$ git push origin master <b class="conum">(3)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Si vous étiez sur une autre branche, basculer sur <code>master</code>.</p>
</li>
<li>
<p>Récupérer les modifications depuis <code><a href="https://github.com/progit/progit2-fr.git" class="bare">https://github.com/progit/progit2-fr.git</a></code> et les fusionner dans <code>master</code>.</p>
</li>
<li>
<p>Pousser votre branche <code>master</code> sur <code>origin</code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Cela fonctionne, mais c’est un peu fastidieux d’avoir à épeler l’URL de récupération à chaque fois.
Vous pouvez automatiser ce travail avec un peu de configuration :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git remote add progit https://github.com/progit/progit2-fr.git <b class="conum">(1)</b>
$ git branch --set-upstream-to=progit/master master <b class="conum">(2)</b>
$ git config --local remote.pushDefault origin <b class="conum">(3)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Ajouter le dépôt source et lui donner un nom.
Ici, j’ai choisi de l’appeler <code>progit</code>.</p>
</li>
<li>
<p>Paramétrer votre branche <code>master</code> pour suivre la branche <code>master</code> du dépôt distant <code>progit</code>.</p>
</li>
<li>
<p>Définir le dépôt de poussée par défaut comme étant <code>origin</code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Une fois que cela est fait, le flux de travail devient beaucoup plus simple :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout master <b class="conum">(1)</b>
$ git pull <b class="conum">(2)</b>
$ git push <b class="conum">(3)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Si vous étiez sur une autre branche, basculer sur <code>master</code>.</p>
</li>
<li>
<p>Récupérer les modifications depuis <code>progit</code> et les fusionner dans <code>master</code>.</p>
</li>
<li>
<p>Pousser votre branche <code>master</code> sur <code>origin</code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Cette approche peut être utile, mais elle n’est pas sans inconvénient.
Git fera ce travail pour vous gaiement et silencieusement, mais il ne vous avertira pas si vous faites un <em>commit</em> sur <code>master</code>, tirez et fusionnez depuis <code>progit</code>, puis poussez sur <code>origin</code> — toutes ces opérations sont valides dans cette configuration.
Vous devrez donc prendre garde à ne jamais faire de <em>commit</em> directement sur <code>master</code>, puisque cette branche appartient effectivement au dépôt en amont.</p>
</div>
</div>
<div id="nav"><a href="{{< previous-section >}}">prev</a> | <a href="{{< next-section >}}">next</a></div>