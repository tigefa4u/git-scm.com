---
### DO NOT EDIT! Generated by script/update-book2.rb
category: book
section: documentation
subsection: book
sidebar: book
book:
  language_code: tl
  chapter:
    title: Mga Git na Kasangkapan
    number: 7
  section:
    title: Advanced na Pag-merge
    number: 8
    cs_number: '7.8'
    previous: book/tl/v2/Mga-Git-na-Kasangkapan-Ang-Reset-Demystified
    next: book/tl/v2/Mga-Git-na-Kasangkapan-Ang-Rerere
title: Git - Advanced na Pag-merge
---
<h2 id="_advanced_merging">Advanced na Pag-merge</h2>
<div class="paragraph">
<p>Ang pag-merge sa Git ay karaniwang medyo madali.
Dahil ang Git ay nagagawa nito ipadali ang pag-merge sa ibang branch ng maraming beses, ito ay nangangahulugan na maaari ka na merong isang matagal nang buhay na branch ngunit maaari mong panatilihin ang pinakabago habang ikaw ay gumagamit, paglutas ng maliit na mga kasalungat ng madalas, sa halip na mabigla ng isang napakalaking salungat sa katapusan ng serye.</p>
</div>
<div class="paragraph">
<p>Gayunpaman, minsan nakakalito ang mga salungatan na magaganap.
Di tulad ng ibang mga bersyon na kontrol na mga sistema, ang Git ay hindi susubok upang maging sobrang matalino tungkol sa pagsama ng pagsasalungatan na resolusyon.
Ang pilisopiya ng Git ay dapat maging talino tungkol sa pagtukoy kapag ang isang merge na resolusyon ay hindi malabo, ngunit kung may isang salungat, hindi ito sinubukan na maging matalino tungkol sa awtomatikong palutas nito.
Samakatuwid, kung ikaw ay naghintay nang sobrang tagal upang i-merge ang dalawang branch na mabilis na nagbabagu-bago, maaari kang magpatakbo ng ilang mga isyu.</p>
</div>
<div class="paragraph">
<p>Sa seksyon na ito, kami ay magpapatuloy kung ano ang mga maaaring isyu at anong mga kasangkapan na nagbibigay tulong upang panghawakan ang mga ito na mas madayang mga sitwasyon.
At saka tatalakayin din natin ang iba’t iba, na hindi pamantayan na mga uri ng mga merge na maaari mong gawin, pati na rin makita kung paano umatras sa mga merge na iyong nagawa.</p>
</div>
<div class="sect3">
<h3 id="_pag_merge_sa_mga_kasalungat">Pag-merge sa mga Kasalungat</h3>
<div class="paragraph">
<p>Habang nasakop natin ang maraming mga batayan sa paglulutas ng merge na mga salungat sa <a href="{{< relurl "book/tl/v2/ch00/_basic_merge_conflicts" >}}">Mga Pangunahing Salungatan sa Pag-Merge</a>, para sa higit na kumplikado na mga salungat, Ang Git ay nagbibigay na ilang mga kasangkapan para tulungan ka na tingnan kung ano ang nangyayari at kung paano mas mahusay na makitungo sa mga salungat.</p>
</div>
<div class="paragraph">
<p>Una sa lahat, kung sa lahat ay posible, subukan na siguraduhin na ang iyong tinatrabahong direktoryo ay malinis bago magsagawa ng merge na maaaring magkakaroon ng mga salungat.
Kung merong kang trabaho na nasa proseso, alinmang i-commit ito sa isang pansamantalang branch o itago ito.
Ginagawa ito nito para maka-undo ka ng <strong>anumang bagay</strong> na sinubukan mo dito.
Kung meron kang hindi na-save na mga pagbabago sa iyong tintrabahong direktoryo kapag sinubukan mong i-merge, ilan sa mga tip na ito ay tumutulong sayo na mawala ang trabahong iyon.</p>
</div>
<div class="paragraph">
<p>Tingnan nating mabuti ang pinakasimpleng halimbawa.
Mayroon tayong isang sobrang simple na Ruby file na nagpri-print ng <em>hello world</em>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">#! /usr/bin/env ruby

def hello
  puts 'hello world'
end

hello()</code></pre>
</div>
</div>
<div class="paragraph">
<p>Sa repositoryo natin, tayo ay lilikha ng isang bagong branch na tinatawag na <code>whitespace</code> at magpatuloy upang baguhin ang lahat na nagtatapos sa linyang Unix hanggang sa nagtatapos sa linyang DOS, na mahalagang nagbabago bawat linya sa file, pero basta may whitespace.
Then we change the line “hello world” to “hello mundo”.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout -b whitespace
Switched to a new branch 'whitespace'

$ unix2dos hello.rb
unix2dos: converting file hello.rb to DOS format ...
$ git commit -am 'converted hello.rb to DOS'
[whitespace 3270f76] converted hello.rb to DOS
 1 file changed, 7 insertions(+), 7 deletions(-)

$ vim hello.rb
$ git diff -b
diff --git a/hello.rb b/hello.rb
index ac51efd..e85207e 100755
--- a/hello.rb
+++ b/hello.rb
@@ -1,7 +1,7 @@
 #! /usr/bin/env ruby

 def hello
-  puts 'hello world'
+  puts 'hello mundo'^M
 end

 hello()

$ git commit -am 'hello mundo change'
[whitespace 6d338d2] hello mundo change
 1 file changed, 1 insertion(+), 1 deletion(-)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ngayon tayo at lilipat pabalik sa ating <code>master</code> na branch at magdagdag ng maraming dokumentasyon para sa function.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout master
Switched to branch 'master'

$ vim hello.rb
$ git diff
diff --git a/hello.rb b/hello.rb
index ac51efd..36c06c8 100755
--- a/hello.rb
+++ b/hello.rb
@@ -1,5 +1,6 @@
 #! /usr/bin/env ruby

+# prints out a greeting
 def hello
   puts 'hello world'
 end

$ git commit -am 'document the function'
[master bec6336] document the function
 1 file changed, 1 insertion(+)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ngayon ay sinusubukan aming na i-merge sa ating <code>whitespace</code> na branch at makakuha tayo ng mga salungat dahil sa whitespace na mga pagbabago.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git merge whitespace
Auto-merging hello.rb
CONFLICT (content): Merge conflict in hello.rb
Automatic merge failed; fix conflicts and then commit the result.</code></pre>
</div>
</div>
<div class="sect4">
<h4 id="_abort_merge">Pag-abort ng Merge</h4>
<div class="paragraph">
<p>Tayo ngayon ay maroon nang ilang mga opsyon.
Una, talakayin natin kung papaano makalabas sa sitwasyon na ito.
Kung sasabihin mo na ikaw ay hindi umaasa ng mga salungat at hindi gusto ang medyong pakikitungo sa sitwasyon, maaari kang hindi magpatuloy sa pag-merge ng <code>git merge --abort</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git status -sb
## master
UU hello.rb

$ git merge --abort

$ git status -sb
## master</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ang <code>git merge --abort</code> na opsyon na susubukang ibalik muli sa estado bago magpatakbo ng merge.
Ang tanging mga kaso na kung saan ay hindi perpektong makagawa kung ito ay hindi naitago, ang mga hindi nai-commit na mga pagbabago sa iyong tinatrabahong direktoryo kapag pinatakbo mo ito, kung hindi man ay dapat itong gumana ng maayos.</p>
</div>
<div class="paragraph">
<p>Para sa kadahilanan na gusto mo lang magsimulang muli, maaari ka ding magpatakbo ng <code>git reset --hard HEAD</code>, at ang iyong repositoryo ay babalik sa huling na-commit na estado.
Tandaan na anumang hindi nai-commit na trabaho ay mawawala, kaya siguraduhin mo ang anumang pagbabago.</p>
</div>
</div>
<div class="sect4">
<h4 id="_hindi_pinansin_na_whitespace">Hindi pinansin na Whitespace</h4>
<div class="paragraph">
<p>Sa ganitong partikular na kaso, ang mga salungat ay may kaugnay sa whitespace.
Alam natin ito dahil ang kaso ay simple, ngunit ito ay medyo madali rin na sabihin sa totoong mga kaso kapag tiningnan ang salungat dahil sa bawat linya ay inalis sa isang banda at dinagdag uli sa iba.
Bilang default, ang Git ay nakakakita ng lahat na ito na mga linya bilang nabago, kaya ito ay hindi ma-merge ang mga file.</p>
</div>
<div class="paragraph">
<p>Ang default na diskarte ng pag-merge ay bagaman maaaring tumanggap ng maraming mga argumento, at ilang sa kanila ay tungkol sa maayos na pagbalewala ng mga pagbabago sa whitespace.
Kung ikaw ay makakita na merong kang maraming mga isyu sa whitespace sa isang merge, maaari mong itigil ito at ulitin uli, sa ngayon may <code>-Xignore-all-space</code> o <code>-Xignore-space-change</code>.
Ang unang opsyon ay nagbabalewala sa whitespace na <strong>ganap</strong> kung nagkukumpara ng mga linya, ang pangalawa ay nagtuturing sa sunod-sunod sa isa o higit na whitespace na mga karaker bilang katumbas.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git merge -Xignore-space-change whitespace
Auto-merging hello.rb
Merge made by the 'recursive' strategy.
 hello.rb | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Dahil sa kasong ito, ang aktwal na pagbabago ng file ay hindi nagkakasalungat, na kapag babalewalain ang whitespace na mga pagbabago, ang lahat ay magme-merge na okey lang.</p>
</div>
<div class="paragraph">
<p>Ito ay isang nagliligtas ng buhay kung ikaw ay may isang tao sa iyong koponan na gusto na paminsan-minsan na mag-reformat ng lahat ng bagay mula sa mga space hanggang sa mga tab o baliktad.</p>
</div>
</div>
<div class="sect4">
<h4 id="_manual_remerge">Manual File Re-merging</h4>
<div class="paragraph">
<p>Kahit na humahawak ang Git sa whitespace pre-processing ng mabuti, may iba pang mga uri ng mga pagbabago na marahil hindi mahawakan ng awtomatiko, ngunit ay naka scriptable na mga pag-aayos.
Bilang isang halimbawa, magpanggap tayo na ang Git ay hindi makahawak ng binago na whitespace at kailangan nating gawin ito sa pamamagitan ng ating mga kamay.</p>
</div>
<div class="paragraph">
<p>Ano talaga ang kailangan nating gawin ay ang patakbuhin ang file na sinusubukan nating i-merge sa pamamagitan ng isang <code>dos2unix</code> na programa bago sinusubukan ang aktwal file na nai-merge.
Kaya paano natin ito gawin?</p>
</div>
<div class="paragraph">
<p>Una, kailangan natin pumunta sa merge na salungat na estado.
Pagkatapos ay gusto nating kunin ang mga kopya sa aking bersyon sa file, ang kanilang bersyon(mula sa branch kami ay nagme-merge) at ang karaniwang bersyon (mula sa kung saang magkabilang panig na na-branch off).
Pagkatapos gusto nating ayusin ng maaga sa kanilang panig o sa aming panig at subukang muli ang pag-merge muli para sa solong file lamang.</p>
</div>
<div class="paragraph">
<p>Pagkuha ng tatlong mga bersyon ng file ay talagang medyo madali.
Ang Git ay nag-iipon ng lahat ng mga bersyon na ito sa index sa ilalim ng “stages” na ang bawat isa ay may mga numero na nag-uugnay sa kanila.
Ang Stage 1 ay isang pangkaraniwang ninuno, ang stage 2 ay iyong bersyon at stage 3 ay mula sa <code>MERGE_HEAD</code>, ang bersyon na iyong i-merge sa (“theirs”).</p>
</div>
<div class="paragraph">
<p>Maaari mong kunin ang isang kopya sa bawat bersyon na ito sa sumasalungat na file na may <code>git show</code> na utos at isang espesyal na syntax.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git show :1:hello.rb &gt; hello.common.rb
$ git show :2:hello.rb &gt; hello.ours.rb
$ git show :3:hello.rb &gt; hello.theirs.rb</code></pre>
</div>
</div>
<div class="paragraph">
<p>Kung gusto mong makakuha ng isang maliit na mas hard core, maaari mo ding gamitn ang <code>ls-files -u</code> na plumbing na utos command para makuha ang aktwal na SHA-1s sa Git blobs para sa bawat mga file na ito.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git ls-files -u
100755 ac51efdc3df4f4fd328d1a02ad05331d8e2c9111 1	hello.rb
100755 36c06c8752c78d2aff89571132f3bf7841a7b5c3 2	hello.rb
100755 e85207e04dfdd5eb0a1e9febbc67fd837c44a1cd 3	hello.rb</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ang <code>:1:hello.rb</code> ay isa lamang shorthand para sa pagtingin na sa blob SHA-1.</p>
</div>
<div class="paragraph">
<p>Ngayon na mayroon kaming laman sa lahat ng tatlong mga stage sa aming tinatrabahong direktoryo, maaari nating mano-mano na ayusin ang kanilang aayusin na whitespace na isyu at i-merge uli ang file na may hindi gaaanong kilala <code>git merge-file</code> na utos na ginagawa lamang iyon.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ dos2unix hello.theirs.rb
dos2unix: converting file hello.theirs.rb to Unix format ...

$ git merge-file -p \
    hello.ours.rb hello.common.rb hello.theirs.rb &gt; hello.rb

$ git diff -b
diff --cc hello.rb
index 36c06c8,e85207e..0000000
--- a/hello.rb
+++ b/hello.rb
@@@ -1,8 -1,7 +1,8 @@@
  #! /usr/bin/env ruby

 +# prints out a greeting
  def hello
-   puts 'hello world'
+   puts 'hello mundo'
  end

  hello()</code></pre>
</div>
</div>
<div class="paragraph">
<p>Mula rito kami ay mabuting naka-merge sa file.
Sa katunayan, talagang gumagana itong mas mahusay kaysa sa <code>ignore-space-change</code> na opsyon dahil ito talaga ay nag-aayos sa pagbabago ng whitespace bago nai-merge sa halip na balewalain ang mga ito.
Ang nasa <code>ignore-space-change</code> na merge, talagang natapos na kami na may ilang linya na may nagtatapos na DOS na linya, gumgawa ng mga bagay na magkahalo.</p>
</div>
<div class="paragraph">
<p>Kung gusto mong makakuha ng isang ideya bago ang pagwawakas ng commit na ito tungkol sa kung ano ang tunay na nabago sa pagitan ng isang panig o ang iba, maaari mong tanungin ang <code>git diff</code> para ikumpara kung ano ang nasa iyong tinatrabahong direktoryo na malapit mo nang i-commit bilang resulta sa pag-merge ng anumang mga stage na ito.
Talakayin natin ang lahat na ito.</p>
</div>
<div class="paragraph">
<p>Para ikumpara ang iyong resulta sa kung ano ang nasa iyong branch bago ang merge, sa ibang salita, para tingnan kung ano ang naipakilala na nai-merge, maaari kang magpatakbo ng <code>git diff --ours</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git diff --ours
* Unmerged path hello.rb
diff --git a/hello.rb b/hello.rb
index 36c06c8..44d0a25 100755
--- a/hello.rb
+++ b/hello.rb
@@ -2,7 +2,7 @@

 # prints out a greeting
 def hello
-  puts 'hello world'
+  puts 'hello mundo'
 end

 hello()</code></pre>
</div>
</div>
<div class="paragraph">
<p>Kaya narito kami para madaling makita kung anong ang nangyari sa ating branch, na kung ano talaga ang ipinakilala sa file sa pag-merge nito, ay nagbabago sa solong linya.</p>
</div>
<div class="paragraph">
<p>Kung gusto nating tingnan ang resulta sa merge differed mula sa kung ano ang nasa kanilang panig, maaari kang magpatakbo ng <code>git diff --theirs</code>.
Dito sa at ang sumusunod na halimbawa, kailangan nating gamitin ang <code>-b</code> upang alisin ang whitespace dahil ikukumpara natin ito kung ano ang nasa Git, hindi ang ating nalinis na <code>hello.theirs.rb</code> na file.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git diff --theirs -b
* Unmerged path hello.rb
diff --git a/hello.rb b/hello.rb
index e85207e..44d0a25 100755
--- a/hello.rb
+++ b/hello.rb
@@ -1,5 +1,6 @@
 #! /usr/bin/env ruby

+# prints out a greeting
 def hello
   puts 'hello mundo'
 end</code></pre>
</div>
</div>
<div class="paragraph">
<p>Sa wakas, makikita mo kung paano ang file nagbago mula magkabilang panig sa <code>git diff --base</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git diff --base -b
* Unmerged path hello.rb
diff --git a/hello.rb b/hello.rb
index ac51efd..44d0a25 100755
--- a/hello.rb
+++ b/hello.rb
@@ -1,7 +1,8 @@
 #! /usr/bin/env ruby

+# prints out a greeting
 def hello
-  puts 'hello world'
+  puts 'hello mundo'
 end

 hello()</code></pre>
</div>
</div>
<div class="paragraph">
<p>Mula rito pwede nating gamitin ang <code>git clean</code> na utos upang malinis ang dagdag na mga file na ginawa natin upang gawin ang manu-manong pag-merge ngunit hindi na kinakailangan.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git clean -f
Removing hello.common.rb
Removing hello.ours.rb
Removing hello.theirs.rb</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h4 id="_checking_out_conflicts">Sinusuring ang mga Salungat</h4>
<div class="paragraph">
<p>Marahil hindi tayo masaya sa resolusyon sa puntong ito para sa ilang kadahilanan, o maaaring mano-manong pag-edit sa isa o kapwa panig na hindi pa rin gumagana ng maayos at kakailanganin ng mas maraming konteksto.</p>
</div>
<div class="paragraph">
<p>Tayo ay magbago ng halimbawa ng kaunti.
Para sa halimbawa na ito, mayroon tayong dalawang matagal na mga branch na ang bawat isa ay may ilang mga commit sa kanila ngunit lumikha ng isang lehitimong nilalaman na sumalungat kapag nai-merge.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git log --graph --oneline --decorate --all
* f1270f7 (HEAD, master) update README
* 9af9d3b add a README
* 694971d update phrase to hola world
| * e3eb223 (mundo) add more tests
| * 7cff591 add testing script
| * c3ffff1 changed text to hello mundo
|/
* b7dcc89 initial hello world code</code></pre>
</div>
</div>
<div class="paragraph">
<p>Kapag meron ka nang tatlong natatanging mga commit na nabuhay lamang sa <code>master</code> na branch at tatlong iba pa na nabuhay sa <code>mundo</code> na branch.
Kung subukan natin i-merge sa <code>mundo</code> na branch, makakuha tayo ng pagsasalungat.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git merge mundo
Auto-merging hello.rb
CONFLICT (content): Merge conflict in hello.rb
Automatic merge failed; fix conflicts and then commit the result.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Gusto namin tingnan kung ano ang salungat sa merge.
Kung buksan natin ang file, makikita natin ang ibang bagay na tulad nito:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">#! /usr/bin/env ruby

def hello
&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
  puts 'hola world'
=======
  puts 'hello mundo'
&gt;&gt;&gt;&gt;&gt;&gt;&gt; mundo
end

hello()</code></pre>
</div>
</div>
<div class="paragraph">
<p>Bawat panig sa merge ay nagdaragdag ng nilalaman sa file na ito, ngunit marami sa mga commit na nagbago sa file sa parehong lugar na sanhi sa pagkasalungat nito.</p>
</div>
<div class="paragraph">
<p>Talakayin natin ang karamihan sa mga kasangkapan na sa ngayon ay alam mo na iyong magagamit upang malaman kung papaano ang pagkasalungat ay dumating.
Marahil ito ay hindi halata kung gaano ka eksakto na dapat mong ayusin ang salungat.
Kailangan mo ng maraming konteksto.</p>
</div>
<div class="paragraph">
<p>Isang matulungin na kasangkapan ay ang <code>git checkout</code> kasama ang ‘--conflict’ na opsyon.
Ito ay mag-checkout muli muli sa file at papalitan ang salungat na merge na mga marka.
Maaari itong makakatulong kung gusto mong i-reset ang mga marker at subukan na malutas silang muli.</p>
</div>
<div class="paragraph">
<p>Maaari mong ipasa ang <code>--conflict</code> alinman <code>diff3</code> o <code>merge</code> (kung saan ay ang default).
Kung ipapasa mo ito sa <code>diff3</code>, ang Git ay gagamit ng isang bahagyang bersyon sa salungat na mga marka , di lamang nagbibigay sayo ng “ours” at “theirs” na mga bersyon, ngunit ang “base” din na bersyon na nasa linya upang magbigyan ka ng maraming konteksto.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout --conflict=diff3 hello.rb</code></pre>
</div>
</div>
<div class="paragraph">
<p>Sa sandaling patakbuhin natin yan, ang file ay kamukha nito sa halip:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">#! /usr/bin/env ruby

def hello
&lt;&lt;&lt;&lt;&lt;&lt;&lt; ours
  puts 'hola world'
||||||| base
  puts 'hello world'
=======
  puts 'hello mundo'
&gt;&gt;&gt;&gt;&gt;&gt;&gt; theirs
end

hello()</code></pre>
</div>
</div>
<div class="paragraph">
<p>Kung gusto mo ang format na ito, maaari kang magtakda nito bilang default para sa hinaharap na merge na mga salungat sa pamamagitan ng pagtatakda ng <code>merge.conflictstyle</code> at pagtatakda sa <code>diff3</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git config --global merge.conflictstyle diff3</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ang <code>git checkout</code> na utos ay maaari ding kumuha ng <code>--ours</code> at <code>--theirs</code> na mga opsyon, na kung saan ay maaaring maging isang tunay na mabilis na paraan sa pagpili pa lamang alinman sa isang panig o sa iba na hindi naka merge sa mga bagay sa lahat.</p>
</div>
<div class="paragraph">
<p>Ito ay maaaring maging partikular na kapaki-pakinabang para sa mga salungat na mga binary file na kung saan maaari ka lamang pumili ng isang panig, o kung saan gusto lamang i-merge ang tiyak na mga file mula sa ibang branch - maaari mo ding gawin ang pag-merge at pagkatapos i-checkout tiyak na mga file mula sa isang panig o sa iba bago mag-commit.</p>
</div>
</div>
<div class="sect4">
<h4 id="_merge_log">Pag-merge ng Log</h4>
<div class="paragraph">
<p>Ang kapaki-pakinabang na kasangkapan kapag naglutas ng merge na mga salungat ay ang <code>git log</code>.
Ito ay nakakatulong sayo na kunin ang konteksto na sa kung ano ang maaaring maiiambag sa mga salungat.
Pagrepaso nang kaunti sa kasaysayan para tandaan kung bakit ang dalawang mga linya sa development na hinahawakan natin sa parehong nakakatulong minsan.</p>
</div>
<div class="paragraph">
<p>Para makakuha ng buong listahan sa lahat ng natatanging mga commit na nakasali sa alinmang branch na sangkot sa merge na ito, maaari nating gamitin ang “triple dot” na syntax na natutunan natin sa <a href="{{< relurl "book/tl/v2/ch00/_triple_dot" >}}">Triple na Dot</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git log --oneline --left-right HEAD...MERGE_HEAD
&lt; f1270f7 update README
&lt; 9af9d3b add a README
&lt; 694971d update phrase to hola world
&gt; e3eb223 add more tests
&gt; 7cff591 add testing script
&gt; c3ffff1 changed text to hello mundo</code></pre>
</div>
</div>
<div class="paragraph">
<p>Iyan ay magandang listahan sa anim na kabuuang mga commit na kasangkot, pati na rin kung aling linya sa development para sa bawat commit na nangyayari.</p>
</div>
<div class="paragraph">
<p>Maaari tayong higit pa na magpasimple upang bigyan ng mas tiyak na konteksto.
Kung idagdag natin ang <code>--merge</code> na opsyon sa <code>git log</code>, ito ay nagpapakita lamang ng mga commit alinmang panig sa merge na nakahawak ng isang file na kasalukuyang may na salungat.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git log --oneline --left-right --merge
&lt; 694971d update phrase to hola world
&gt; c3ffff1 changed text to hello mundo</code></pre>
</div>
</div>
<div class="paragraph">
<p>Kung nagpapatakbo ka gamit ang <code>-p</code> na opsyon na sa halip, ikaw ay makakuha lamang ng diffs sa file na nagtatapos ng pagkasalungat.
Ito ay maaaring <strong>talagang</strong> kapaki-pakinabang sa mabilis na pagbibigay sayo ng konteksto na kailangan mo ng tulong na maunawaan kung bakit isang bagay ang mga kasalungat at kung papaano mas matalinong malutas ito.</p>
</div>
</div>
<div class="sect4">
<h4 id="_pinagsamang_diff_na_format">Pinagsamang Diff na Format</h4>
<div class="paragraph">
<p>Dahil ang mga Git ay nag-stage ng anumang mga resulta ng merge na matagumpay, kapag pinatakbo mo ang <code>git diff</code> habang nasa pagkasalungat na merge na estado, ikaw ay makakuha lamang ng kung ano ang kasalukuyang nasa pagkasalungat.
Maaari itong matulungin upang makita kung ano ang hindi pa nalutas.</p>
</div>
<div class="paragraph">
<p>Kapag pinatakbo mo ang <code>git diff</code> direkta matapos ang isang merge na salungat, ito ay nagbibigay ng impormasyon na sa halip ay natatanging diff output na format.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git diff
diff --cc hello.rb
index 0399cd5,59727f0..0000000
--- a/hello.rb
+++ b/hello.rb
@@@ -1,7 -1,7 +1,11 @@@
  #! /usr/bin/env ruby

  def hello
++&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
 +  puts 'hola world'
++=======
+   puts 'hello mundo'
++&gt;&gt;&gt;&gt;&gt;&gt;&gt; mundo
  end

  hello()</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ang format ay tinatawag na “Combined Diff” at nagbibigay sa iyo ng dalawang mga column ng datos sa susunod sa bawat linya.
Ang unang column ay nagpapakita sa iyo kung ang linya ay iba (nadagdag o inalis) sa pagitan ng “ours” na branch at ang file sa iyong tinatrabahong direktoryo at ang pangalawang column ay gagawa pareho sa pagitan ng “theirs” na branch at ang iyong tinatrabahong direktoryo na kopya.</p>
</div>
<div class="paragraph">
<p>Kaya sa halimbawang iyon ay makikita mo na ang <code>&lt;&lt;&lt;&lt;&lt;&lt;&lt;</code> and <code>&gt;&gt;&gt;&gt;&gt;&gt;&gt;</code> na mga linya ay nasa tinatrabahong kopya ngunit ay hindi alinman na panig sa merge.
Ito ay may katuturan dahil sa ang merge na kasangkapan ay natigil nila na para doon sa susunod na conteksto natin, ngunit inaasahan namin na maalis sila.</p>
</div>
<div class="paragraph">
<p>Kung lutasin natin ang salungat at ipatakbo ang <code>git diff</code> muli, makikita natin ang parehong bagay, ngunit ito ay medyo mas magagamit.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ vim hello.rb
$ git diff
diff --cc hello.rb
index 0399cd5,59727f0..0000000
--- a/hello.rb
+++ b/hello.rb
@@@ -1,7 -1,7 +1,7 @@@
  #! /usr/bin/env ruby

  def hello
-   puts 'hola world'
 -  puts 'hello mundo'
++  puts 'hola mundo'
  end

  hello()</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ito ay nagpapakita na ang “hola world” ay nasa iyong panig ngunit wala sa tinatrabahong kopya, na ang “hello mundo” ay nasa kanilang panig ngunit wala sa tinatrabahong kopya at sa wakas na “hola mundo” ay wala sa magkabilang panig ngunit ngayon ay nasa tinatrabahong kopya.
Ito ay maaaring magagamit sa pagsusuri bago ang pag-commit sa resolusyon.</p>
</div>
<div class="paragraph">
<p>Maaari kang makakuha din nito mula sa <code>git log</code> para sa anumang merge upang makita kung paano nalutas pagkatapos sa katotohanan.
Ang Git ay mag-a-output ng ganitong format kung magpatakbo ka ng <code>git show</code> sa isang merge commit, o kung ikaw ay magdagdag ng <code>--cc</code> na opsyon sa isang <code>git log -p</code> (na sa pamamagitan ng default lamang ay nagpapakita ng mga patch para sa non-merge na mga commit).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git log --cc -p -1
commit 14f41939956d80b9e17bb8721354c33f8d5b5a79
Merge: f1270f7 e3eb223
Author: Scott Chacon &lt;schacon@gmail.com&gt;
Date:   Fri Sep 19 18:14:49 2014 +0200

    Merge branch 'mundo'

    Conflicts:
        hello.rb

diff --cc hello.rb
index 0399cd5,59727f0..e1d0799
--- a/hello.rb
+++ b/hello.rb
@@@ -1,7 -1,7 +1,7 @@@
  #! /usr/bin/env ruby

  def hello
-   puts 'hola world'
 -  puts 'hello mundo'
++  puts 'hola mundo'
  end

  hello()</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h3 id="_undoing_merges">Pag-undo sa mga Merge</h3>
<div class="paragraph">
<p>Ngayon na alam mo na kung papaano maglikha ng isang merge commit, malamang ikaw ay gagawa ng pagkakamali.
Isa sa mga dakilang mga bagay tungkol sa tinatrabaho gamit ang Git ay ok lang na makagawa ng mga pagkakamali, dahil ito ay posible (at sa maraming mga kaso na madali) sa pag-ayos nila.</p>
</div>
<div class="paragraph">
<p>Merge commits are no different.
Sabihin mo na ikaw ay nagsimula sa pagtrabaho sa isang topic na branch, aksidenteng na-merge mo ito sa <code>master</code>, at ngayon ang iyong commit na kasaysayan ay ganito na ang hitsura:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/tl/v2/images/undomerge-start.png" >}}" alt="Aksidenteng merge commit.">
</div>
<div class="title">Figure 138. Aksidenteng merge commit</div>
</div>
<div class="paragraph">
<p>Mayroong dalawang paraan upang lumapit sa ganitong problema, depende sa ano ang iyong ninanais na kinalalabasan.</p>
</div>
<div class="sect4">
<h4 id="_ayusin_ang_mga_reperensiya">Ayusin ang mga reperensiya</h4>
<div class="paragraph">
<p>Kung ang hindi gustong merge commit ay umiiral na lamang sa iyong lokal na repositoryo, ang pinakamadali at pinakamahusay na solusyon ay ang ilipat ang mga branch upang sila ay nagtuturo kung saan gusto mo sila.
Sa maraming mga kaso, kung ikaw ay sumusunod sa maling <code>git merge</code> na may <code>git reset --hard HEAD~</code>, ito ay nagre-reset sa mga punto ng branch para magmukha silang ganito:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/tl/v2/images/undomerge-reset.png" >}}" alt="Kasaysayan pagkatapos ang `git reset --hard HEAD~`.">
</div>
<div class="title">Figure 139. Kasaysayan pagkatapos ang <code>git reset --hard HEAD~</code>
</div>
</div>
<div class="paragraph">
<p>Tinatalakay namin ang <code>reset</code> na balik sa <a href="{{< relurl "book/tl/v2/ch00/_git_reset" >}}">Ang Reset Demystified</a>, kaya ito ay hindi napakahirap na malaman kung ano nangyayari dito.
Narito ang isang mabilis na refresher: <code>reset --hard</code> kadalasang napupunta sa tatlong paraan:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Igalaw ang branch HEAD na mga puntos sa.
sa kasong ito, gusto naming ilipat ang <code>master</code> sa kung saan ito ay nating na merge commit (<code>C6</code>).</p>
</li>
<li>
<p>Gawin ang index na kamukha ng HEAD.</p>
</li>
<li>
<p>Gawin ang tinatrabahong direktoryo na kamukha ng index.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Ang kakulangan sa diskarteng ito ay ang kanyang sinusulatang muli na kasaysayan, na maaaring maging problema na may isang ibinabahaging direktoryo.
Tingnan ang <a href="{{< relurl "book/tl/v2/ch00/_rebase_peril" >}}">Ang mga Panganib ng Pag-rebase</a> para sa marami na mga pwedeng mangyari; ang maikling bersyon ay kung ang ibang tao ay mayroong mga commit na iyong sinusulatang muli, dapat mong marahil iwasan ang <code>reset</code>.
Ang pamamaraan na ito ay hindi rin gagana kung ang ibang mga anumang commit ay nalikha mula nang na-merge; paglilipat sa mga ref ay epektibong mawawala ang mga pagbabago na iyon.</p>
</div>
</div>
<div class="sect4">
<h4 id="_reverse_commit">Ibaliktad ang commit</h4>
<div class="paragraph">
<p>Kung ang paglilipat ng branch na mga punto sa paligid ay hindi gagana para sa iyo, Ang Git ay nagbibigay sayo ng opsyon sa paggawa ng isang bagong commit na nagbabawal sa lahat ng mga pagbabago sa isang umiireal na.
Ang Git ay tumatawag sa operasyon na ito ang “revert”, at sa partikular na sitwasyon na ito, gusto mong itong tumawag ng katulad nito:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git revert -m 1 HEAD
[master b1d8379] Revert "Merge branch 'topic'"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ang <code>-m 1</code> na flag ay nagpapahiwatig kung aling magulang ang “mainline” at dapat manatili.
Kapag ikaw ay tumatawag ng merge sa <code>HEAD</code> (<code>git merge topic</code>), ang bagong commit ay mayroong dalawang magulang: ang pinaka una ay <code>HEAD</code> (<code>C6</code>), at ang pangalawa ay ang tip sa branch na pinagsama sa (<code>C4</code>).
Sa kasong ito, gusto natin na pawalang-bisa ang lahat na pagbabago na ipinakilala sa pamamagitan ng pag-merge sa magulang #2 (<code>C4</code>), habang pinapanatili ang lahat ng mga nilalaman mula sa magulang #1 (<code>C6</code>).</p>
</div>
<div class="paragraph">
<p>Ang kasaysayan na may bumabalik na commit ay ganito ang hitsura nito:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/tl/v2/images/undomerge-revert.png" >}}" alt="Kasaysayan pagkatapos ng `git revert -m 1`.">
</div>
<div class="title">Figure 140. Kasaysayang pagkatapos ng <code>git revert -m 1</code>
</div>
</div>
<div class="paragraph">
<p>Ang bagong commit <code>^M</code> ay may eksaktong parehong mga nilalaman bilang <code>C6</code>, kaya nagsisimula mula dito na ito ay parang na-merge na hindi nangyari, maliban na ang ngayon-hindi na merge na mga commit ay nandiyan pa rin sa kasaysayan ni <code>HEAD</code>.
Ang Git ay malilito kung ikaw ay sumubok sa pag-merge sa <code>topic</code> sa <code>master</code> muli:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git merge topic
Already up-to-date.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Walang anumang sa <code>topic</code> na hindi pa naabot mula sa <code>master</code>.
Kung ano ang mas masahol, kung ikaw ay magdagdag sa <code>topic</code> at i-merge muli, Ang Git ay magdadala ng mga pagbabago <em>dahil</em> sa reverted na  merge:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/tl/v2/images/undomerge-revert2.png" >}}" alt="Kasaysayan na may isang masamang merge.">
</div>
<div class="title">Figure 141. Kasaysayan na may isang masamang merge</div>
</div>
<div class="paragraph">
<p>Ang pinakamahusay na paraan ay ang pag un-revert sa orihinal na merge, mula ngayon gusto mong dalhin ang mga pagbabago na iyong na-revert , <strong>pagkatapos</strong> lumikha ng isang bagong merge commit:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git revert ^M
[master 09f0126] Revert "Revert "Merge branch 'topic'""
$ git merge topic</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/tl/v2/images/undomerge-revert3.png" >}}" alt="Kasaysayan pagkatapos ng pagre-re-merge sa isang na revert na merge.">
</div>
<div class="title">Figure 142. Kasaysayan pagkatapos ng pagre-re-merge sa isang na revert na merge</div>
</div>
<div class="paragraph">
<p>Sa halimbawa na ito, <code>M</code> at <code>^M</code> ay kinansela.
Ang <code>^^M</code> ay epektibong nag-merge sa mga pagbabago mula sa <code>C3</code> at <code>C4</code>, at <code>C8</code> na mga merge sa pagbabago mula <code>C7</code>, kaya ngayon ang <code>topic</code> ay ganap na na-merge.</p>
</div>
</div>
</div>
<div class="sect3">
<h3 id="_ibang_mga_uri_ng_mga_merge">Ibang mga Uri ng mga Merge</h3>
<div class="paragraph">
<p>Sa ngayon natalakay natin ang karaniwang na merge sa dalawang mga branch, karaniwang hinahawakan na may isang tinatawag na “recursive” na diskarte ng pag-merge.
May ibang paraan sa pag-merge ng mga branch gayunpaman.
Talakayin natin ang ilan sa kanila ng mabilis.</p>
</div>
<div class="sect4">
<h4 id="_amin_o_kanilang_kagustuhan">Amin o Kanilang Kagustuhan</h4>
<div class="paragraph">
<p>Una sa lahat, may isang pang kapaki-pakinabang na bagay na maaari nating gawin sa normal na “recursive” na mode sa pag-merge.
Nakikita na natin ang <code>ignore-all-space</code> at <code>ignore-space-change</code> na mga opsyon na kung saan ay dumadaan sa isang <code>-X</code> ngunit maaari din naming sabihin kay Git na paboran ang isang panig o ang iba kapag ito ay nakakita ng isang salungat.</p>
</div>
<div class="paragraph">
<p>Bilang default, kapag ang Git ay nakakita ng isang salungat sa pagitan ng dalawang mga branch na na-merge, ito ay idinaragdag ang merge na kasalungat na mga marka sa iyong code at markahan ang file bilang salungat at hayaan ka na malutas ito.
Kung nais mong mas gusto para sa Git upang pumili lamang ng isang partikular na panig at huwag pansinin ang ibang panig na sa halip ng pinapayagan kang mag-manu-mano na resulbahin ang salungat, maaari mong ipasa ang <code>merge</code> na utos alinman sa isang <code>-Xours</code> o <code>-Xtheirs</code>.</p>
</div>
<div class="paragraph">
<p>Kung ang Git ay nakakita nito, ito ay hindi nagdagdag ng salungat na mga marka.
Anumang kaibahan na pwedeng ma-merge, ito ay ma-merge.
Anumang mga pagkakaiba na magkasalungat, ito ay pipili lang ng panig na tinutukoy mo nang buo, kabilang ang binary na mga file.</p>
</div>
<div class="paragraph">
<p>Kung babalik tayo sa “hello world” na halimbawa na ginagamit natin noon, makikita natin na ang merge sa ating branch ay nagdudulot ng mga pagkasalungat.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git merge mundo
Auto-merging hello.rb
CONFLICT (content): Merge conflict in hello.rb
Resolved 'hello.rb' using previous resolution.
Automatic merge failed; fix conflicts and then commit the result.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Gayunpaman kung tayo ay magpatakbo nito ng <code>-Xours</code> o <code>-Xtheirs</code> ito ay hindi.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git merge -Xours mundo
Auto-merging hello.rb
Merge made by the 'recursive' strategy.
 hello.rb | 2 +-
 test.sh  | 2 ++
 2 files changed, 3 insertions(+), 1 deletion(-)
 create mode 100644 test.sh</code></pre>
</div>
</div>
<div class="paragraph">
<p>Sa kasong iyon, sa halip na makakuha ka ng pagkasalungat na mga marka sa file sa “hello mundo” sa isang panig at ang “hola world” sa kabila, ito ay pipili sa “hola world”.
Gayunpaman, lahat ng ibang hindi nagsasalungat na mga pagbabago sa branch na iyon ay magtagumpay na nai-merge.</p>
</div>
<div class="paragraph">
<p>Ang opsyon na ito ay maaari ding ipasa sa <code>git merge-file</code> na utos na nakita namin kamakailan lang sa pamamagitan sa pagpatakbo ng isang bagay na tulad ng <code>git merge-file --ours</code> para sa indibidwal na file na mga merge.</p>
</div>
<div class="paragraph">
<p>Kung nais mong gawin ang isang bagay na tulad nito pero walang Git at kahit na subukan upang i-merge ang mga pagbabago mula sa ibang panig, mayroong higit pa na draconian na opsyon, kung saan ay ang “ours” merge <em>na diskarte</em>.
This is different from the “ours” recursive merge <em>option</em>.</p>
</div>
<div class="paragraph">
<p>Ito ay karaniwang gumawa ng pekeng merge.
Ito ay nagtatala ng isang bagong commit na may parehong mga branch bilang magulang, ngunit hindi ito tumitingin sa branch na iyong pinag-merge.
Ito lamang ay simpleng nagtatala bilang resulta sa merge na eksaktong code sa iyong kasalukuyang branch.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git merge -s ours mundo
Merge made by the 'ours' strategy.
$ git diff HEAD HEAD~
$</code></pre>
</div>
</div>
<div class="paragraph">
<p>Maaari mong makita na doon na walang pagkakaiba sa pagitan ng branch na kami ay nandoon at ang resulta sa pag-merge.</p>
</div>
<div class="paragraph">
<p>Madalas itong maging kapaki-pakinabang sa karaniwang dayain ang Git sa pag-iisip na ang branch ay na-merge na kapag gagawa ka ng merge sa susunod.
Halimbawa, sabihin mo na branched off sa isang <code>release</code> na branch at gumawa ng ilang trabaho nito na gusto mong i-merge pabalik sa iyong <code>master</code> na branch sa isang punto.
Kasabay nito ang ilang bugfix sa <code>master</code> kinakailangan na naka-backported sa iyong <code>release</code> na branch.
Maaari mong i-merge ang bugfix na branch sa <code>release</code> na branch at ang <code>merge -s ours`din na parehong branch sa iyong `master</code> na branch (kahit na ang pag-aayos ay naroroon na) kaya kapag sa paglaon mo i-merge ang <code>release</code> na branch muli, walang mga salungatan mula sa bugfix.</p>
</div>
</div>
<div class="sect4">
<h4 id="_subtree_merge">Subtree na Pag-merge</h4>
<div class="paragraph">
<p>Ang ideya ng subtree na merge ay ikaw ay mayroong dalawang proyekto, at isa sa mga proyekto ay nagmamapa sa isang subdirektoryo ng isa pa.
Kapag tinukoy mo ang isang subtree merge, ang git ay kadalasang sapat na matalino na malaman na ang isa ay isang subtree sa iba at merge na angkop.</p>
</div>
<div class="paragraph">
<p>Tayo ay tumingin ng malalim sa isang halimbawa sa pagdagdag ng hiwalay na proyekto sa isang umiiral na proyekto at pagkatapos ang pag-merge sa code sa pangalawa sa isang subdirektoryo ng una.</p>
</div>
<div class="paragraph">
<p>Una, tayo ay magdagdag ng Rack na aplikasyon sa ating proyekto.
Idagdag natin ang Rack na proyekto bilang isang remote na reperensiya sa iyong sariling proyekto at pagkatapos tingnan ito sa sarili mong branch:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git remote add rack_remote https://github.com/rack/rack
$ git fetch rack_remote --no-tags
warning: no common commits
remote: Counting objects: 3184, done.
remote: Compressing objects: 100% (1465/1465), done.
remote: Total 3184 (delta 1952), reused 2770 (delta 1675)
Receiving objects: 100% (3184/3184), 677.42 KiB | 4 KiB/s, done.
Resolving deltas: 100% (1952/1952), done.
From https://github.com/rack/rack
 * [new branch]      build      -&gt; rack_remote/build
 * [new branch]      master     -&gt; rack_remote/master
 * [new branch]      rack-0.4   -&gt; rack_remote/rack-0.4
 * [new branch]      rack-0.9   -&gt; rack_remote/rack-0.9
$ git checkout -b rack_branch rack_remote/master
Branch rack_branch set up to track remote branch refs/remotes/rack_remote/master.
Switched to a new branch "rack_branch"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ngayon meron na tayong root sa Rack na proyekti sa ating <code>rack_branch</code> na branch at ating sariling proyekto sa <code>master</code> na branch.
Kung ikaw ay magcheck out ng isa at pagkatapos sa iba, maaari mong makita na sila ay may ibang mga root na proyekto:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ ls
AUTHORS         KNOWN-ISSUES   Rakefile      contrib         lib
COPYING         README         bin           example         test
$ git checkout master
Switched to branch "master"
$ ls
README</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ito ay uri ng isang kakaibang konsepto.
Hindi lahat ng mga branch sa iyong repositoryo ay talagang may mga branch sa parehong proyekto.
Ito ay hindi karaniwan, dahil ito ay bihirang kapaki-pakinabang, ngunit ito ay medyo madali na magkaroon ng mga branch na naglalaman ng ganap na kakaibang kasaysayan.</p>
</div>
<div class="paragraph">
<p>Sa kasong ito, gusto nating i-pull ang Rack na proyekto sa ating <code>master</code> na proyekto bilang isang subdirektoryo.
Magagawa natin iyan sa Git na may <code>git read-tree</code>.
Matutunan mo ang higit na tungkol sa <code>read-tree</code> at ang mga kaibigan nito sa <a href="{{< relurl "book/tl/v2/ch00/_git_internals" >}}">Mga Panloob ng GIT</a>, ngunit para sa ngayon ay malaman ang root tree sa isang branch sa iyong kasalukuyang staging area at tinatrabahuang direktoryo.
Kakalipat lang natin pabalik sa iyong <code>master</code> na branch, at nagpull tayo sa <code>rack_branch</code> na branch sa <code>rack</code> na subdirektoryo sa ating <code>master</code> na branch sa ating pangunahing proyekto:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git read-tree --prefix=rack/ -u rack_branch</code></pre>
</div>
</div>
<div class="paragraph">
<p>When we commit, it looks like we have all the Rack files under that subdirectory – as though we copied them in from a tarball.
What gets interesting is that we can fairly easily merge changes from one of the branches to the other.
So, if the Rack project updates, we can pull in upstream changes by switching to that branch and pulling:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout rack_branch
$ git pull</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then, we can merge those changes back into our <code>master</code> branch.
To pull in the changes and prepopulate the commit message, use the <code>--squash</code> option, as well as the recursive merge strategy’s <code>-Xsubtree</code> option.
(The recursive strategy is the default here, but we include it for clarity.)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout master
$ git merge --squash -s recursive -Xsubtree=rack rack_branch
Squash commit -- not updating HEAD
Automatic merge went well; stopped before committing as requested</code></pre>
</div>
</div>
<div class="paragraph">
<p>All the changes from the Rack project are merged in and ready to be committed locally.
You can also do the opposite – make changes in the <code>rack</code> subdirectory of your master branch and then merge them into your <code>rack_branch</code> branch later to submit them to the maintainers or push them upstream.</p>
</div>
<div class="paragraph">
<p>This gives us a way to have a workflow somewhat similar to the submodule workflow without using submodules (which we will cover in <a href="{{< relurl "book/tl/v2/ch00/_git_submodules" >}}">Mga Submodule</a>).
We can keep branches with other related projects in our repository and subtree merge them into our project occasionally.
It is nice in some ways, for example all the code is committed to a single place.
However, it has other drawbacks in that it’s a bit more complex and easier to make mistakes in reintegrating changes or accidentally pushing a branch into an unrelated repository.</p>
</div>
<div class="paragraph">
<p>Another slightly weird thing is that to get a diff between what you have in your <code>rack</code> subdirectory and the code in your <code>rack_branch</code> branch – to see if you need to merge them – you can’t use the normal <code>diff</code> command.
Instead, you must run <code>git diff-tree</code> with the branch you want to compare to:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git diff-tree -p rack_branch</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or, to compare what is in your <code>rack</code> subdirectory with what the <code>master</code> branch on the server was the last time you fetched, you can run</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git diff-tree -p rack_remote/master</code></pre>
</div>
</div>
</div>
</div>
<div id="nav"><a href="{{< previous-section >}}">prev</a> | <a href="{{< next-section >}}">next</a></div>