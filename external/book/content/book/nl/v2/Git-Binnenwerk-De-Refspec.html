---
### DO NOT EDIT! Generated by script/update-book2.rb
category: book
section: documentation
subsection: book
sidebar: book
book:
  language_code: nl
  chapter:
    title: Git Binnenwerk
    number: 10
  section:
    title: De Refspec
    number: 5
    cs_number: '10.5'
    previous: book/nl/v2/Git-Binnenwerk-Packfiles
    next: book/nl/v2/Git-Binnenwerk-Uitwisseling-protocollen
title: Git - De Refspec
---
<h2 id="_refspec">De Refspec</h2>
<div class="paragraph">
<p>In dit hele boek hebben we eenvoudige verbanden (mappings) gebruikt tussen remote branches naar lokale referenties, maar ze kunnen veel complexer zijn.
Stel even dat je met de paar laatste secties hebt meegedaan en een kleine lokale Git repository gemaakt hebt, en nu een <em>remote</em> eraan zou willen toevoegen:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git remote add origin https://github.com/schacon/simplegit-progit</code></pre>
</div>
</div>
<div class="paragraph">
<p>Dit commando voegt een sectie toe aan je <code>.git/config</code> bestand, waarbij de naam van de remote (<code>origin</code>) wordt opgegeven, de URL van de remote repository en de refspec die gebruikt moet worden voor het fetchen:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ini" data-lang="ini">[remote "origin"]
	url = https://github.com/schacon/simplegit-progit
	fetch = +refs/heads/*:refs/remotes/origin/*</code></pre>
</div>
</div>
<div class="paragraph">
<p>Het formaat van de refspec is, eerst, een optionele <code>+</code>, gevolgd door <code>&lt;src&gt;:&lt;dst&gt;, waar `&lt;src&gt;</code> het patroon is voor referenties aan de remote kant, en <code>&lt;dst&gt;</code> de plaats is waar deze referenties lokaal zullen worden getrackt.
De <code>+</code> draagt Git op om de referenties bij te werken zelfs als het geen fast-forward is.</p>
</div>
<div class="paragraph">
<p>In het standaard geval dat automatisch wordt geschreven door een <code>git remote add origin</code> commando, zal Git alle referenties onder <code>refs/heads</code> op de server fetchen en ze lokaal naar <code>refs/remotes/origin</code> schrijven.
Dus, als er een <code>master</code>-branch op de server is, kan je de log van deze branch op deze manieren benaderen:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git log origin/master
$ git log remotes/origin/master
$ git log refs/remotes/origin/master</code></pre>
</div>
</div>
<div class="paragraph">
<p>Dit is allemaal gelijkwaardig, omdat Git elk van deze uitwerkt tot <code>refs/remotes/origin/master</code>.</p>
</div>
<div class="paragraph">
<p>Als je in plaats hiervan Git alleen de <code>master</code>-branch wilt laten pullen, en niet elke andere branch op de remote
 server, kan je de fetch regel wijzigen zodat het alleen naar die branch wijst:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>fetch = +refs/heads/master:refs/remotes/origin/master</code></pre>
</div>
</div>
<div class="paragraph">
<p>Dit is gewoon de standaard refspec voor <code>git fetch</code> naar die remote.
Als je een eenmalige fetch wilt doen, kan je de refspec ook op de command regel opgeven.
Om de <code>master</code>-branch te pullen van de remote naar een lokale <code>origin/mymaster</code>, kan je dit aanroepen</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git fetch origin master:refs/remotes/origin/mymaster</code></pre>
</div>
</div>
<div class="paragraph">
<p>Je kunt ook meerdere refspecs opgeven.
Op de commando regel kan je meerdere branches als volgt pullen:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git fetch origin master:refs/remotes/origin/mymaster \
	 topic:refs/remotes/origin/topic
From git@github.com:schacon/simplegit
 ! [rejected]        master     -&gt; origin/mymaster  (non fast forward)
 * [new branch]      topic      -&gt; origin/topic</code></pre>
</div>
</div>
<div class="paragraph">
<p>In dit geval wordt de pull van de <code>master</code>-branch geweigerd omdat het niet als een fast-forward referentie was opgegeven.
Je kunt dat overschrijven door een <code>+</code> voor de refspec op te geven.</p>
</div>
<div class="paragraph">
<p>Je kunt ook meerdere respecs voor fetchen aangeven in je configuratie bestand.
Als je altijd de <code>master</code> en <code>experiment</code>-branches wilt fetchen, voeg je twee regels toe:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ini" data-lang="ini">[remote "origin"]
	url = https://github.com/schacon/simplegit-progit
	fetch = +refs/heads/master:refs/remotes/origin/master
	fetch = +refs/heads/experiment:refs/remotes/origin/experiment</code></pre>
</div>
</div>
<div class="paragraph">
<p>Je kunt niet gedeeltelijke globs in het patroon opgeven, dus dit zou ongeldig zijn:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>fetch = +refs/heads/qa*:refs/remotes/origin/qa*</code></pre>
</div>
</div>
<div class="paragraph">
<p>Echter, je kunt naamsruimten (namespaces) of directories opgeven om zoiets voor elkaar te krijgen.
Als je een QA team hebt die een reeks van branches pusht, en je wilt de master branch verkrijgen en alle branches van het QA team maar niets anders, kan je een configuratie instelling als deze gebruiken:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ini" data-lang="ini">[remote "origin"]
	url = https://github.com/schacon/simplegit-progit
	fetch = +refs/heads/master:refs/remotes/origin/master
	fetch = +refs/heads/qa/*:refs/remotes/origin/qa/*</code></pre>
</div>
</div>
<div class="paragraph">
<p>Als je een complexe workflow proces hebt waarbij een QA-team branches pusht, waarbij ontwikkelaar branches pushen en integratie teams die pushen naar en samenwerken op remote branches, kan je ze op deze manier eenvoudig namespaces toewijzen.</p>
</div>
<div class="sect3">
<h3 id="_pushing_refspecs">Refspecs pushen</h3>
<div class="paragraph">
<p>Het is leuk dat je namespaced referenties op deze manier kunt fetchen, maar hoe krijgt het QA-team om te beginnen hun branches in een <code>qa/</code> namespace?
Je krijgt dit voor elkaar door refspecs te gebruiken om te pushen.</p>
</div>
<div class="paragraph">
<p>Als het QA-team hun <code>master</code>-branch naar <code>qa/master</code> op de remote server wil pushen, kunnen ze dit aanroepen:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git push origin master:refs/heads/qa/master</code></pre>
</div>
</div>
<div class="paragraph">
<p>Als ze willen dat Git dit elke keer automatisch doet als ze <code>git push origin</code> aanroepen, kunnen ze een <code>push</code> waarde aan hun configuratie bestand toevoegen:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ini" data-lang="ini">[remote "origin"]
	url = https://github.com/schacon/simplegit-progit
	fetch = +refs/heads/*:refs/remotes/origin/*
	push = refs/heads/master:refs/heads/qa/master</code></pre>
</div>
</div>
<div class="paragraph">
<p>Nogmaals, dit zal ervoor zorgen dat een <code>git push origin</code> de lokale <code>master</code>-branch standaard naar de remote <code>qa/master</code>-branch pusht.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Noot</div>
</td>
<td class="content">
<div class="paragraph">
<p>Je kunt de refspec niet gebruiken om van de ene repository te fetchen en te pushen naar een andere.
Voor een voorbeeld hoe dit wel te doen, zie <a href="{{< relurl "book/nl/v2/ch00/_fetch_and_push_on_different_repositories" >}}">Houd je GitHub openbare repository up-to-date</a>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h3 id="_references_verwijderen">References verwijderen</h3>
<div class="paragraph">
<p>Je kunt de refspec ook gebruiken om referenties te verwijderen van de remote server door iets als dit aan te roepen:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git push origin :topic</code></pre>
</div>
</div>
<div class="paragraph">
<p>Omdat de refspec <code>&lt;src&gt;:&lt;dst&gt;</code> is zegt dit, door het weglaten van het <code>&lt;src&gt;</code> gedeelte, eigenlijk dat de topic branch van de remote niets moet worden, waarmee het wordt verwijderd.</p>
</div>
<div class="paragraph">
<p>Of je kunt de nieuwere syntax gebruiken (beschikbaar vanaf Git v1.7.0):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git push origin --delete topic</code></pre>
</div>
</div>
</div>
<div id="nav"><a href="{{< previous-section >}}">prev</a> | <a href="{{< next-section >}}">next</a></div>