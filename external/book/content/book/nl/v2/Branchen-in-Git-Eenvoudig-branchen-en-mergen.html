---
### DO NOT EDIT! Generated by script/update-book2.rb
category: book
section: documentation
subsection: book
sidebar: book
book:
  language_code: nl
  chapter:
    title: Branchen in Git
    number: 3
  section:
    title: Eenvoudig branchen en mergen
    number: 2
    cs_number: '3.2'
    previous: book/nl/v2/Branchen-in-Git-Branches-in-vogelvlucht
    next: book/nl/v2/Branchen-in-Git-Branch-beheer
title: Git - Eenvoudig branchen en mergen
---
<h2 id="_eenvoudig_branchen_en_mergen">Eenvoudig branchen en mergen</h2>
<div class="paragraph">
<p>Laten we eens door een eenvoudig voorbeeld van branchen en mergen stappen met een workflow die je zou kunnen gebruiken in de echte wereld.
Je zult deze stappen volgen:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Werken aan een website.</p>
</li>
<li>
<p>Een branch aanmaken voor een nieuw verhaal waar je aan werkt.</p>
</li>
<li>
<p>Wat werk doen in die branch.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Dan ga je een telefoontje krijgen dat je een ander probleem direct moet repareren; je moet een snelle reparatie (hotfix) maken.
Je zult het volgende doen:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Switchen naar je productie-branch.</p>
</li>
<li>
<p>Een branch aanmaken om de hotfix toe te voegen.</p>
</li>
<li>
<p>Nadat het getest is de hotfix-branch mergen, en dat naar productie pushen.</p>
</li>
<li>
<p>Terugswitchen naar je originele verhaal en doorgaan met werken.</p>
</li>
</ol>
</div>
<div class="sect3">
<h3 id="_basic_branching">Eenvoudig branchen</h3>
<div class="paragraph">
<p>
Als eerste, laten we zeggen dat je aan je project werkt en al een paar commits hebt gemaakt op de <code>master</code>-branch.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/nl/v2/images/basic-branching-1.png" >}}" alt="Een eenvoudige commit historie.">
</div>
<div class="title">Figuur 18. Een eenvoudige commit historie</div>
</div>
<div class="paragraph">
<p>Je hebt besloten dat je gaat werken aan probleem #53 in wat voor systeem je bedrijf ook gebruikt om problemen te registreren.
Om een branch aan te maken en er meteen naartoe te schakelen, kun je het <code>git checkout</code> commando uitvoeren met de <code>-b</code> optie:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout -b iss53
Switched to a new branch "iss53"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Dit is een afkorting voor:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git branch iss53
$ git checkout iss53</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/nl/v2/images/basic-branching-2.png" >}}" alt="Een nieuwe branch pointer maken.">
</div>
<div class="title">Figuur 19. Een nieuwe branch pointer maken</div>
</div>
<div class="paragraph">
<p>Je doet wat werk aan je website en doet wat commits.
Door dat te doen beweegt de <code>iss53</code>-branch vooruit, omdat je het uitgecheckt hebt (dat wil zeggen, je <code>HEAD</code> wijst ernaar):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ vim index.html
$ git commit -a -m 'added a new footer [issue 53]'</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/nl/v2/images/basic-branching-3.png" >}}" alt="De `iss53`-branch is naar voren verplaatst met je werk.">
</div>
<div class="title">Figuur 20. De <code>iss53</code>-branch is naar voren verplaatst met je werk</div>
</div>
<div class="paragraph">
<p>Nu krijg je het telefoontje dat er een probleem is met de website, en je moet het meteen repareren.
Met Git hoef je de reparatie niet tegelijk uit te leveren met de <code>iss53</code> wijzigingen die je gemaakt hebt, en je hoeft ook niet veel moeite te doen om die wijzigingen terug te draaien voordat je kunt werken aan het toepassen van je reparatie in productie.
Het enige wat je moet doen is terugschakelen naar je <code>master</code>-branch.</p>
</div>
<div class="paragraph">
<p>Maar voordat je dat doet, weet dat als je werk-directory of staging area wijzigingen bevatten die nog niet gecommit zijn en conflicteren met de branch die je gaat uitchecken, Git je niet laat omschakelen.
Het beste is om een schone werkstatus te hebben als je tussen branches gaat schakelen.
Er zijn manieren om hier mee om te gaan (te weten, stashen en commit ammending) die we later gaan behandelen in <a href="{{< relurl "book/nl/v2/ch00/_git_stashing" >}}">Stashen en opschonen</a>.
Voor nu laten we aannemen dat je alle wijzigingen gecommit hebt, zodat je kunt switchen naar je <code>master</code>-branch:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout master
Switched to branch 'master'</code></pre>
</div>
</div>
<div class="paragraph">
<p>Hierna is je project-werk-directory precies zoals het was voordat je begon te werken aan probleem #53, en je kunt je concentreren op je hotfix.
Dit is een belangrijk punt om te onthouden: als je van branch overschakelt, herstelt Git je werk-directory zodanig dat deze eruit ziet als het toen je voor de laatste keer daarnaar hebt gecommit.
Het voegt automatisch bestanden toe, verwijdert en wijzigt ze om er zeker van te zijn dat je werkkopie eruit ziet zoals de branch eruit zag toen je er voor het laatst op committe.</p>
</div>
<div class="paragraph">
<p>Vervolgens heb je een hotfix te doen.
Laten we een <code>hotfix</code>-branch maken om op te werken totdat het af is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout -b hotfix
Switched to a new branch 'hotfix'
$ vim index.html
$ git commit -a -m 'fixed the broken email address'
[hotfix 1fb7853] fixed the broken email address
 1 file changed, 2 insertions(+)</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/nl/v2/images/basic-branching-4.png" >}}" alt="Hotfix branch gebaseerd op `master`.">
</div>
<div class="title">Figuur 21. Hotfix branch gebaseerd op <code>master</code>
</div>
</div>
<div class="paragraph">
<p>Je kunt je tests draaien, jezelf ervan verzekeren dat de hotfix is wat je wilt, en uiteindelijk de <code>hotfix</code>-branch mergen in je master-branch en het naar productie uitrollen.
Je doet dit met het <code>git merge</code> commando:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout master
$ git merge hotfix
Updating f42c576..3a0874c
Fast-forward
 index.html | 2 ++
 1 file changed, 2 insertions(+)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Je zult de uitdrukking “Fast forward” zien in die merge.
Omdat de commit <code>C4</code> waar de branch <code>hotfix</code> die je in-mergede naar wees direct voor de commit <code>C2</code> ligt, waar je op staat, zet Git simpelweg de pointer naar voren.
Om het op een andere manier te zeggen: als je een commit probeert te mergen met een commit die bereikt kan worden door de historie van eerste commit te volgen, zal Git de dingen vereenvoudigen door de verwijzing vooruit te verplaatsen omdat er geen afwijkend werk is om te mergen; dit wordt een “fast forward” genoemd.</p>
</div>
<div class="paragraph">
<p>Je wijziging zit nu in de snapshot van de commit waar de <code>master</code>-branch naar wijst, en je kunt je wijziging uitrollen.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/nl/v2/images/basic-branching-5.png" >}}" alt="`master` is fast-forwarded naar `hotfix`.">
</div>
<div class="title">Figuur 22. <code>master</code> is fast-forwarded naar <code>hotfix</code>
</div>
</div>
<div class="paragraph">
<p>Nadat je super-belangrijke reparatie uitgerold is, ben je klaar om terug te schakelen naar het werk dat je deed voordat je onderbroken werd.
Maar, eerst ga je de <code>hotfix</code>-branch verwijderen, omdat je die niet langer nodig hebt - de <code>master</code>-branch wijst naar dezelfde plek.
Je kunt het verwijderen met de <code>-d</code> optie op <code>git branch</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git branch -d hotfix
Deleted branch hotfix (3a0874c).</code></pre>
</div>
</div>
<div class="paragraph">
<p>Nu kun je switchen naar je werk-in-uitvoering-branch voor probleem #53 en doorgaan met daaraan te werken.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout iss53
Switched to branch "iss53"
$ vim index.html
$ git commit -a -m 'finished the new footer [issue 53]'
[iss53 ad82d7a] finished the new footer [issue 53]
1 file changed, 1 insertion(+)</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/nl/v2/images/basic-branching-6.png" >}}" alt="Werk gaat door op `iss53`.">
</div>
<div class="title">Figuur 23. Werk gaat door op <code>iss53</code>
</div>
</div>
<div class="paragraph">
<p>Het is nuttig om hier op te merken dat het werk dat je in de <code>hotfix</code>-branch gedaan hebt, niet in de bestanden van je <code>iss53</code>-branch zit.
Als je dat binnen moet halen, dan kun je de <code>master</code>-branch in de <code>iss53</code>-branch mergen door <code>git merge master</code> uit te voeren, of je kunt wachten met die wijzigingen te integreren tot het moment dat je het besluit neemt de <code>iss53</code>-branch in de <code>master</code> te trekken.</p>
</div>
</div>
<div class="sect3">
<h3 id="_basic_merging">Eenvoudig mergen (samenvoegen)</h3>
<div class="paragraph">
<p>
Stel dat je besloten hebt dat je probleem #53 werk gereed is en klaar bent om het te mergen in de <code>master</code>-branch.
Om dat te doen, zul je de <code>iss53</code>-branch mergen zoals je die <code>hotfix</code>-branch eerder hebt gemerged.
Het enige dat je hoeft te doen is de branch uit te checken waar je in wenst te mergen en dan het <code>git merge</code> commando uit te voeren:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git checkout master
Switched to branch 'master'
$ git merge iss53
Merge made by the 'recursive' strategy.
index.html |    1 +
1 file changed, 1 insertion(+)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Dit ziet er iets anders uit dan de <code>hotfix</code> merge die je eerder gedaan hebt.
In dit geval is je ontwikkelhistorie afgeweken van een eerder punt.
Omdat de commit op de branch waar je op zit geen directe voorouder is van de branch waar je in merget, moet Git wat werk doen.
In dit geval doet Git een eenvoudige drieweg-merge, gebruikmakend van de twee snapshots waarnaar gewezen wordt door de uiteinden van de branch en de gezamenlijke voorouder van die twee.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/nl/v2/images/basic-merging-1.png" >}}" alt="Drie snapshots gebruikt in een typische merge.">
</div>
<div class="title">Figuur 24. Drie snapshots gebruikt in een typische merge</div>
</div>
<div class="paragraph">
<p>In plaats van de branch-pointer alleen maar vooruit te verplaatsen, maakt Git een nieuw snapshot dat het resultaat is van deze drieweg-merge en maakt automatisch een nieuwe commit die daarnaar wijst.
Dit wordt een merge-commit genoemd, en is bijzonder in die zin dat het meer dan één ouder heeft.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/nl/v2/images/basic-merging-2.png" >}}" alt="Een merge commit.">
</div>
<div class="title">Figuur 25. Een merge commit</div>
</div>
<div class="paragraph">
<p>Nu dat je werk gemerged is, is er geen verdere noodzaak meer voor de <code>iss53</code>-branch.
Je kunt deze verwijderen en daarna handmatig de ticket in het ticket-volgsysteem sluiten:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git branch -d iss53</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h3 id="_basic_merge_conflicts">Eenvoudige merge conflicten</h3>
<div class="paragraph">
<p>
Af en toe verloopt dit proces niet zo soepel.
Als je hetzelfde gedeelte van hetzelfde bestand op een andere manier hebt gewijzigd in twee branches die je merget, dan zal Git niet in staat zijn om ze netjes te mergen.
Als je reparatie voor probleem #53 hetzelfde gedeelte van een bestand heeft gewijzigd als de <code>hotfix</code>, dan krijg je een merge conflict dat er ongeveer zo uit ziet:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git merge iss53
Auto-merging index.html
CONFLICT (content): Merge conflict in index.html
Automatic merge failed; fix conflicts and then commit the result.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Git heeft niet automatisch een nieuwe merge-commit gemaakt.
Het heeft het proces gepauzeerd zolang jij het conflict aan het oplossen bent.
Als je wilt zien welke bestanden nog niet zijn gemerged op enig punt na een merge conflict, dan kun je <code>git status</code> uitvoeren:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git status
On branch master
You have unmerged paths.
  (fix conflicts and run "git commit")

Unmerged paths:
  (use "git add &lt;file&gt;..." to mark resolution)

    both modified:      index.html

no changes added to commit (use "git add" and/or "git commit -a")</code></pre>
</div>
</div>
<div class="paragraph">
<p>Alles wat merge-conflicten heeft en wat nog niet is opgelost wordt getoond als unmerged.
Git voegt standaard conflict-oplossingsmarkeringen toe aan de bestanden die conflicten hebben, zodat je ze handmatig kunt openen en die conflicten kunt oplossen.
Je bestand bevat een sectie die er zo ongeveer uit ziet:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-html" data-lang="html">&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD:index.html
&lt;div id="footer"&gt;contact : email.support@github.com&lt;/div&gt;
=======
&lt;div id="footer"&gt;
 please contact us at support@github.com
&lt;/div&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt; iss53:index.html</code></pre>
</div>
</div>
<div class="paragraph">
<p>Dit betekent dat de versie in <code>HEAD</code> (jouw <code>master</code>-branch, omdat dat degene was die je uitgecheckt had toen je het merge-commando uitvoerde) is het bovenste gedeelte van dat blok (alles boven de <code>======</code>), terwijl de versie in je <code>iss53</code>-branch eruit ziet zoals alles in het onderste gedeelte.
Om het conflict op te lossen, moet je één van de twee gedeeltes kiezen of de inhoud zelf mergen.
Je zou bijvoorbeeld dit conflict op kunnen lossen door het hele blok met dit te vervangen:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-html" data-lang="html">&lt;div id="footer"&gt;
please contact us at email.support@github.com
&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Deze oplossing bevat een stukje uit beide secties, en de <code>&lt;&lt;&lt;&lt;&lt;&lt;&lt;</code>, <code>=======</code>, en <code>&gt;&gt;&gt;&gt;&gt;&gt;&gt;</code> regels zijn volledig verwijderd.
Nadat je elk van deze secties opgelost hebt in elk conflicterend bestand, voer dan <code>git add</code> uit voor elk van die bestanden om het als opgelost te markeren.
Het bestand stagen markeert het als opgelost in Git.</p>
</div>
<div class="paragraph">
<p>Als je een grafische applicatie wil gebruiken om deze problemen op te lossen, kun je <code>git mergetool</code> uitvoeren, wat een toepasselijk grafische merge-applicatie opstart dat je door de conflicten heen leidt:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git mergetool

This message is displayed because 'merge.tool' is not configured.
See 'git mergetool --tool-help' or 'git help config' for more details.
'git mergetool' will now attempt to use one of the following tools:
opendiff kdiff3 tkdiff xxdiff meld tortoisemerge gvimdiff diffuse diffmerge ecmerge p4merge araxis bc3 codecompare vimdiff emerge
Merging:
index.html

Normal merge conflict for 'index.html':
  {local}: modified file
  {remote}: modified file
Hit return to start merge resolution tool (opendiff):</code></pre>
</div>
</div>
<div class="paragraph">
<p>Als je een andere dan de standaard merge-tool wilt gebruiken (Git koos <code>opendiff</code> in dit geval, omdat het commando uitgevoerd werd op een Mac), dan kun je alle ondersteunde applicaties opgesomd zien na “one of the following tools.”
Type de naam van de applicatie die je liever gebruikt.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Noot</div>
</td>
<td class="content">
<div class="paragraph">
<p>Als je een meer geavanceerde applicatie wilt gebruiken om ingewikkelde merge conflicten op te lossen: we behandelen merging uitgebreider in <a href="{{< relurl "book/nl/v2/ch00/_advanced_merging" >}}">Mergen voor gevorderden</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Nadat je de merge applicatie afsluit, vraagt Git je of de merge succesvol was.
Als je het script vertelt dat dit het geval is, dan staget dit script het bestand voor je om het als opgelost te markeren.
Je kunt <code>git status</code> nogmaals uitvoeren om je ervan te verzekeren dat alle conflicten opgelost zijn:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ git status
On branch master
All conflicts fixed but you are still merging.
  (use "git commit" to conclude merge)

Changes to be committed:

    modified:   index.html</code></pre>
</div>
</div>
<div class="paragraph">
<p>Als je het daar mee eens bent, en je gecontroleerd hebt dat alles waar conflicten in zaten gestaged is, dan kun je <code>git commit</code> typen om de merge-commit af te ronden.
Het commit-bericht ziet er standaard ongeveer zo uit:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">Merge branch 'iss53'

Conflicts:
    index.html
#
# It looks like you may be committing a merge.
# If this is not correct, please remove the file
#	.git/MERGE_HEAD
# and try again.


# Please enter the commit message for your changes. Lines starting
# with '#' will be ignored, and an empty message aborts the commit.
# On branch master
# All conflicts fixed but you are still merging.
#
# Changes to be committed:
#	modified:   index.html
#</code></pre>
</div>
</div>
<div class="paragraph">
<p>Je kunt dat bericht aanpassen met details over hoe je het conflict opgelost hebt, als je denkt dat dat behulpzaam zal zijn voor anderen die in de toekomst naar deze merge kijken - waarom je hebt gedaan wat je gedaan hebt, als dat niet vanzelfsprekend is.</p>
</div>
</div>
<div id="nav"><a href="{{< previous-section >}}">prev</a> | <a href="{{< next-section >}}">next</a></div>