---
### DO NOT EDIT! Generated by script/update-book2.rb
category: book
section: documentation
subsection: book
sidebar: book
book:
  language_code: bg
  chapter:
    title: Клонове в Git
    number: 3
  section:
    title: Стратегии за работа с клонове код
    number: 4
    cs_number: '3.4'
    previous: book/bg/v2/Клонове-в-Git-Управление-на-клонове
    next: book/bg/v2/Клонове-в-Git-Отдалечени-клонове
title: Git - Стратегии за работа с клонове код
url: "/book/bg/v2/Клонове-в-Git-Стратегии-за-работа-с-клонове-код.html"
---
<h2 id="_стратегии_за_работа_с_клонове_код">Стратегии за работа с клонове код</h2>
<div class="paragraph">
<p>След като вече имате основните познания за разклоняване и сливане на код, нека видим какво можете и следва да правите с тях.
Тук ще разгледаме някои стандартни стратегии за работа с клонове код, които стават възможни благодарение на лекотата, с която Git управлява разклоненията. Може да решите да използвате някои от тях във вашия цикъл на разработки.</p>
</div>
<div class="sect3">
<h3 id="_дълго_използвани_клонове">Дълго използвани клонове</h3>
<div class="paragraph">
<p>
Понеже Git използва просто трипосочно сливане, сливането на един клон с друг много пъти в продължение на дълъг период от време, е много лесно.
Това означава, че можете да имате множество клонове, които са винаги отворени и които можете да ползвате за различни етапи на вашия цикъл от разработки и редовно да правите сливания на промените от един клон в друг.</p>
</div>
<div class="paragraph">
<p>Много разработчици, които ползват Git, следват подобна тактика - в <code>master</code> клона държат само напълно стабилния код, който е вече публикуван или ще бъде публикуван.
Те имат отделен паралелен клон наречен <code>develop</code> или <code>next</code>, от който работят или тестват за стабилност — този код не е непременно стабилен, но щом стане такъв, може да се слее в <code>master</code> клона.
Той се използва за създаването на допълнителни topic branches (клонове с кратък живот, подобни на вашия <code>iss53</code>) когато са готови, за да е сигурно, че те преминават всички тестове и не предизвикват грешки.</p>
</div>
<div class="paragraph">
<p>В действителност, говорим за указатели, които се преместват по линията на къмитите, които правим.
Стабилните клонове са в долния край на линията на историята на къмитите, а най-новите - в горния край.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/bg/v2/images/lr-branches-1.png" >}}" alt="Линеен изглед на progressive-stability разклоняване">
</div>
<div class="title">Фигура 26. Линеен изглед на progressive-stability разклоняване</div>
</div>
<div class="paragraph">
<p>За улеснение, можем да мислим за тях като за работни помещения, където множествата къмити преминават към "по-стабилно" помещение, когато се изтестват напълно.</p>
</div>
<div id="lrbranch_b" class="imageblock">
<div class="content">
<img src="{{< relurl "book/bg/v2/images/lr-branches-2.png" >}}" alt="Дървовиден изглед на progressive-stability разклоняване">
</div>
<div class="title">Фигура 27. Дървовиден изглед на progressive-stability разклоняване</div>
</div>
<div class="paragraph">
<p>Можете да правите това за различни нива на стабилност.
Някои по-големи проекти също така имат <code>proposed</code> или <code>pu</code> (proposed updates) клон интегриращ други такива, които може да не са готови да отидат в <code>next</code> или <code>master</code> клона.
Идеята е, че клоновете код са с различни нива на стабилност и когато достигнат по-стабилен статус - се сливат с клона над тях.
Да припомним отново - поддържането на long-running клонове не е необходимо, но често е полезно, особено когато си имате работа с много големи и сложни проекти.</p>
</div>
</div>
<div class="sect3">
<h3 id="_topic_branch">Topic клонове</h3>
<div class="paragraph">
<p>
Topic клоновете обаче, са полезни за проекти от всякакъв мащаб.
Topic клонът е клон с кратък живот, който създавате за въвеждането на единична функционалност или свързана с нея работа.
Това е нещо, което най-вероятно никога не сте правили с други VCS преди Git, защото в общи линии е скъп процес с тях.
Но в Git е много лесно да създавате, работите, сливате и изтривате клонове по няколко пъти на ден.</p>
</div>
<div class="paragraph">
<p>Видяхте това в последната секция с клоновете <code>iss53</code> и <code>hotfix</code>.
Направихте няколко къмита в тях и ги изтрихте директно след като ги сляхте с <code>master</code> клона.
Тази техника позволява да превключвате към различни контексти в проекта ви бързо и изцяло — понеже работата ви е изолирана в собствени клонове фокусирани в специфични задачи е по-лесно да преглеждате какво е ставало по време на специфичната разработка по даден проблем на проекта.
Можете да си пазите промените там за минути, дни или месеци и да ги слеете, когато сте готови — без значение на последователността, в която са създавани или променяни.</p>
</div>
<div class="paragraph">
<p>Представете си пример - работите по проект в основния клон, създавате клон за решаване на възникнал проблем (<code>iss91</code>), работите в него известно време, създавате още един клон за да изпробвате втори начин за решаване на възникналия проблем (<code>iss91v2</code>), връщате се отново в <code>master</code> клона и работите по него дълго време. В един момент ви хрумва идея, за която не сте сигурни, че е толкова добра, но за да я изпробвате, създавате клон за нея (да го наречем <code>dumbidea</code>).
Историята на къмитите ви би могла да изглежда така:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/bg/v2/images/topic-branches-1.png" >}}" alt="Множество topic клонове">
</div>
<div class="title">Фигура 28. Множество topic клонове</div>
</div>
<div class="paragraph">
<p>Сега нека кажем, че решавате да изберете второто решение на проблема като най-добро (<code>iss91v2</code>) и същевременно сте показали <code>dumbidea</code> клона на вашите колеги и той се е оказал гениално хрумване.
Можете да захвърлите клона <code>iss91</code> (губейки къмитите <code>C5</code> и <code>C6</code>) и да слеете в <code>master</code> останалите два.
Тогава историята ще изглежда така:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="{{< relurl "book/bg/v2/images/topic-branches-2.png" >}}" alt="Историята след сливането на `dumbidea` и `iss91v2`">
</div>
<div class="title">Фигура 29. Историята след сливането на <code>dumbidea</code> и <code>iss91v2</code>
</div>
</div>
<div class="paragraph">
<p>Ще обърнем повече внимание на различните работни стратегии в главата <a href="{{< relurl "book/bg/v2/ch00/ch05-distributed-git" >}}">[ch05-distributed-git]</a>, така че преди да се спрете на конкретна схема за разклоняване за следващия ви проект, уверете се че сте я прочели.</p>
</div>
<div class="paragraph">
<p>Важно е просто да помните, че когато правите всичко това - тези клонове са изцяло локални.
Когато разклонявате и сливате, всичко се прави единствено във вашето Git хранилище - не се извършва никаква мрежова комуникация.</p>
</div>
</div>
<div id="nav"><a href="{{< previous-section >}}">prev</a> | <a href="{{< next-section >}}">next</a></div>