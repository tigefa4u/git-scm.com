---
### DO NOT EDIT! Generated by script/update-docs.rb

category: manual
section: documentation
subsection: manual
title: Git - git-merge-file Documentation
docname: git-merge-file
lang: zh_HANS-CN
aliases:
- "/docs/git-merge-file/zh_HANS-CN/index.html"
---
<div class="sect1">
<h2 id="_名称"><a class="anchor" href="#_名称"></a>名称</h2>
<div class="sectionbody">
<div class="paragraph">
<p>git-merge-file - 运行三方文件合并</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_概述"><a class="anchor" href="#_概述"></a>概述</h2>
<div class="sectionbody">
<div class="verseblock">
<pre class="content"><em>git merge-file</em> [-L &lt;当前名称&gt; [-L &lt;基本名称&gt; [-L &lt;另一个名称&gt;]]]
	[--ours|--theirs|--union] [-p|--stdout] [-q|--quiet] [--marker-size=&lt;n&gt;]
	[--[no-]diff3] [--object-id] &lt;当前文件&gt; &lt;基础文件&gt; &lt;另一个文件&gt;</pre>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_描述"><a class="anchor" href="#_描述"></a>描述</h2>
<div class="sectionbody">
<div class="paragraph">
<p>给定 &lt;当前文件&gt;、&lt;基础文件&gt; 和 &lt;其他文件&gt; 这三个文件，<em>git merge-file</em> 会将从 <code>&lt;基础文件&gt;</code> 到 <code>&lt;另一个文件&gt;</code> 的所有改动合并到 <code>&lt;当前文件&gt;</code> 中。合并后的结果通常会放入 <code>&lt;当前文件&gt;</code>。<em>git merge-file</em> 可用于合并对原文件的不同改动。假设 <code>&lt;基础文件&gt;`是原文件，而 `&lt;当前文件&gt;</code> 和 <code>&lt;另一个文件&gt;</code> 都是对 <code>&lt;基础文件&gt;</code> 的修改，那么 <em>git merge-file</em> 会合并这两处修改。</p>
</div>
<div class="paragraph">
<p>如果 <code>&lt;当前文件&gt;</code> 和 <code>&lt;另一个文件&gt;</code> 在共同的行段中都有改动，就会发生冲突。如果发现冲突，"git merge-file" 通常会输出警告，并用包含 &lt;&lt;&lt;&lt;&lt;&lt;&lt; 和 &gt;&gt;&gt;&gt;&gt;&gt;&gt; 标记的行括弧括住冲突。典型的冲突如下：</p>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;&lt;&lt;&lt;&lt;&lt;&lt; A
文件 A 中的某几行
=======
文件 B 中的某几行
&gt;&gt;&gt;&gt;&gt;&gt;&gt; B</pre>
</div>
</div>
<div class="paragraph">
<p>如果存在冲突，用户应编辑结果并删除其中一个备选行。 但是，如果使用了 <code>--ours</code>、<code>--theirs</code> 或 <code>--union`选项，这些冲突就会分别以 `&lt;当前文件&gt;</code>、<code>&lt;其他文件&gt;</code> 或两者的行为优先。 冲突标记的长度可以用 <code>--marker-size</code> 选项给出。</p>
</div>
<div class="paragraph">
<p>如果指定了 <code>--object-id</code>，则会发生完全相同的行为，只不过不是指定要合并为文件的内容，而是指定为指向 blob 的对象 ID 列表。</p>
</div>
<div class="paragraph">
<p>如果程序出错，则退出值为负数，否则退出值为冲突数（如果冲突数超过 127，则截断为 127）。如果合并无误，则退出值为 0。</p>
</div>
<div class="paragraph">
<p><em>git merge-file</em> 被设计为 RCS <em>merge</em> 的最小克隆；也就是说，它实现了 RCS <em>merge</em> 的所有功能，而这正是 <a href='{{< relurl "docs/git/zh_HANS-CN" >}}'>git[1]</a> 所需要的。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_选项"><a class="anchor" href="#_选项"></a>选项</h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1" id="git-merge-file---object-id"> <a class="anchor" href="#git-merge-file---object-id"></a>--object-id </dt>
<dd>
<p>指定要合并的内容为当前仓库中的 blob，而不是文件。在这种情况下，操作必须在有效的仓库中进行。</p>
<div class="paragraph">
<p>如果指定了 <code>-p</code> 选项，合并后的文件（包括冲突（如果有的话））会像往常一样写入标准输出；否则，合并后的文件会写入对象存储空间，其 blob 的对象 ID 会写入标准输出。</p>
</div>
</dd>
<dt class="hdlist1" id="git-merge-file--Lltgt"> <a class="anchor" href="#git-merge-file--Lltgt"></a>-L &lt;标签&gt; </dt>
<dd>
<p>这个选项最多可以给出三次，它指定了在冲突报告中用来代替相应文件名的标签。也就是说，<code>git merge-file -L x -L y -L z a b c</code> 产生的输出看起来像是来自文件 x、y 和 z，而不是文件 a、b 和 c。</p>
</dd>
<dt class="hdlist1" id="git-merge-file--p"> <a class="anchor" href="#git-merge-file--p"></a>-p </dt>
<dd>
<p>将结果发送到标准输出，而不是覆盖 <code>&lt;当前文件&gt;</code>。</p>
</dd>
<dt class="hdlist1" id="git-merge-file--q"> <a class="anchor" href="#git-merge-file--q"></a>-q </dt>
<dd>
<p>安静；不警告冲突。</p>
</dd>
<dt class="hdlist1" id="git-merge-file---diff3"> <a class="anchor" href="#git-merge-file---diff3"></a>--diff3 </dt>
<dd>
<p>以 "diff3" 样式显示冲突。</p>
</dd>
<dt class="hdlist1" id="git-merge-file---zdiff3"> <a class="anchor" href="#git-merge-file---zdiff3"></a>--zdiff3 </dt>
<dd>
<p>以 "zdiff3" 样式显示冲突。</p>
</dd>
<dt class="hdlist1" id="git-merge-file---ours"> <a class="anchor" href="#git-merge-file---ours"></a>--ours </dt>
<dt class="hdlist1" id="git-merge-file---theirs"> <a class="anchor" href="#git-merge-file---theirs"></a>--theirs </dt>
<dt class="hdlist1" id="git-merge-file---union"> <a class="anchor" href="#git-merge-file---union"></a>--union </dt>
<dd>
<p>与其在文件中留下冲突，不如解决冲突，使冲突有利于我们（或他们或双方）。</p>
</dd>
<dt class="hdlist1" id="git-merge-file---diff-algorithmpatienceminimalhistogrammyers"> <a class="anchor" href="#git-merge-file---diff-algorithmpatienceminimalhistogrammyers"></a>--diff-algorithm={patience|minimal|histogram|myers} </dt>
<dd>
<p>合并时使用不同的差异算法。目前的默认值是 "myers"，但选择更新颖的算法（如 "histogram"）有助于避免因不重要的匹配行（如不同函数的大括号）而导致的错误合并。另请参阅 <a href='{{< relurl "docs/git-diff/zh_HANS-CN" >}}'>git-diff[1]</a> <code>--diff-algorithm</code>。</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_实例"><a class="anchor" href="#_实例"></a>实例</h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1" id="git-merge-file-codegitmerge-fileREADMEmyREADMEREADMEupstreamcode"> <a class="anchor" href="#git-merge-file-codegitmerge-fileREADMEmyREADMEREADMEupstreamcode"></a><code>git merge-file README.my README README.upstream</code> </dt>
<dd>
<p>合并 README.my 和 README.upstream 自 README 以来的改动，尝试合并它们，并将结果写入 README.my。</p>
</dd>
<dt class="hdlist1" id="git-merge-file-codegitmerge-file-La-Lb-Lctmpa123tmpb234tmpc345code"> <a class="anchor" href="#git-merge-file-codegitmerge-file-La-Lb-Lctmpa123tmpb234tmpc345code"></a><code>git merge-file -L a -L b -L c tmp/a123 tmp/b234 tmp/c345</code> </dt>
<dd>
<p>将 tmp/a123 和 tmp/c345 与基础 tmp/b234 合并，但使用标签 <code>a</code> 和 <code>c</code> 代替 <code>tmp/a123</code> 和 <code>tmp/c345</code>。</p>
</dd>
<dt class="hdlist1" id="git-merge-file-codegitmerge-file-p--object-idabc1234def567890abcdcode"> <a class="anchor" href="#git-merge-file-codegitmerge-file-p--object-idabc1234def567890abcdcode"></a><code>git merge-file -p --object-id abc1234 def567 890abcd</code> </dt>
<dd>
<p>合并自 def567 以来 blob abc1234 和 890abcd 的变化，尝试合并它们，并将结果写入标准输出</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_git"><a class="anchor" href="#_git"></a>GIT</h2>
<div class="sectionbody">
<div class="paragraph">
<p>属于 <a href='{{< relurl "docs/git/zh_HANS-CN" >}}'>git[1]</a> 文档</p>
</div>
</div>
</div>