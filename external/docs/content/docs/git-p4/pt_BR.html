---
### DO NOT EDIT! Generated by script/update-docs.rb

category: manual
section: documentation
subsection: manual
title: Git - git-p4 Documentation
docname: git-p4
lang: pt_BR
aliases:
- "/docs/git-p4/pt_BR/index.html"
---
<div class="sect1">
<h2 id="_nome"><a class="anchor" href="#_nome"></a>NOME</h2>
<div class="sectionbody">
<div class="paragraph">
<p>git-p4 - Importe e envie para os repositórios Perforce</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resumo"><a class="anchor" href="#_resumo"></a>RESUMO</h2>
<div class="sectionbody">
<div class="verseblock">
<pre class="content"><em>git p4 clone</em> [&lt;opções-de-sincronismo&gt;] [&lt;opções-da-clonagem&gt;] &lt;caminho-do-depósito-p4&gt;&#8230;&#8203;
<em>git p4 sync</em> [&lt;opções-de-sincronismo&gt;] [&lt;caminho-do-depósito-p4&gt;&#8230;&#8203;]
<em>git p4 rebase</em>
<em>git p4 submit</em> [&lt;opções-de-envio&gt;] [&lt;nome-do-ramo-master&gt;]</pre>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_descrição"><a class="anchor" href="#_descrição"></a>DESCRIÇÃO</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Este comando fornece uma maneira de interagir com os repositórios p4 utilizando o Git.</p>
</div>
<div class="paragraph">
<p>Crie um novo repositório Git a partir de um repositório p4 já existente usando o comando <em>git p4 clone</em>, informando a ele um ou mais caminhos do depósito p4. Incorpora novas alterações nos commits p4 com o comando <em>git p4 sync</em>. O comando <em>sync</em> também é usado para incluir novas ramificações de outros caminhos do depósito do p4. Submeta as alterações do Git de volta ao p4 usando o comando <em>git p4 submit</em>. O comando <em>git p4 rebase</em> faz uma sincronização e faz o "rebase" do ramo atual para o ramo remoto p4 atualizado.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_exemplos"><a class="anchor" href="#_exemplos"></a>EXEMPLOS</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Clone um repositório:</p>
<div class="listingblock">
<div class="content">
<pre>$ git p4 clone //depot/path/project</pre>
</div>
</div>
</li>
<li>
<p>Faça algum trabalho no repositório Git recém-criado:</p>
<div class="listingblock">
<div class="content">
<pre>$ cd project
$ vi foo.h
$ git commit -a -m "foo.h editado"</pre>
</div>
</div>
</li>
<li>
<p>Atualize o repositório Git com as alterações recentes vindos do <em>p4</em>, reorganizando o seu trabalho no topo:</p>
<div class="listingblock">
<div class="content">
<pre>$ git p4 rebase</pre>
</div>
</div>
</li>
<li>
<p>Envie os seus commits de volta para <em>p4</em>:</p>
<div class="listingblock">
<div class="content">
<pre>$ git p4 submit</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comandos"><a class="anchor" href="#_comandos"></a>COMANDOS</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_clone"><a class="anchor" href="#_clone"></a>Clone</h3>
<div class="paragraph">
<p>Geralmente, o comando <em>git p4 clone</em> é utilizado para criar um novo diretório Git a partir de um repositório p4 já existente:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ git p4 clone //depot/path/project</pre>
</div>
</div>
<div class="paragraph">
<p>Este:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Cria um repositório Git vazio num subdiretório chamado <em>project</em>.</p>
</li>
<li>
<p>Importa todo o conteúdo da revisão principal do caminho do depósito p4 informado num único commit no ramo Git <em>refs/remotes/p4/master</em>.</p>
</li>
<li>
<p>Cria um ramo local, <em>master</em>, deste ramo remoto e faz uma averiguação.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Para reproduzir todo o histórico p4 no Git, utilize o modificador <em>@all</em> no caminho do depósito:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ git p4 clone //depot/path/project@all</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_sync"><a class="anchor" href="#_sync"></a>Sync</h3>
<div class="paragraph">
<p>À medida que o desenvolvimento continua no repositório p4, estas alterações podem ser incluídas no repositório Git utilizando:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ git p4 sync</pre>
</div>
</div>
<div class="paragraph">
<p>Este comando encontra as novas alterações no p4 e as importa conforme o Git realiza os commits.</p>
</div>
<div class="paragraph">
<p>Os repositórios P4 podem ser adicionados a um repositório Git já existente também utilizando o comando <em>git p4 sync</em>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ mkdir repo-git
$ cd repo-git
$ git init
$ git p4 sync //path/in/your/perforce/depot</pre>
</div>
</div>
<div class="paragraph">
<p>Isso importa o depósito especificado para <em>refs/remotes/p4/master</em> num repositório Git já existente. A opção <code>--branch</code> pode ser usada para especificar uma ramificação diferente a ser usada para o conteúdo do p4.</p>
</div>
<div class="paragraph">
<p>Se um repositório Git incluir as ramificações <em>refs/remotes/origin/p4</em>, elas serão obtidas e consultadas primeiro durante a execução do comando <em>git p4 sync</em>. Como a importação direta do p4 é consideravelmente mais lenta do que a extração de alterações de um Git remoto, isso pode ser útil num ambiente com vários desenvolvedores.</p>
</div>
<div class="paragraph">
<p>Se houver várias ramificações, o comando <em>git p4 sync</em> usará automaticamente o algoritmo "BRANCH DETECTION" para tentar dividir as novas alterações na ramificação correta. Isso pode ser substituído pela opção <code>--branch</code> especificando apenas um único ramo para ser atualizado.</p>
</div>
</div>
<div class="sect2">
<h3 id="_rebase"><a class="anchor" href="#_rebase"></a>Rebase</h3>
<div class="paragraph">
<p>Um padrão de trabalho comum é obter as alterações mais recentes do depósito p4 e mesclá-las com as alterações locais onde o commit ainda não foi feito. Muitas vezes, o repositório p4 é o local definitivo para todo o código, portanto, um fluxo de trabalho do "rebase" faz sentido. Esse comando executa o comando <em>git p4 sync</em> seguido do <em>git rebase</em> para mover os commits locais no topo das alterações atualizadas do p4.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ git p4 rebase</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_envio"><a class="anchor" href="#_envio"></a>Envio</h3>
<div class="paragraph">
<p>O envio das alterações de um repositório Git de volta ao repositório p4 requer um espaço de trabalho separado do cliente p4. Isso deve ser especificado usando a variável de ambiente <code>P4CLIENT</code> ou a variável de configuração do Git <em>git-p4.client</em>. O cliente p4 deve existir, mas a raiz do cliente será criada e preenchida se ainda não existir.</p>
</div>
<div class="paragraph">
<p>Para enviar todas as alterações que estão no ramo Git atual, mas não no ramo <em>p4/master</em>, utilize:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ git p4 submit</pre>
</div>
</div>
<div class="paragraph">
<p>Para definir um ramo diferente do atual, utilize:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ git p4 submit topicbranch</pre>
</div>
</div>
<div class="paragraph">
<p>Para definir um único commit ou um intervalo de commits, utilize:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ git p4 submit --commit &lt;sha1&gt;
$ git p4 submit --commit &lt;sha1..sha1&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>A referência upstream geralmente é <em>refs/remotes/p4/master</em>, mas pode ser substituída utilizando a opção da linha de comando <code>--origin=</code>.</p>
</div>
<div class="paragraph">
<p>As alterações p4 serão criadas assim que o usuário invocar o comando <em>git p4 submit</em>. A opção <code>--preserve-user</code> fará com que a propriedade seja modificada de acordo com o autor do commit. Essa opção requer privilégios de administrador no p4, que podem ser concedidos usando <em>p4 protect</em>.</p>
</div>
<div class="paragraph">
<p>Para arquivar as alterações em vez de enviá-las, utilize <code>--shelve</code> e <code>--update-shelve</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ git p4 submit --shelve
$ git p4 submit --update-shelve 1234 --update-shelve 2345</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_unshelve"><a class="anchor" href="#_unshelve"></a>Unshelve</h3>
<div class="paragraph">
<p>O desarquivamento pega uma lista de alterações P4 arquivada e produz o commit equivalente com o git no ramo refs/remotes/p4-unshelved/&lt;changelist&gt;.</p>
</div>
<div class="paragraph">
<p>O commit do git é criado em relação à revisão de origem atual (a predefinição é <code>HEAD</code>). Um commit principal é criado com base na origem e, em seguida, o commit armazenado é criado com base nele.</p>
</div>
<div class="paragraph">
<p>A revisão da origem pode ser alterada com a opção "--origin".</p>
</div>
<div class="paragraph">
<p>Se o ramo de destino em <code>refs/remotes/p4-unshelved</code> já existir, o antigo será renomeado.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ git p4 sync
$ git p4 unshelve 12345
$ git show p4-unshelved/12345
&lt;encaminha mais alterações através do p4 para os mesmos arquivos&gt;
$ git p4 unshelve 12345
&lt;se recusa a fazer o desarquivamento a menos que o git esteja em sincronia com o p4 novamente&gt;</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_opções"><a class="anchor" href="#_opções"></a>OPÇÕES</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_opções_gerais"><a class="anchor" href="#_opções_gerais"></a>Opções gerais</h3>
<div class="paragraph">
<p>Todos os comandos, exceto o clone, aceitam estas opções.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1" id="git-p4---git-dirltdirgt"> <a class="anchor" href="#git-p4---git-dirltdirgt"></a>--git-dir &lt;dir&gt; </dt>
<dd>
<p>Defina a variável de ambiente <code>GIT_DIR</code>. Consulte <a href='{{< relurl "docs/git/pt_BR" >}}'>git[1]</a>.</p>
</dd>
<dt class="hdlist1" id="git-p4--v"> <a class="anchor" href="#git-p4--v"></a>-v </dt>
<dt class="hdlist1" id="git-p4---verbose"> <a class="anchor" href="#git-p4---verbose"></a>--verbose </dt>
<dd>
<p>Forneça mais informações sobre o progresso.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_opções_de_sincronização"><a class="anchor" href="#_opções_de_sincronização"></a>Opções de sincronização</h3>
<div class="paragraph">
<p>Estas opções podem ser utilizadas no <em>clone</em> inicial, bem como nas operações subsequentes de <em>sincronização</em>.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1" id="git-p4---branchltrefgt"> <a class="anchor" href="#git-p4---branchltrefgt"></a>--branch &lt;ref&gt; </dt>
<dd>
<p>Importar as alterações para <code>&lt;ref&gt;</code> em vez de <em>refs/remotes/p4/master</em>. Se <code>&lt;ref&gt;</code> começar com <em>refs/</em>, ele será usado como está. Caso contrário, se não começar com <em>p4/</em>, esse prefixo será adicionado.</p>
<div class="paragraph">
<p>Por padrão, uma <code>&lt;ref&gt;</code> que não comece com <em>refs/</em> é tratada como o nome de uma ramificação de rastreamento remoto (em <em>refs/remotes/</em>). Esse comportamento pode ser alterado usando a opção <code>--import-local</code>.</p>
</div>
<div class="paragraph">
<p>A predefinição do &lt;ref&gt; é "master".</p>
</div>
<div class="paragraph">
<p>Este exemplo importa um novo "p4/proj2" remoto para um repositório Git já existente:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>    $ git init
    $ git p4 sync --branch=refs/remotes/p4/proj2 //depot/proj2</pre>
</div>
</div>
</dd>
<dt class="hdlist1" id="git-p4---detect-branches"> <a class="anchor" href="#git-p4---detect-branches"></a>--detect-branches </dt>
<dd>
<p>Use o algoritmo de detecção de ramificação para encontrar novos caminhos em p4. Ele está documentado abaixo em "DETECÇÃO DO RAMO".</p>
</dd>
<dt class="hdlist1" id="git-p4---changesfileltarquivogt"> <a class="anchor" href="#git-p4---changesfileltarquivogt"></a>--changesfile &lt;arquivo&gt; </dt>
<dd>
<p>Importe exatamente os números de alteração do p4 listados em <em>file</em>, um por linha. Normalmente, o <em>git p4</em> inspeciona o estado atual do repositório p4 e detecta as alterações que deve importar.</p>
</dd>
<dt class="hdlist1" id="git-p4---silent"> <a class="anchor" href="#git-p4---silent"></a>--silent </dt>
<dd>
<p>Não exiba nenhuma informação do progresso.</p>
</dd>
<dt class="hdlist1" id="git-p4---detect-labels"> <a class="anchor" href="#git-p4---detect-labels"></a>--detect-labels </dt>
<dd>
<p>Consulte a página <em>p4</em> para os rótulos associados aos caminhos do depósito e adicione-os como tags no Git. Utilidade limitada, pois importa apenas as etiquetas associadas a novas listas de alterações. Descontinuada.</p>
</dd>
<dt class="hdlist1" id="git-p4---import-labels"> <a class="anchor" href="#git-p4---import-labels"></a>--import-labels </dt>
<dd>
<p>Importe os rótulos do <em>p4</em> para o Git.</p>
</dd>
<dt class="hdlist1" id="git-p4---import-local"> <a class="anchor" href="#git-p4---import-local"></a>--import-local </dt>
<dd>
<p>É predefinido que as ramificações p4 sejam armazenadas em <em>refs/remotes/p4/</em>, onde serão tratadas como ramificações de rastreamento remoto pelo <a href='{{< relurl "docs/git-branch/pt_BR" >}}'>git-branch[1]</a> e outros comandos. Em vez disso, essa opção coloca as ramificações p4 em <em>refs/heads/p4/</em>. Observe que as futuras operações de sincronização também devem especificar a opção <code>--import-local</code> para que possam encontrar as ramificações do p4 em <em>refs/heads</em>.</p>
</dd>
<dt class="hdlist1" id="git-p4---max-changesltngt"> <a class="anchor" href="#git-p4---max-changesltngt"></a>--max-changes &lt;n&gt; </dt>
<dd>
<p>Importe no máximo <em>n</em> alterações, em vez de todo o intervalo de alterações incluído no especificador da revisão informado. Um uso comum seria utilizar <em>@all</em> como especificador da revisão, porém depois utilizar a opção <em>--max-changes 1000</em> para importar apenas as últimas 1000 revisões, em vez de todo o histórico.</p>
</dd>
<dt class="hdlist1" id="git-p4---changes-block-sizeltngt"> <a class="anchor" href="#git-p4---changes-block-sizeltngt"></a>--changes-block-size &lt;n&gt; </dt>
<dd>
<p>O tamanho do bloco interno que será utilizado ao converter um especificador da revisão como <em>@all</em> numa lista com a quantidade específica de alteração. Em vez de utilizar uma única chamada para <em>p4 changes</em> visando encontrar a lista completa das alterações para a conversão, há uma sequência de chamadas para <em>p4 changes -m</em>, cada uma das quais solicita um bloco de alterações com um tamanho definido. O tamanho padrão do bloco é 500, o que geralmente deve ser o suficiente.</p>
</dd>
<dt class="hdlist1" id="git-p4---keep-path"> <a class="anchor" href="#git-p4---keep-path"></a>--keep-path </dt>
<dd>
<p>É predefinido que o mapeamento dos nomes dos arquivos do caminho do depósito p4 para o Git, envolve a remoção de todo o caminho do depósito. Com esta opção, o caminho completo do depósito p4 é mantido no Git. Por exemplo, o caminho <em>//depot/main/foo/bar.c</em>, quando for importado de <em>//depot/main/</em>, torna-se <em>foo/bar.c</em>. Com a opção <code>--keep-path</code>, o caminho do Git se torna, <em>depot/main/foo/bar.c</em>.</p>
</dd>
<dt class="hdlist1" id="git-p4---use-client-spec"> <a class="anchor" href="#git-p4---use-client-spec"></a>--use-client-spec </dt>
<dd>
<p>Use uma especificação de cliente para encontrar a lista de arquivos interessantes no p4. Consulte a seção "ESPECIFICAÇÃO DO CLIENTE" abaixo.</p>
</dd>
<dt class="hdlist1" id="git-p4--ltcaminhogt"> <a class="anchor" href="#git-p4--ltcaminhogt"></a>-/ &lt;caminho&gt; </dt>
<dd>
<p>Exclua os caminhos selecionados do depósito durante a clonagem ou sincronização.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_opções_de_clonagem"><a class="anchor" href="#_opções_de_clonagem"></a>Opções de clonagem</h3>
<div class="paragraph">
<p>Estas opções podem ser utilizadas num <em>clone</em> inicial, juntamente com as opções de <em>sincronização</em> descritas acima.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1" id="git-p4---destinationltdiretriogt"> <a class="anchor" href="#git-p4---destinationltdiretriogt"></a>--destination &lt;diretório&gt; </dt>
<dd>
<p>Onde criar o repositório Git. Se não for informado, o último componente no caminho do depósito do p4 será usado para criar um novo diretório.</p>
</dd>
<dt class="hdlist1" id="git-p4---bare"> <a class="anchor" href="#git-p4---bare"></a>--bare </dt>
<dd>
<p>Fazendo uma clonagem simples. Consulte <a href='{{< relurl "docs/git-clone/pt_BR" >}}'>git-clone[1]</a>.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_opções_de_envio"><a class="anchor" href="#_opções_de_envio"></a>Opções de envio</h3>
<div class="paragraph">
<p>Estas opções podem ser utilizadas para modificar o comportamento do <em>git p4 submit</em>.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1" id="git-p4---originltcommitgt"> <a class="anchor" href="#git-p4---originltcommitgt"></a>--origin &lt;commit&gt; </dt>
<dd>
<p>O local upstream a partir de onde os commits são identificados para envio ao p4. É predefinido que este é o commit p4 mais recente acessível a partir do <code>HEAD</code>.</p>
</dd>
<dt class="hdlist1" id="git-p4--M"> <a class="anchor" href="#git-p4--M"></a>-M </dt>
<dd>
<p>Detecte as renomeações. Consulte o comando <a href='{{< relurl "docs/git-diff/pt_BR" >}}'>git-diff[1]</a>. Os renomeamentos serão representados no p4 usando operações explícitas de "mover". Não há opção correspondente para detectar cópias, mas há variáveis para movimentos e para cópias.</p>
</dd>
<dt class="hdlist1" id="git-p4---preserve-user"> <a class="anchor" href="#git-p4---preserve-user"></a>--preserve-user </dt>
<dd>
<p>Reautorize as alterações do p4 antes de enviá-las ao p4. Essa opção requer privilégios de administrador do p4.</p>
</dd>
<dt class="hdlist1" id="git-p4---export-labels"> <a class="anchor" href="#git-p4---export-labels"></a>--export-labels </dt>
<dd>
<p>Exporte as tags do Git como etiquetas <em>p4</em>. As tags encontradas no Git são aplicadas ao diretório de trabalho do <em>perforce</em>.</p>
</dd>
<dt class="hdlist1" id="git-p4--n"> <a class="anchor" href="#git-p4--n"></a>-n </dt>
<dt class="hdlist1" id="git-p4---dry-run"> <a class="anchor" href="#git-p4---dry-run"></a>--dry-run </dt>
<dd>
<p>Mostre apenas quais os commits seriam enviados ao <em>p4</em>; não mude de condição no Git ou no <em>p4</em>.</p>
</dd>
<dt class="hdlist1" id="git-p4---prepare-p4-only"> <a class="anchor" href="#git-p4---prepare-p4-only"></a>--prepare-p4-only </dt>
<dd>
<p>Aplique um commit ao espaço de trabalho do p4, abrindo, adicionando e excluindo arquivos no p4 como numa operação normal de envio. Não emita o "p4 submit" final, mas imprima uma mensagem sobre como enviar manualmente ou de como reverter. Esta opção sempre é interrompida após o primeiro commit (mais antigo). As etiquetas Git não são exportadas para o p4.</p>
</dd>
<dt class="hdlist1" id="git-p4---shelve"> <a class="anchor" href="#git-p4---shelve"></a>--shelve </dt>
<dd>
<p>Em vez de enviar, crie o armazenamento de uma série de listas de alterações. Após criar cada espaço de armazenamento, os arquivos relevantes são revertidos/excluídos. Se você tiver vários commits pendentes, serão criados vários espaços de armazenamento.</p>
</dd>
<dt class="hdlist1" id="git-p4---update-shelveCHANGELIST"> <a class="anchor" href="#git-p4---update-shelveCHANGELIST"></a>--update-shelve CHANGELIST </dt>
<dd>
<p>Atualize uma lista de alterações existentes que foram arquivadas com este commit. Implica no uso da opção <code>--shelve</code>. Repita o procedimento para as várias listas de alterações que foram arquivadas.</p>
</dd>
<dt class="hdlist1" id="git-p4---conflictaskskipquit"> <a class="anchor" href="#git-p4---conflictaskskipquit"></a>--conflict=(ask|skip|quit) </dt>
<dd>
<p>Podem ocorrer conflitos ao aplicar um commit ao p4. Quando isso acontece, o comportamento predefinido ("ask") é lhe perguntar se você quer pular este commit e continuar ou encerrar. Essa opção pode ser usada para ignorar o aviso, fazendo com que os commits conflitantes sejam automaticamente ignorados, ou para parar de tentar aplicar os commits, sem aviso.</p>
</dd>
<dt class="hdlist1" id="git-p4---branchltramogt"> <a class="anchor" href="#git-p4---branchltramogt"></a>--branch &lt;ramo&gt; </dt>
<dd>
<p>Após o envio, sincronize este ramo nomeado em vez do <em>p4/master</em> predefinido. Para mais informações consulte a seção "Opções de sincronização" acima.</p>
</dd>
<dt class="hdlist1" id="git-p4---commitltsha1gtltsha1gtltsha1gt"> <a class="anchor" href="#git-p4---commitltsha1gtltsha1gtltsha1gt"></a>--commit (&lt;sha1&gt;|&lt;sha1&gt;..&lt;sha1&gt;) </dt>
<dd>
<p>Envie apenas o commit ou o intervalo dos commits informados, em vez da lista completa de alterações que estão no ramo Git atual.</p>
</dd>
<dt class="hdlist1" id="git-p4---disable-rebase"> <a class="anchor" href="#git-p4---disable-rebase"></a>--disable-rebase </dt>
<dd>
<p>Desative a nova reconstrução automática depois que todos os commits forem enviados com êxito. Também pode ser definido com git-p4.disableRebase.</p>
</dd>
<dt class="hdlist1" id="git-p4---disable-p4sync"> <a class="anchor" href="#git-p4---disable-p4sync"></a>--disable-p4sync </dt>
<dd>
<p>Desative a sincronização automática do <em>p4/master</em> do "Perforce" depois que os commits tenham sido enviados. Implica no uso da opção <code>--disable-rebase</code>. Também pode ser definido com git-p4.disableP4Sync. A sincronização com <em>origin/master</em> se for possível ainda continua.</p>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ganchos_para_envio"><a class="anchor" href="#_ganchos_para_envio"></a>Ganchos para envio</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_p4_pre_submit"><a class="anchor" href="#_p4_pre_submit"></a>p4-pre-submit</h3>
<div class="paragraph">
<p>O gancho <code>p4-pre-submit</code> é executado se existir e for executável. O gancho não recebe parâmetros e nada da entrada predefinida. Ao encerrar com uma condição de encerramento diferente de zero desse script impede que o comando <code>git-p4 submit</code> seja iniciado. Ele pode ser ignorado com a opção de linha de comando <code>--no-verify</code>.</p>
</div>
<div class="paragraph">
<p>Um cenário para a sua utilização é executar os testes da unidade no gancho.</p>
</div>
</div>
<div class="sect2">
<h3 id="_p4_prepare_changelist"><a class="anchor" href="#_p4_prepare_changelist"></a>p4-prepare-changelist</h3>
<div class="paragraph">
<p>O gancho <code>p4-prepare-changelist</code> é executado logo após a preparação da mensagem predefinida da lista de alterações e antes do editor ser iniciado. Ele recebe um parâmetro, o nome do arquivo que contém o texto da lista de alterações. Ao encerrar o script com um status diferente de zero fará com que o processo seja encerrado.</p>
</div>
<div class="paragraph">
<p>O objetivo do gancho é editar o arquivo de mensagem no local, não sendo suprimido pela opção <code>--no-verify</code>. Este gancho é chamado mesmo se a opção <code>--prepare-p4-only</code> estivesse definida.</p>
</div>
</div>
<div class="sect2">
<h3 id="_p4_changelist"><a class="anchor" href="#_p4_changelist"></a>p4-changelist</h3>
<div class="paragraph">
<p>O gancho <code>p4-changelist</code> é executado depois que mensagem da lista de alterações tenha sido editada pelo usuário. Pode ser ignorado com a opção <code>--no-verify</code>. É necessário um único parâmetro, o nome do arquivo que contenha o texto da lista das alterações propostas. Encerre com uma condição diferente de zero, faz com que o comando seja cancelado.</p>
</div>
<div class="paragraph">
<p>O gancho tem permissão para editar o arquivo da lista de alterações e pode ser utilizado para normalizar o texto em algum formato predefinido pelo projeto. Também pode ser utilizado para recusar o envio após a inspeção da mensagem do arquivo.</p>
</div>
</div>
<div class="sect2">
<h3 id="_p4_post_changelist"><a class="anchor" href="#_p4_post_changelist"></a>p4-post-changelist</h3>
<div class="paragraph">
<p>O gancho <code>p4-post-changelist</code> é executado depois que o envio tenha ocorrido com êxito no P4. Não precisa de quaisquer parâmetros e serve primeiramente para notificações e pode não afetar o resultado da ação do comando <em>git p4 submit</em>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_opções_para_a_reconstrução_da_fundação"><a class="anchor" href="#_opções_para_a_reconstrução_da_fundação"></a>Opções para a reconstrução da fundação</h3>
<div class="paragraph">
<p>Essas opções podem ser utilizadas para modificar o comportamento do <em>git p4 rebase</em>.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1" id="git-p4---import-labels-1"> <a class="anchor" href="#git-p4---import-labels-1"></a>--import-labels </dt>
<dd>
<p>Importe as etiquetas p4.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_desfazer_as_opções"><a class="anchor" href="#_desfazer_as_opções"></a>Desfazer as opções</h3>
<div class="dlist">
<dl>
<dt class="hdlist1" id="git-p4---origin"> <a class="anchor" href="#git-p4---origin"></a>--origin </dt>
<dd>
<p>Define o <em>git refspec</em> onde a lista de alterações P4 arquivada é comparada. A predefinição é <em>p4/master</em>.</p>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_sintaxe_do_caminho_do_depósito"><a class="anchor" href="#_sintaxe_do_caminho_do_depósito"></a>SINTAXE DO CAMINHO DO DEPÓSITO</h2>
<div class="sectionbody">
<div class="paragraph">
<p>O argumento do caminho do depósito p4 para o comando <em>git p4 sync</em> e o <em>git p4 clone</em> pode ser um ou mais caminhos para o depósito p4 separados com espaço, com um especificador opcional da revisão p4 no final:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1" id="git-p4-depotmyproject"> <a class="anchor" href="#git-p4-depotmyproject"></a>"//depot/my/project" </dt>
<dd>
<p>Importe um commit com todos os arquivos na alteração <em>#head</em> sob essa árvore.</p>
</dd>
<dt class="hdlist1" id="git-p4-depotmyprojectall"> <a class="anchor" href="#git-p4-depotmyprojectall"></a>"//depot/my/project@all" </dt>
<dd>
<p>Importe um commit para cada alteração no histórico desse caminho do depósito.</p>
</dd>
<dt class="hdlist1" id="git-p4-depotmyproject16"> <a class="anchor" href="#git-p4-depotmyproject16"></a>"//depot/my/project@1,6" </dt>
<dd>
<p>Importe apenas as alterações entre <em>1</em> a <em>6</em>.</p>
</dd>
<dt class="hdlist1" id="git-p4-depotproj1alldepotproj2all"> <a class="anchor" href="#git-p4-depotproj1alldepotproj2all"></a>"//depot/proj1@all //depot/proj2@all" </dt>
<dd>
<p>Importe todas as alterações de ambos os caminhos de depósito nomeados num único repositório. Somente os arquivos abaixo desses diretórios são incluídos. Não há um subdiretório no Git para cada "proj1" e "proj2". Você deve usar a opção <code>--destination</code> ao especificar mais de um caminho para o depósito. A opção da revisão deve ser informado de forma idêntica em cada caminho para o depósito. Se houver arquivos nos caminhos do depósito com o mesmo nome, o caminho com a versão atualizada mais recente do arquivo é o que aparece no Git.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Consulte <em>revisões de ajuda p4</em> para obter a sintaxe completa dos especificadores da revisão p4.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_especificação_do_cliente"><a class="anchor" href="#_especificação_do_cliente"></a>ESPECIFICAÇÃO DO CLIENTE</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A especificação do cliente p4 é mantida com o comando <em>p4 client</em> e contém, entre outros campos, uma visualização que especifica como o depósito é mapeado no repositório do cliente. Os comandos <em>clone</em> e <em>sync</em> podem consultar a especificação do cliente quando a opção <code>--use-client-spec</code> é usada ou quando a variável <em>useClientSpec</em> é verdadeira. Após o <em>git p4 clone</em>, a variável <em>useClientSpec</em> é definida automaticamente no arquivo de configuração do repositório. Isso permite que os futuros comandos <em>git p4 submit</em> funcionem corretamente; o comando <em>submit</em> olha apenas para a variável e não tem uma opção de linha de comando.</p>
</div>
<div class="paragraph">
<p>A sintaxe completa de uma visualização p4 está documentada em <em>p4 help views</em>. O comando <em>git p4</em> conhece apenas um subconjunto da sintaxe da visualização. Ele entende mapeamentos de várias linhas, sobreposições com <em>+</em>, exclusões com <em>-</em> e aspas duplas ao redor de espaços em branco. Dos curingas possíveis, o comando <em>git p4</em> só lida com <em>&#8230;&#8203;</em>, e somente quando ele está no final do caminho. O comando <em>git p4</em> reclamará ao se deparar com um curinga não manipulado.</p>
</div>
<div class="paragraph">
<p>Existem bugs na implementação dos mapeamentos da sobreposição. Se vários caminhos de depósito forem mapeados por meio de sobreposições para o mesmo local no repositório, o comando <em>git p4</em> poderá escolher o caminho errado. Isso é difícil de resolver sem dedicar uma especificação de cliente apenas para o <em>git p4</em>.</p>
</div>
<div class="paragraph">
<p>O nome do cliente pode ser fornecido ao <em>git p4</em> de várias maneiras. A variável <em>git-p4.client</em> tem precedência caso ele exista. Caso contrário, serão usados os mecanismos normais do p4 para determinar o cliente: a variável de ambiente <code>P4CLIENT</code>, um arquivo referenciado por <code>P4CONFIG</code> ou o nome do host local.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_detecção_do_ramo"><a class="anchor" href="#_detecção_do_ramo"></a>DETECÇÃO DO RAMO</h2>
<div class="sectionbody">
<div class="paragraph">
<p>O P4 não tem o mesmo conceito de ramificação que o Git. Em vez disso, o p4 organiza seu conteúdo como uma árvore de diretórios, onde, por convenção, diferentes ramificações lógicas estão em diferentes locais da árvore. O comando <em>p4 branch</em> é usado para manter mapeamentos entre diferentes áreas da árvore e indicar o conteúdo relacionado. O comando <em>git p4</em> pode usar esses mapeamentos para determinar as relações de ramificação.</p>
</div>
<div class="paragraph">
<p>Caso você possua um repositório onde todas as ramificações de interesse existam como subdiretórios de um único caminho do depósito, é possível utilizar o comando <code>--detect-branches</code> durante a clonagem ou sincronização para que o comando <em>git p4</em> encontre automaticamente os subdiretórios p4 e gere-os como os ramos no Git.</p>
</div>
<div class="paragraph">
<p>Por exemplo, se a estrutura do repositório P4 for:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>//depot/main/...
//depot/branch1/...</pre>
</div>
</div>
<div class="paragraph">
<p>E "p4 branch -o branch1" mostra uma linha View que se parece com:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>//depot/main/... //depot/branch1/...</pre>
</div>
</div>
<div class="paragraph">
<p>Então este comando <em>git p4 clone</em>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>git p4 clone --detect-branches //depot@all</pre>
</div>
</div>
<div class="paragraph">
<p>produz uma ramificação separada em <em>refs/remotes/p4/</em> para <em>//depot/main</em>, chamado <em>master</em>, e uma para <em>//depot/branch1</em> chamada <em>depot/branch1</em>.</p>
</div>
<div class="paragraph">
<p>No entanto, não é necessário criar ramificações no p4 para poder usá-las como ramificações. Como é difícil inferir nas relações da ramificação automaticamente, uma definição de configuração <em>git-p4.branchList</em> do Git pode ser usada para identificar explicitamente as relações da ramificação. É uma lista de pares "source:destination", como uma especificação simples de ramificação p4, onde "source" e "destination" são os elementos de caminho no repositório p4. O exemplo acima se baseou na presença da ramificação p4. Sem as ramificações p4, o mesmo resultado ocorrerá com:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>git init depot
cd depot
git config git-p4.branchList main:branch1
git p4 clone --detect-branches //depot@all .</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_desempenho"><a class="anchor" href="#_desempenho"></a>DESEMPENHO</h2>
<div class="sectionbody">
<div class="paragraph">
<p>O mecanismo de importação rápida usado pelo <em>git p4</em> cria um arquivo de pacote para cada invocação do "git p4 sync". Normalmente, a compactação de lixo do Git (<a href='{{< relurl "docs/git-gc/pt_BR" >}}'>git-gc[1]</a>) compacta automaticamente estes arquivos em menos arquivos do pacote, mas a invocação explícita de <em>git repack -adf</em> pode melhorar o desempenho.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_variáveis_de_configuração"><a class="anchor" href="#_variáveis_de_configuração"></a>VARIÁVEIS DE CONFIGURAÇÃO</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As seguintes definições de configuração podem ser usadas para alterar o comportamento do comando <em>git p4</em>. Todos eles estão na seção <em>git-p4</em>.</p>
</div>
<div class="sect2">
<h3 id="_variáveis_gerais"><a class="anchor" href="#_variáveis_gerais"></a>Variáveis gerais</h3>
<div class="dlist">
<dl>
<dt class="hdlist1" id="git-p4-git-p4user"> <a class="anchor" href="#git-p4-git-p4user"></a>git-p4.user </dt>
<dd>
<p>Usuário especificado como uma opção para todos os comandos p4, com <em>-u &lt;usuário&gt;</em>. Em vez disso, pode ser usada a variável de ambiente <code>P4USER</code>.</p>
</dd>
<dt class="hdlist1" id="git-p4-git-p4password"> <a class="anchor" href="#git-p4-git-p4password"></a>git-p4.password </dt>
<dd>
<p>A senha especificada como uma opção para todos os comandos p4, com <em>-P &lt;senha&gt;</em>. Em vez disso, pode ser usada a variável de ambiente <code>P4PASS</code>.</p>
</dd>
<dt class="hdlist1" id="git-p4-git-p4port"> <a class="anchor" href="#git-p4-git-p4port"></a>git-p4.port </dt>
<dd>
<p>Porta especificada como uma opção para todos os comandos p4, com <em>-p &lt;porta&gt;</em>. Em vez disso, pode ser usada a variável de ambiente <code>P4PORT</code>.</p>
</dd>
<dt class="hdlist1" id="git-p4-git-p4host"> <a class="anchor" href="#git-p4-git-p4host"></a>git-p4.host </dt>
<dd>
<p>O host é especificado como uma opção para todos os comandos p4, com <em>-h &lt;host&gt;</em>. Em vez disso, pode ser usada a variável de ambiente <code>P4HOST</code>.</p>
</dd>
<dt class="hdlist1" id="git-p4-git-p4client"> <a class="anchor" href="#git-p4-git-p4client"></a>git-p4.client </dt>
<dd>
<p>Específico do cliente como uma opção para todos os comandos p4, com <em>-c &lt;cliente&gt;</em>, incluindo a definição do cliente.</p>
</dd>
<dt class="hdlist1" id="git-p4-git-p4retries"> <a class="anchor" href="#git-p4-git-p4retries"></a>git-p4.retries </dt>
<dd>
<p>Especifica o número de vezes para tentar novamente um comando p4 (notadamente, <em>p4 sync</em>) se a rede atingir o tempo limite. O valor predefinido é 3. Defina o valor como 0 para desativar as tentativas ou se a sua versão do p4 não for compatível com tentativas (anterior a 2012.2).</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_variáveis_de_clonagem_e_sincronização"><a class="anchor" href="#_variáveis_de_clonagem_e_sincronização"></a>Variáveis de clonagem e sincronização</h3>
<div class="dlist">
<dl>
<dt class="hdlist1" id="git-p4-git-p4syncFromOrigin"> <a class="anchor" href="#git-p4-git-p4syncFromOrigin"></a>git-p4.syncFromOrigin </dt>
<dd>
<p>Como a importação dos commits de outros repositórios Git é muito mais rápido do que a importação do p4, existe um mecanismo para encontrar as alterações do p4 primeiro nos repositórios remotos do Git. Se houver ramificações em <em>refs/remote/origin/p4</em>, elas serão obtidas e usadas ao sincronizar a partir do p4. Essa variável pode ser definida como <em>false</em> para desativar este comportamento.</p>
</dd>
<dt class="hdlist1" id="git-p4-git-p4branchUser"> <a class="anchor" href="#git-p4-git-p4branchUser"></a>git-p4.branchUser </dt>
<dd>
<p>Uma fase da detecção de ramificação envolve a análise das ramificações do p4 para encontrar as novas ramificações que serão importadas. É predefinido que todas as ramificações sejam inspecionadas. Esta opção limita a pesquisa apenas àqueles pertencentes ao único usuário nomeado na variável.</p>
</dd>
<dt class="hdlist1" id="git-p4-git-p4branchList"> <a class="anchor" href="#git-p4-git-p4branchList"></a>git-p4.branchList </dt>
<dd>
<p>Lista das ramificações a serem importadas quando a detecção das ramificações estiver ativada. Cada entrada deve ser um par de nomes das ramificações separados por dois-pontos (:). Este exemplo declara que tanto o <em>branchA</em> quanto o <em>branchB</em> foram criados a partir de main:</p>
<div class="listingblock">
<div class="content">
<pre>git config       git-p4.branchList main:branchA
git config --add git-p4.branchList main:branchB</pre>
</div>
</div>
</dd>
<dt class="hdlist1" id="git-p4-git-p4ignoredP4Labels"> <a class="anchor" href="#git-p4-git-p4ignoredP4Labels"></a>git-p4.ignoredP4Labels </dt>
<dd>
<p>Lista das etiquetas p4 que serão ignoradas. Isso é criado automaticamente à medida que etiquetas não importantes forem descobertas.</p>
</dd>
<dt class="hdlist1" id="git-p4-git-p4importLabels"> <a class="anchor" href="#git-p4-git-p4importLabels"></a>git-p4.importLabels </dt>
<dd>
<p>Importe os rótulos p4 para o git, conforme --import-labels.</p>
</dd>
<dt class="hdlist1" id="git-p4-git-p4labelImportRegexp"> <a class="anchor" href="#git-p4-git-p4labelImportRegexp"></a>git-p4.labelImportRegexp </dt>
<dd>
<p>Apenas os rótulos <em>p4</em> coincidentes com esta expressão regular serão importados. O valor predefinido é <em>[a-zA-Z0-9_\-.]+$</em>.</p>
</dd>
<dt class="hdlist1" id="git-p4-git-p4useClientSpec"> <a class="anchor" href="#git-p4-git-p4useClientSpec"></a>git-p4.useClientSpec </dt>
<dd>
<p>Especifique que a especificação do cliente p4 deve ser usada para identificar os caminhos do depósito p4 de interesse. Isso é equivalente a usar a opção <code>--use-client-spec</code>. Consulte a seção "ESPECIFICAÇÃO DO CLIENTE" acima. Esta variável é um booleano, não o nome de um cliente p4.</p>
</dd>
<dt class="hdlist1" id="git-p4-git-p4pathEncoding"> <a class="anchor" href="#git-p4-git-p4pathEncoding"></a>git-p4.pathEncoding </dt>
<dd>
<p>O "Perforce" mantém a codificação de um caminho conforme fornecido pelo sistema operacional de origem. O Git espera que os caminhos estejam codificados como UTF-8. Use esta configuração para informar ao git-p4 qual codificação o "Perforce" usou nos caminhos. Esta codificação é usada para transcodificar os caminhos para UTF-8. Por exemplo, o "Perforce" no Windows geralmente usa "cp1252" para codificar os nomes dos caminhos. Se esta opção for passada numa solicitação de clone p4, ela será mantida no novo repositório git resultante.</p>
</dd>
<dt class="hdlist1" id="git-p4-git-p4metadataDecodingStrategy"> <a class="anchor" href="#git-p4-git-p4metadataDecodingStrategy"></a>git-p4.metadataDecodingStrategy </dt>
<dd>
<p>O "Perforce" mantém a codificação das descrições de uma lista de alterações e dos nomes completos dos usuários, conforme vão sendo armazenados pelo cliente num determinado sistema operacional. O cliente p4v usa a codificação local do sistema operacional e, portanto, diferentes usuários podem acabar armazenando diferentes descrições de listas de alterações ou nomes completos de usuários em diferentes codificações, no mesmo depósito. O Git tolera codificações inconsistentes/incorretas nas mensagens de commit e nos nomes dos autores, mas espera que elas sejam especificadas como utf-8. O git-p4 pode usar três estratégias de decodificação diferentes para lidar com a incerteza de codificação no "Perforce": "passthrough" simplesmente passa os bytes originais do "Perforce" para o git, criando dados utilizáveis, mas incorretamente codificados, quando os dados do "Perforce" são codificados como algo diferente de utf-8. O <em>strict</em> espera que os dados do "Perforce" sejam codificados como utf-8 e falha na importação quando isso não é verdade. O <em>fallback</em> tenta interpretar os dados como utf-8 e, caso contrário, volta a usar uma codificação secundária - é predefinido que a codificação comum do Windows <em>cp-1252</em> - com escape de bytes de faixa superior se a decodificação com a codificação de contingência também falhar. No python2, a estratégia padrão é <em>passthrough</em> por motivos históricos, e no python3 a predefinição é <em>fallback</em>. Quando <em>strict</em> for selecionado e a decodificação falhar, a mensagem de erro indicará a alteração desse parâmetro de configuração como uma solução alternativa. Se esta opção for usada numa solicitação de clone p4, ela será mantida no novo repositório git resultante.</p>
</dd>
<dt class="hdlist1" id="git-p4-git-p4metadataFallbackEncoding"> <a class="anchor" href="#git-p4-git-p4metadataFallbackEncoding"></a>git-p4.metadataFallbackEncoding </dt>
<dd>
<p>Especifique a codificação substituta que será utilizada ao decodificar os nomes dos autores e das descrições de listas das alterações do Perforce usando a estratégia <em>fallback</em> (consulte git-p4.metadataDecodingStrategy). A codificação substituta só será usada quando a decodificação como utf-8 falhar. Essa opção é padronizada para cp1252, uma codificação comum do Windows. Se esta opção for passada para uma solicitação de clonagem p4, ela será mantida no novo repositório git resultante.</p>
</dd>
<dt class="hdlist1" id="git-p4-git-p4largeFileSystem"> <a class="anchor" href="#git-p4-git-p4largeFileSystem"></a>git-p4.largeFileSystem </dt>
<dd>
<p>Especifique o sistema que é usado para arquivos grandes (binários). Observe que os sistemas de arquivos grandes não são compatíveis com o comando <em>git p4 submit</em>. Apenas o Git LFS está implementado no momento (para mais informações consulte <a href="https://git-lfs.github.com/" class="bare">https://git-lfs.github.com/</a>). Baixe e instale a extensão de linha de comando do Git LFS para usar essa opção e configure-a da seguinte maneira:</p>
<div class="listingblock">
<div class="content">
<pre>git config       git-p4.largeFileSystem GitLFS</pre>
</div>
</div>
</dd>
<dt class="hdlist1" id="git-p4-git-p4largeFileExtensions"> <a class="anchor" href="#git-p4-git-p4largeFileExtensions"></a>git-p4.largeFileExtensions </dt>
<dd>
<p>Todos os arquivos que coincidam com uma extensão do arquivo na lista serão processados pelo grande sistema de arquivos. Não prefixe as extensões com <em>.</em>.</p>
</dd>
<dt class="hdlist1" id="git-p4-git-p4largeFileThreshold"> <a class="anchor" href="#git-p4-git-p4largeFileThreshold"></a>git-p4.largeFileThreshold </dt>
<dd>
<p>Todos os arquivos onde seu tamanho descompactado exceda o limite, os maiores arquivos serão processados pelo sistema. A predefinição retorna para que o limite seja definido em bytes. Adicione o sufixo <em>k</em>, <em>m</em> ou <em>g</em> para alterar a unidade.</p>
</dd>
<dt class="hdlist1" id="git-p4-git-p4largeFileCompressedThreshold"> <a class="anchor" href="#git-p4-git-p4largeFileCompressedThreshold"></a>git-p4.largeFileCompressedThreshold </dt>
<dd>
<p>All files with a compressed size exceeding the threshold will be processed by the large file system. This option might slow down your clone/sync process. É predefinido que o limite seja definido em bytes. Adicione o sufixo <em>k</em>, <em>m</em> ou <em>g</em> para alterar a unidade.</p>
</dd>
<dt class="hdlist1" id="git-p4-git-p4largeFilePush"> <a class="anchor" href="#git-p4-git-p4largeFilePush"></a>git-p4.largeFilePush </dt>
<dd>
<p>A variável booleana que define se arquivos grandes são automaticamente enviados para um servidor.</p>
</dd>
<dt class="hdlist1" id="git-p4-git-p4keepEmptyCommits"> <a class="anchor" href="#git-p4-git-p4keepEmptyCommits"></a>git-p4.keepEmptyCommits </dt>
<dd>
<p>Uma lista de alterações que contenha apenas com os arquivos que foram excluídos será importada como um commit vazia, caso esta opção estiver configurada como <em>true</em>.</p>
</dd>
<dt class="hdlist1" id="git-p4-git-p4mapUser"> <a class="anchor" href="#git-p4-git-p4mapUser"></a>git-p4.mapUser </dt>
<dd>
<p>Mapeie um usuário <em>P4</em> para um nome e endereço de e-mail no Git. Para criar um mapeamento, utilize uma sequência com o seguinte formato:</p>
<div class="listingblock">
<div class="content">
<pre>git config --add git-p4.mapUser "p4user = Primeiro Último &lt;mail@address.com&gt;"</pre>
</div>
</div>
<div class="paragraph">
<p>Um mapeamento substituirá quaisquer informações do usuário do <em>P4</em>. Os mapeamentos para os vários usuários <em>P4</em> podem ser definidos.</p>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_envie_as_variáveis"><a class="anchor" href="#_envie_as_variáveis"></a>Envie as variáveis</h3>
<div class="dlist">
<dl>
<dt class="hdlist1" id="git-p4-git-p4detectRenames"> <a class="anchor" href="#git-p4-git-p4detectRenames"></a>git-p4.detectRenames </dt>
<dd>
<p>Detecte as renomeações. Consulte o comando <a href='{{< relurl "docs/git-diff/pt_BR" >}}'>git-diff[1]</a>. Isso pode ser <em>true</em> (verdadeiro), <em>false</em> (falso) ou uma pontuação conforme esperado pelo comando <em>git diff -M</em>.</p>
</dd>
<dt class="hdlist1" id="git-p4-git-p4detectCopies"> <a class="anchor" href="#git-p4-git-p4detectCopies"></a>git-p4.detectCopies </dt>
<dd>
<p>Detecte as cópias. Consulte o comando <a href='{{< relurl "docs/git-diff/pt_BR" >}}'>git-diff[1]</a>. Isso pode ser <em>true</em> (verdadeiro), <em>false</em> (falso) ou uma pontuação conforme esperado pelo comando <em>git diff -C</em>.</p>
</dd>
<dt class="hdlist1" id="git-p4-git-p4detectCopiesHarder"> <a class="anchor" href="#git-p4-git-p4detectCopiesHarder"></a>git-p4.detectCopiesHarder </dt>
<dd>
<p>Detecta cópias com mais intensidade. Consulte o comando <a href='{{< relurl "docs/git-diff/pt_BR" >}}'>git-diff[1]</a>. Um booleano.</p>
</dd>
<dt class="hdlist1" id="git-p4-git-p4preserveUser"> <a class="anchor" href="#git-p4-git-p4preserveUser"></a>git-p4.preserveUser </dt>
<dd>
<p>Ao enviar, recrie as alterações do usuário para refletir o autor do Git, independentemente de quem chame o comando <em>git p4 submit</em>.</p>
</dd>
<dt class="hdlist1" id="git-p4-git-p4allowMissingP4Users"> <a class="anchor" href="#git-p4-git-p4allowMissingP4Users"></a>git-p4.allowMissingP4Users </dt>
<dd>
<p>Quando <em>preserveUser</em> for verdadeiro, o comando <em>git p4</em> normalmente é encerrado se não conseguir encontrar um autor no mapa de usuários do p4. Esta configuração envia a alteração de qualquer maneira.</p>
</dd>
<dt class="hdlist1" id="git-p4-git-p4skipSubmitEdit"> <a class="anchor" href="#git-p4-git-p4skipSubmitEdit"></a>git-p4.skipSubmitEdit </dt>
<dd>
<p>O processo de envio invoca o editor antes de cada alteração do p4 ser enviado. No entanto, se esta configuração for verdadeira, a etapa de edição será ignorada.</p>
</dd>
<dt class="hdlist1" id="git-p4-git-p4skipSubmitEditCheck"> <a class="anchor" href="#git-p4-git-p4skipSubmitEditCheck"></a>git-p4.skipSubmitEditCheck </dt>
<dd>
<p>Após editar a mensagem de alteração do p4, o <em>git p4</em> se certifica de que a descrição foi realmente alterada, observando o tempo de modificação do arquivo. Essa opção desativa este teste.</p>
</dd>
<dt class="hdlist1" id="git-p4-git-p4allowSubmit"> <a class="anchor" href="#git-p4-git-p4allowSubmit"></a>git-p4.allowSubmit </dt>
<dd>
<p>É predefinido que qualquer ramificação pode ser usado como uma fonte para uma operação <em>git p4 submit</em>. Essa variável de configuração, se definida, permite que apenas as ramificações mencionadas sejam usadas como origens de envio. Os nomes das ramificações devem ser os nomes curtos (sem <em>refs/heads/</em>) e devem ser separados por vírgulas (","), sem espaços.</p>
</dd>
<dt class="hdlist1" id="git-p4-git-p4skipUserNameCheck"> <a class="anchor" href="#git-p4-git-p4skipUserNameCheck"></a>git-p4.skipUserNameCheck </dt>
<dd>
<p>Se o usuário que estiver executando o comando <em>git p4 submit</em> não existir no mapa de usuários do p4, o <em>git p4</em> será encerrado. Esta opção pode ser usada para forçar o envio independentemente disso.</p>
</dd>
<dt class="hdlist1" id="git-p4-git-p4attemptRCSCleanup"> <a class="anchor" href="#git-p4-git-p4attemptRCSCleanup"></a>git-p4.attemptRCSCleanup </dt>
<dd>
<p>Caso seja ativado, o <em>git p4 submit</em> tentará limpar as palavras-chave do RCS ($Header$, etc). Caso contrário, eles causariam conflitos na mesclagem e impediriam que o envio prossiga. no momento, esta opção deve ser considerada experimental.</p>
</dd>
<dt class="hdlist1" id="git-p4-git-p4exportLabels"> <a class="anchor" href="#git-p4-git-p4exportLabels"></a>git-p4.exportLabels </dt>
<dd>
<p>Exporte as tags Git para os rótulos p4, conforme a opção <code>--export-labels</code>.</p>
</dd>
<dt class="hdlist1" id="git-p4-git-p4labelExportRegexp"> <a class="anchor" href="#git-p4-git-p4labelExportRegexp"></a>git-p4.labelExportRegexp </dt>
<dd>
<p>Somente rótulos p4 correspondentes a essa expressão regular serão exportados. O valor predefinido é <em>[a-zA-Z0-9_\-.]+$</em>.</p>
</dd>
<dt class="hdlist1" id="git-p4-git-p4conflict"> <a class="anchor" href="#git-p4-git-p4conflict"></a>git-p4.conflict </dt>
<dd>
<p>Especifica o comportamento de envio quando um conflito com o p4 é encontrado, conforme <code>--conflict</code>. O comportamento predefinido é <em>ask</em>.</p>
</dd>
<dt class="hdlist1" id="git-p4-git-p4disableRebase"> <a class="anchor" href="#git-p4-git-p4disableRebase"></a>git-p4.disableRebase </dt>
<dd>
<p>Não faça a reconstrução da árvore contra <em>p4/master</em> após um envio.</p>
</dd>
<dt class="hdlist1" id="git-p4-git-p4disableP4Sync"> <a class="anchor" href="#git-p4-git-p4disableP4Sync"></a>git-p4.disableP4Sync </dt>
<dd>
<p>Não sincronize o <em>p4/master</em> com o "Perforce" após o envio. Implies git-p4.disableRebase.</p>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_detalhes_da_implementação"><a class="anchor" href="#_detalhes_da_implementação"></a>DETALHES DA IMPLEMENTAÇÃO</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Os conjuntos de alterações <em>p4</em> são importados utilizando a importação rápida do Git.</p>
</li>
<li>
<p>A clonagem ou a sincronização não requer um cliente <em>p4</em>; o conteúdo do arquivo é coletado utilizando <em>p4 print</em>.</p>
</li>
<li>
<p>O envio requer um cliente p4, que não está no mesmo local que o repositório Git. As correções são aplicados, um de cada vez, a este cliente p4 e enviados a partir dele.</p>
</li>
<li>
<p>Cada commit importado pelo comando <em>git p4</em> tem uma linha no final da mensagem de registro indicando o local do depósito p4 e o número da alteração. Essa linha é usada por operações posteriores do comando <em>git p4 sync</em> para saber quais as alterações do p4 são novas.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_git"><a class="anchor" href="#_git"></a>GIT</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Parte do conjunto <a href='{{< relurl "docs/git/pt_BR" >}}'>git[1]</a></p>
</div>
</div>
</div>