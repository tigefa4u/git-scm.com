---
### DO NOT EDIT! Generated by script/update-docs.rb

category: manual
section: documentation
subsection: manual
title: Git - git-merge-tree Documentation
docname: git-merge-tree
lang: pt_BR
aliases:
- "/docs/git-merge-tree/pt_BR/index.html"
---
<div class="sect1">
<h2 id="_nome"><a class="anchor" href="#_nome"></a>NOME</h2>
<div class="sectionbody">
<div class="paragraph">
<p>git-merge-tree - Realiza a mesclagem sem tocar no índice ou na árvore de trabalho</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resumo"><a class="anchor" href="#_resumo"></a>RESUMO</h2>
<div class="sectionbody">
<div class="verseblock">
<pre class="content"><em>git merge-tree</em> [--write-tree] [&lt;opções&gt;] &lt;ramo1&gt; &lt;ramo2&gt;
<em>git merge-tree</em> [--trivial-merge] &lt;árvore-principal&gt; &lt;ramo1&gt; &lt;ramo2&gt; (descontinuado)</pre>
</div>
</div>
</div>
<div class="sect1">
<h2 id="NEWMERGE"><a class="anchor" href="#NEWMERGE"></a>DESCRIÇÃO</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Este comando tem um modo moderno <code>--write-tree</code> e um modo obsoleto <code>--trivial-merge</code>. Com exceção da seção <a href="#DEPMERGE">DESCRIÇÃO DESCONTINUADA</a> no final, o restante desta documentação descreve o modo moderno <code>--write-tree</code>.</p>
</div>
<div class="paragraph">
<p>Executa uma mesclagem, mas não faz novos commits e não lê ou grava na árvore de trabalho ou no índice.</p>
</div>
<div class="paragraph">
<p>A mesclagem que foi realizada, usará os mesmos recursos que o <a href='{{< relurl "docs/git-merge/pt_BR" >}}'>git-merge[1]</a> "real", incluindo:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>mesclagem do conteúdo com três vias dos arquivos individuais</p>
</li>
<li>
<p>renomeia a detecção</p>
</li>
<li>
<p>tratamento adequado para diretórios/arquivos com conflitos</p>
</li>
<li>
<p>consolidação recursiva do ancestral (ou seja, quando há mais de uma mesclagem da base, criando uma mesclagem virtual da base ao mesclar as bases)</p>
</li>
<li>
<p>etc.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Após a conclusão da mesclagem, um novo objeto no cume da árvore é criado. Para mais detalhes consulte SAÍDA logo abaixo.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_opções"><a class="anchor" href="#_opções"></a>OPÇÕES</h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1" id="git-merge-tree--z"> <a class="anchor" href="#git-merge-tree--z"></a>-z </dt>
<dd>
<p>Não coloque os nomes de arquivos entre aspas na seção <code>&lt;Informações de arquivos em conflito&gt;</code> e termine cada nome de arquivo com um caractere NUL em vez de nova linha. Também inicie a seção de mensagens com um caractere NUL em vez de uma nova linha. Consulte <a href="#OUTPUT">SAÍDA</a> abaixo para obter mais informações.</p>
</dd>
<dt class="hdlist1" id="git-merge-tree---name-only"> <a class="anchor" href="#git-merge-tree---name-only"></a>--name-only </dt>
<dd>
<p>Na seção de informação do arquivo em conflito, em vez de escrever uma lista de tuplas (mode, oid, stage, path) para a saída dos arquivos em conflito, apenas forneça uma lista com os nomes dos arquivos conflitantes (e não liste os nomes dos arquivos várias vezes caso eles tenham vários estágios conflitantes).</p>
</dd>
<dt class="hdlist1" id="git-merge-tree---no-messages"> <a class="anchor" href="#git-merge-tree---no-messages"></a>--[no-]messages </dt>
<dd>
<p>Escreva todas as mensagens informativas, como "Auto-merging &lt;caminho&gt;" ou os avisos de CONFLITO, no final do stdout. Se não for especificado, a predefinição é incluir estas mensagens quando houver conflitos de mesclagem e, caso contrário, omiti-las.</p>
</dd>
<dt class="hdlist1" id="git-merge-tree---allow-unrelated-histories"> <a class="anchor" href="#git-merge-tree---allow-unrelated-histories"></a>--allow-unrelated-histories </dt>
<dd>
<p>É predefinido que o <em>merge-tree</em> mostre um erro se as duas ramificações especificadas não compartilharem um histórico em comum. Esta opção pode ser usada para substituir essa verificação e fazer com que a mesclagem prossiga assim mesmo.</p>
</dd>
<dt class="hdlist1" id="git-merge-tree---merge-baselttree-ishgt"> <a class="anchor" href="#git-merge-tree---merge-baselttree-ishgt"></a>--merge-base=&lt;tree-ish&gt; </dt>
<dd>
<p>Em vez de encontrar as bases de mesclagem para &lt;ramo1&gt; e &lt;ramo2&gt;, especifique uma base de mesclagem para uma mesclagem, no momento, a especificação de várias bases não é suportada. Esta opção é incompatível com <code>--stdin</code>.</p>
<div class="paragraph">
<p>As the merge-base is provided directly, &lt;branch1&gt; and &lt;branch2&gt; do not need to specify commits; trees are enough.</p>
</div>
</dd>
<dt class="hdlist1" id="git-merge-tree--Xltopogt"> <a class="anchor" href="#git-merge-tree--Xltopogt"></a>-X&lt;opção&gt; </dt>
<dt class="hdlist1" id="git-merge-tree---strategy-optionltopogt"> <a class="anchor" href="#git-merge-tree---strategy-optionltopogt"></a>--strategy-option=&lt;opção&gt; </dt>
<dd>
<p>Encaminhe a opção específica da estratégia de mesclagem para a estratégia de mesclagem. Para mais detalhes consulte <a href='{{< relurl "docs/git-merge/pt_BR" >}}'>git-merge[1]</a>.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="OUTPUT"><a class="anchor" href="#OUTPUT"></a>SAÍDA</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Para uma mesclagem bem-sucedida, a saída do git-merge-tree é basicamente uma linha:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;OID do cume da árvore&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Considerando que para uma mesclagem conflitante, a saída é, por padrão, do formulário:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;OID do cume da árvore&gt;
&lt;info do arquivo em conflito&gt;
&lt;mensagens de informação&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Estes são discutidos individualmente abaixo.</p>
</div>
<div class="paragraph">
<p>Entretanto, há uma exceção. Se a opção <code>--stdin</code> for usada, haverá uma seção extra no início, um caractere NUL no final e, em seguida, todas as seções serão repetidas para cada linha de entrada. Portanto, se a primeira mesclagem estiver em conflito e a segunda estiver limpa, a saída será do tipo:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;Condição da mesclagem&gt;
&lt;OID do cume da árvore&gt;
&lt;Informação do arquivo com conflito&gt;
&lt;Mensagens informacionais&gt;
NUL
&lt;Merge status&gt;
&lt;OID do cume da árvore&gt;
NUL</pre>
</div>
</div>
<div class="sect2">
<h3 id="MS"><a class="anchor" href="#MS"></a>Condição da mesclagem</h3>
<div class="paragraph">
<p>Esse é uma condição geral inteira, seguido por um caractere NUL. A condição geral inteira é:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>   0: merge had conflicts
   1: merge was clean
   &lt;0: something prevented the merge from running (e.g. access to repository
objects denied by filesystem)</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="OIDTLT"><a class="anchor" href="#OIDTLT"></a>OID do cume da árvore</h3>
<div class="paragraph">
<p>Esse é um objeto de árvore que representa o que seria verificado na árvore de trabalho no final do comando <code>git merge</code>. Se houver conflitos, os arquivos dessa árvore poderão ter marcadores de conflito incorporados. Esta seção é sempre seguida por uma nova linha (ou NUL se <code>-z</code> for usado).</p>
</div>
</div>
<div class="sect2">
<h3 id="CFI"><a class="anchor" href="#CFI"></a>Informação do arquivo em conflito</h3>
<div class="paragraph">
<p>Esta é uma sequência de linhas com o formato</p>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;modo&gt; &lt;objeto&gt; &lt;estágio&gt; &lt;nome_do_arquivo&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>O nome do arquivo será citado conforme explicado na variável de configuração <code>core.quotePath</code> (consulte <a href='{{< relurl "docs/git-config/pt_BR" >}}'>git-config[1]</a>). No entanto, se a opção <code>--name-only</code> for usada, o modo, o objeto e o estágio serão omitidos. Se <code>-z</code> for usado, as "linhas" serão terminadas com um caractere NUL em vez de um caractere de nova linha.</p>
</div>
</div>
<div class="sect2">
<h3 id="IM"><a class="anchor" href="#IM"></a>Mensagens de Informação</h3>
<div class="paragraph">
<p>Esta seção fornece mensagens informativas, geralmente sobre os conflitos. O formato da seção varia significativamente, dependendo se <code>-z</code> for usado.</p>
</div>
<div class="paragraph">
<p>Caso <code>-z</code> seja utilizado:</p>
</div>
<div class="paragraph">
<p>O formato da saída é zero ou registros informativos adicionais do conflito, cada um no formato:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;lista-dos-caminhos&gt;&lt;tipo-do-conflito&gt;NUL&lt;mensagem-do-conflito&gt;NUL</pre>
</div>
</div>
<div class="paragraph">
<p>onde &lt;lista-dos-caminhos&gt; é da forma</p>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;quantidade-dos-caminhos&gt;NUL&lt;caminho1&gt;NUL&lt;caminho2&gt;NUL...&lt;caminhoN&gt;NUL</pre>
</div>
</div>
<div class="paragraph">
<p>E inclui caminhos (ou nomes de ramificações) afetados pelo conflito ou pela mensagem informativa em &lt;mensagem-de-conflito&gt;. Além disso, o &lt;tipo-do-conflito&gt; é uma string estável que explica o tipo do conflito, como</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"Auto-merging"</p>
</li>
<li>
<p>"CONFLITO (renomear/excluir)"</p>
</li>
<li>
<p>"CONFLICT (o submódulo não possui uma base para mesclagem)"</p>
</li>
<li>
<p>"CONFLITO (binário)"</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>E a &lt;mensagem-de-conflito&gt; é uma mensagem mais detalhada sobre o conflito que frequentemente (mas nem sempre) incorpora a &lt;descrição-curta-do-tipo-estável-da-redução&gt;. Estas strings poderão ser alteradas em futuras versões do Git. Alguns exemplos:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"Auto-merging &lt;arquivo&gt;"</p>
</li>
<li>
<p>"CONFLITO (renomear/excluir): &lt;oldfile&gt; renomeado&#8230;&#8203;mas excluído em&#8230;&#8203;"</p>
</li>
<li>
<p>"Houve uma falha ao mesclar o submódulo &lt;submódulo&gt; (sem base para mesclar)"</p>
</li>
<li>
<p>"Aviso: não é possível mesclar arquivos binários: &lt;nome-do-arquivo&gt;"</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Caso <code>-z</code> NÃO seja utilizado:</p>
</div>
<div class="paragraph">
<p>Esta seção começa com uma linha em branco para separá-la das seções anteriores e, em seguida, contém apenas as informações &lt;mensagem-de-conflito&gt; da seção anterior (que são separadas por novas linhas). Essas são cadeias de caracteres não estáveis que não devem ser analisadas por scripts e são destinadas apenas para avaliação humana. Além disso, observe que, embora as cadeias de caracteres &lt;mensagem-de-conflito&gt; normalmente não contenham novas linhas incorporadas, às vezes elas contêm. (No entanto, as mensagens de formato livre nunca terão um caractere NUL incorporado). Portanto, todo o bloco de informações é destinado a avaliação humana como uma aglomeração de todas as mensagens de conflito.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_condição_de_encerramento"><a class="anchor" href="#_condição_de_encerramento"></a>CONDIÇÃO DE ENCERRAMENTO</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Para uma mesclagem bem-sucedida e sem conflitos, a condição de encerramento é 0. Quando a mesclagem tem conflitos, a condição de encerramento é 1. Se a mesclagem não puder ser concluída (ou iniciada) devido a algum tipo de erro, a condição de encerramento será algo diferente de 0 ou 1 (e a saída não será especificada). Quando a opção <code>--stdin</code> é usada, a condição de retorno é 0 para mesclagens bem-sucedidas e conflitantes, algo diferente de 0 ou 1 se não for possível concluir todas as mesclagens solicitadas.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_observações_sobre_a_utilização"><a class="anchor" href="#_observações_sobre_a_utilização"></a>OBSERVAÇÕES SOBRE A UTILIZAÇÃO</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Este comando destina-se a uma canalização de baixo nível, semelhante a <a href='{{< relurl "docs/git-hash-object/pt_BR" >}}'>git-hash-object[1]</a>, <a href='{{< relurl "docs/git-mktree/pt_BR" >}}'>git-mktree[1]</a>, <a href='{{< relurl "docs/git-commit-tree/pt_BR" >}}'>git-commit-tree[1]</a>, <a href='{{< relurl "docs/git-write-tree/pt_BR" >}}'>git-write-tree[1]</a>, <a href='{{< relurl "docs/git-update-ref/pt_BR" >}}'>git-update-ref[1]</a> e <a href='{{< relurl "docs/git-mktag/pt_BR" >}}'>git-mktag[1]</a>. Assim, ele pode ser usado como parte de uma série de etapas, como:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>NEWTREE=$(git merge-tree --write-tree $BRANCH1 $BRANCH2)
test $? -eq 0 || die "Houveram conflitos..."
NEWCOMMIT=$(git commit-tree $NEWTREE -p $BRANCH1 -p $BRANCH2)
git update-ref $BRANCH1 $NEWCOMMIT</pre>
</div>
</div>
<div class="paragraph">
<p>Observe que quando o status de saída for diferente de zero, <code>NEWTREE</code> nesta sequência conterá muito mais saída do que apenas uma árvore.</p>
</div>
<div class="paragraph">
<p>Para conflitos, a saída inclui as mesmas informações que você obteria com <a href='{{< relurl "docs/git-merge/pt_BR" >}}'>git-merge[1]</a>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>o que seria escrito na árvore de trabalho (o <a href="#OIDTLT">OID do cume da árvore</a>)</p>
</li>
<li>
<p>os estágios de ordem superior que seriam gravados no índice (o <a href="#CFI">informação do arquivo em conflito</a>)</p>
</li>
<li>
<p>quaisquer mensagens que seriam geradas no stdout (as <a href="#IM">mensagens informativas</a>)</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_formato_de_entrada"><a class="anchor" href="#_formato_de_entrada"></a>FORMATO DE ENTRADA</h2>
<div class="sectionbody">
<div class="paragraph">
<p>O formato de entrada <em>git merge-tree --stdin</em> é totalmente com base em texto. Cada linha tem este formato:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>[&lt;base-commit&gt; -- ]&lt;ramo1&gt; &lt;ramo2&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Caso uma linha seja separada por <code>--</code>, o texto antes do separador é usado para definir uma base de mesclagem para uma mesclagem e o texto após o separador, descreve as ramificações que serão mescladas.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_erros_a_serem_evitados"><a class="anchor" href="#_erros_a_serem_evitados"></a>ERROS A SEREM EVITADOS</h2>
<div class="sectionbody">
<div class="paragraph">
<p>NÃO examine o cume da árvore resultante para tentar descobrir quais os arquivos estão em conflito; em vez disso, analise a seção <a href="#CFI">Informações dos arquivos conflitantes</a>. Além da análise de uma árvore inteira ser extremamente lenta em grandes repositórios, há vários tipos de conflitos que não podem ser representados por marcadores de conflito (modificar/excluir, modo de conflito, arquivo binário alterado em ambos os lados, conflitos de arquivo/diretório, várias permutações de conflito de renomeação etc.)</p>
</div>
<div class="paragraph">
<p>NÃO interprete uma lista <a href="#CFI">Informações de arquivo conflitantes</a> vazia como uma mesclagem limpa; verifique a condição de encerramento. Uma mesclagem pode ter conflitos sem que os arquivos individuais entrem em conflito (há alguns tipos de conflitos de renomeação de diretório que se enquadram nessa categoria, e outros também poderão ser adicionados no futuro).</p>
</div>
<div class="paragraph">
<p>NÃO tente adivinhar ou fazer com que o usuário adivinhe os tipos de conflito da lista <a href="#CFI">Informações dos arquivos conflitantes</a>. As informações existentes são insuficientes para isso. Por exemplo: Conflitos de renomeação/renomeação(1 para 2) (ambos os lados renomearam o mesmo arquivo de forma diferente) resultarão em três arquivos diferentes com estágios de ordem superior (mas cada um tem apenas um estágio de ordem superior), sem nenhuma maneira (exceto a seção <a href="#IM">Mensagens informativas</a>) de determinar quais três arquivos estão relacionados. Os conflitos de arquivo/diretório também resultam num arquivo com exatamente um estágio de ordem mais elevada. Conflitos de renomeação dos diretórios possivelmente envolvidos (quando "merge.directoryRenames" não está definido ou está definido como "conflicts") também resultam num arquivo com exatamente um estágio de ordem mais elevada. Em todos os casos, a seção <a href="#IM">Mensagens informativas</a> tem as informações necessárias, embora não tenha sido projetada para ser analisável por máquina.</p>
</div>
<div class="paragraph">
<p>NÃO presuma que cada caminho de <a href="#CFI">Informações de arquivo conflitantes</a> e os conflitos lógicos nas <a href="#IM">Mensagens informativas</a> tenham um mapeamento de um para um, nem que haja um mapeamento de um para muitos, nem um mapeamento de muitos para um. Existem mapeamentos de muitos para muitos, o que significa que cada caminho pode ter muitos tipos de conflitos lógicos numa única mesclagem, e cada tipo de conflito lógico pode afetar muitos caminhos.</p>
</div>
<div class="paragraph">
<p>NÃO presuma que todos os nomes de arquivos listados na seção <a href="#IM">Mensagens informativas</a> tenham conflitos. Podem ser incluídas mensagens para arquivos que não tenham conflitos, como "Auto-merging &lt;arquivo&gt;".</p>
</div>
<div class="paragraph">
<p>EVITE pegar os OIDS do <a href="#CFI">Informações de arquivo conflitantes</a> e mesclá-los novamente para apresentar os conflitos ao usuário. Isso fará com que você perca informações. Em vez disso, procure a versão do arquivo encontrado em <a href="#OIDTLT">OID do cume da árvore</a> e mostre-a. Em particular, o último terá marcadores de conflito anotados com o ramo/commit original que está sendo mesclado e, se houver renomeações envolvidas, o nome do arquivo original. Embora você possa incluir o ramo/commit original nas anotações do marcador de conflito ao refazer a mesclagem, o nome do arquivo original não está disponível no <a href="#CFI">Informações de arquivo conflitantes</a> e, portanto, você estaria perdendo informações que poderiam ajudar o usuário a resolver o conflito.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="DEPMERGE"><a class="anchor" href="#DEPMERGE"></a>DESCRIÇÃO DESCONTINUADA</h2>
<div class="sectionbody">
<div class="paragraph">
<p>De acordo com <a href="#NEWMERGE">DESCRIÇÃO</a> e diferente do restante desta documentação, esta seção descreve um modo da opção <code>--trivial-merge</code> já descontinuado.</p>
</div>
<div class="paragraph">
<p>Além da opção opcional <code>--trivial-merge</code>, este modo não aceita opções.</p>
</div>
<div class="paragraph">
<p>Esse modo lê três árvores e gera resultados de mesclagem triviais e estágios conflitantes na saída padrão num formato de semi-difusão. Como isso foi projetado para que scripts do cume consumam e mesclem os resultados de volta ao índice, ele omite entradas que correspondem a &lt;branch1&gt;. O resultado dessa segunda forma é semelhante ao que o comando de três vias que o comando <em>git read-tree -m</em> faz, mas, em vez de armazenar os resultados no índice, o comando envia as entradas para a saída padrão.</p>
</div>
<div class="paragraph">
<p>Este formulário não só tem aplicabilidade limitada (uma mesclagem trivial não pode lidar com as mesclagens do conteúdo de arquivos individuais, a detecção de renomeações, manipulação adequada de conflito de diretório/arquivo etc.), o formato de saída também é difícil de trabalhar e geralmente terá menos desempenho do que o primeiro formulário, mesmo nas mesclagens bem-sucedidas (especialmente se estiver trabalhando em grandes repositórios).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_git"><a class="anchor" href="#_git"></a>GIT</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Parte do conjunto <a href='{{< relurl "docs/git/pt_BR" >}}'>git[1]</a></p>
</div>
</div>
</div>