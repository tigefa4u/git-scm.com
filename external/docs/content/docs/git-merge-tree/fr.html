---
### DO NOT EDIT! Generated by script/update-docs.rb

category: manual
section: documentation
subsection: manual
title: Git - git-merge-tree Documentation
docname: git-merge-tree
lang: fr
aliases:
- "/docs/git-merge-tree/fr/index.html"
---
<div class="sect1">
<h2 id="_nom"><a class="anchor" href="#_nom"></a>NOM</h2>
<div class="sectionbody">
<div class="paragraph">
<p>git-merge-tree - Effectue une fusion sans toucher à l&#8217;index ou à l&#8217;arbre de travail</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_synopsis"><a class="anchor" href="#_synopsis"></a>SYNOPSIS</h2>
<div class="sectionbody">
<div class="verseblock">
<pre class="content"><em>git merge-tree</em> [--write-tree] [&lt;options&gt;] &lt;branche1&gt; &lt;branche2&gt;
<em>git merge-tree</em> [--trivial-merge] &lt;arbre-base&gt; &lt;branche1&gt; &lt;branche2&gt; (obsolète)</pre>
</div>
</div>
</div>
<div class="sect1">
<h2 id="NEWMERGE"><a class="anchor" href="#NEWMERGE"></a>DESCRIPTION</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Cette commande a un mode moderne <code>--write-tree</code> et un mode <code>--trivial-merge</code>. À l&#8217;exception de la section <a href="#DEPMERGE">DESCRIPTION OBSOL ÈTE</a> à la fin, le reste de cette documentation décrit le mode moderne <code>--write-tree</code>.</p>
</div>
<div class="paragraph">
<p>Exécute une fusion, mais ne fait pas de nouveaux commits et ne lit ni n&#8217;écrit ni l&#8217;arbre de travail ni l&#8217;index.</p>
</div>
<div class="paragraph">
<p>La fusion effectuée utilisera les mêmes caractéristiques que le <a href='{{< relurl "docs/git-merge/fr" >}}'>git-merge[1]</a> « réel », y compris :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>fusion de contenu à trois branches des fichiers individuels</p>
</li>
<li>
<p>détection de renommage</p>
</li>
<li>
<p>gestion correcte des conflits de répertoires et de fichiers</p>
</li>
<li>
<p>consolidation récursive des ancêtres (c.-à-d. lorsqu&#8217;il y a plus d&#8217;une base de fusion, créant une base de fusion virtuelle en fusionnant les bases de fusion)</p>
</li>
<li>
<p>etc.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Une fois la fusion terminée, un nouvel objet d&#8217;arborescence est créé au sommet. Voir <code>SORTIE</code> ci-dessous pour plus de détails.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_options"><a class="anchor" href="#_options"></a>OPTIONS</h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1" id="git-merge-tree--z"> <a class="anchor" href="#git-merge-tree--z"></a>-z </dt>
<dd>
<p>Ne pas citer les noms de fichiers dans la section &lt;information de fichiers en conflit&gt;, et terminer chaque nom de fichier avec un caractère NUL plutôt qu&#8217;un retour à la ligne. Commencer également la section des messages avec un caractère NUL au lieu d&#8217;une nouvelle ligne. Voir <a href="#OUTPUT">SORTIE</a> ci-dessous pour plus d&#8217;informations.</p>
</dd>
<dt class="hdlist1" id="git-merge-tree---name-only"> <a class="anchor" href="#git-merge-tree---name-only"></a>--name-only </dt>
<dd>
<p>Dans la section d&#8217;Information sur les fichiers en conflit, au lieu d&#8217;écrire une liste de tuples (mode, oid, étape, chemin) sur la sortie pour les fichiers en conflit, ne fournir qu&#8217;une liste de noms de fichiers avec des conflits (et ne pas lister les noms de fichiers plusieurs fois s&#8217;ils ont plusieurs étapes en conflit).</p>
</dd>
<dt class="hdlist1" id="git-merge-tree---no-messages"> <a class="anchor" href="#git-merge-tree---no-messages"></a>--[no-]messages </dt>
<dd>
<p>Écrire tous les messages d&#8217;information tels que « Auto-fusion &lt;chemin&gt; » ou les notes de CONFLIT jusqu&#8217;à la fin de la sortie. Si non précisé, le comportement par défaut est d&#8217;inclure ces messages s&#8217;il y a des conflits de fusion, et de les omettre autrement.</p>
</dd>
<dt class="hdlist1" id="git-merge-tree---allow-unrelated-histories"> <a class="anchor" href="#git-merge-tree---allow-unrelated-histories"></a>--allow-unrelated-histories </dt>
<dd>
<p>merge-tree sera en erreur par défaut si les deux branches spécifiées ne partagent aucune histoire commune. Ce drapeau peut être donné pour annuler cette vérification et faire poursuivre tout de même la fusion.</p>
</dd>
<dt class="hdlist1" id="git-merge-tree---merge-baseltarbre-esquegt"> <a class="anchor" href="#git-merge-tree---merge-baseltarbre-esquegt"></a>--merge-base=&lt;arbre-esque&gt; </dt>
<dd>
<p>Au lieu de trouver les bases de fustion pour la &lt;branche1&gt; et &lt;branche2&gt;, il n&#8217;y a pas de prise en charge pour spécifier une base de fusion pour la fusion et préciser plusieurs bases. Cette option est incompatible avec <code>--stdin</code>.</p>
<div class="paragraph">
<p>Comme la base de fusion est fournie directement, &lt;branche1&gt; et &lt;branche2&gt; n&#8217;ont pas besoin de pointer des commits ; les arbres sont suffisants.</p>
</div>
</dd>
<dt class="hdlist1" id="git-merge-tree--Xltoptiongt"> <a class="anchor" href="#git-merge-tree--Xltoptiongt"></a>-X&lt;option&gt; </dt>
<dt class="hdlist1" id="git-merge-tree---strategy-optionltoptiongt"> <a class="anchor" href="#git-merge-tree---strategy-optionltoptiongt"></a>--strategy-option=&lt;option&gt; </dt>
<dd>
<p>Passer l&#8217;option spécifique de stratégie de fusion à la stratégie de fusion. Voir <a href='{{< relurl "docs/git-merge/fr" >}}'>git-merge[1]</a> pour plus de détails.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="OUTPUT"><a class="anchor" href="#OUTPUT"></a>SORTIE</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Pour une fusion réussie, la sortie de git-merge-tree est simplement une ligne :</p>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;OID de l'arbre de sommet&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Alors que pour une fusion conflictuelle, la sortie est par défaut de la forme :</p>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;OID de l'arbre supérieur&gt;
&lt;Information sur les fichiers en conflit&gt;
&lt;Messages d'information&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Elles sont examinées individuellement ci-dessous.</p>
</div>
<div class="paragraph">
<p>Cependant, il y a une exception. Si <code>--stdin</code> est passé, il y a une section supplémentaire au début, un caractère NUL à la fin, et toutes les sections se répètent pour chaque ligne d&#8217;entrée. Ainsi, si la première fusion est en conflit et que la seconde est propre, la production serait de la forme :</p>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;Statut de fusion&gt;
&lt;OID de l'arbre supérieur&gt;
&lt;Information de fichiers en conflit&gt;
&lt;Messages d'information&gt;
NUL
&lt;Statut de fusion&gt;
&lt;OID de l'arbre supérieur&gt;
NUL</pre>
</div>
</div>
<div class="sect2">
<h3 id="MS"><a class="anchor" href="#MS"></a>Status de fusion</h3>
<div class="paragraph">
<p>C&#8217;est un statut (nombre entier) suivi d&#8217;un caractère NUL. Le statut entier est :</p>
</div>
<div class="literalblock">
<div class="content">
<pre>    0 : la fusion avait des conflits
    1 : la fusion était propre
    &lt;0 : quelque chose a empêché la fusion de fonctionner (p. ex. accès au dépôt
objets empêché par le système de fichiers)</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="OIDTLT"><a class="anchor" href="#OIDTLT"></a>OID de l&#8217;arbre supérieur</h3>
<div class="paragraph">
<p>C&#8217;est un objet d&#8217;arbre qui représente ce qui serait extrait dans l&#8217;arbre de travail à la fin de <code>git merge</code>. S&#8217;il y avait des conflits, alors les fichiers dans cet arbre peuvent avoir des marqueurs de conflit intégrés. Cette section est toujours suivie d&#8217;une nouvelle ligne (ou NUL si <code>-z</code> est passé).</p>
</div>
</div>
<div class="sect2">
<h3 id="CFI"><a class="anchor" href="#CFI"></a>Information sur les fichiers en conflit</h3>
<div class="paragraph">
<p>C&#8217;est une séquence de lignes au format</p>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;mode&gt; &lt;objet&gt; &lt;étape&gt; &lt;nom-de-fichier&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Le nom du fichier sera cité comme expliqué pour la variable de configuration <code>core.quotePath</code> (voir <a href='{{< relurl "docs/git-config/fr" >}}'>git-config[1]</a>). Cependant, si l&#8217;option <code>--name-only</code> est passée, le mode, l&#8217;objet, et l&#8217;étape seront omis. Si l&#8217;option <code>-z</code> est passée, les "lignes" sont terminées par un caractère NUL au lieu d&#8217;un caractère de nouvelle ligne.</p>
</div>
</div>
<div class="sect2">
<h3 id="IM"><a class="anchor" href="#IM"></a>Messages d&#8217;information</h3>
<div class="paragraph">
<p>Cette section fournit des messages d&#8217;information, généralement sur les conflits. Le format de la section varie considérablement selon que <code>-z</code> est passé.</p>
</div>
<div class="paragraph">
<p>Si <code>-z</code> est passé :</p>
</div>
<div class="paragraph">
<p>Le format de sortie est zéro ou plus enregistrements d&#8217;information sur les conflits, chacun de la forme :</p>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;liste-de-chemins&gt;&lt;type-de-conflit&gt;NUL&lt;message-de-conflit&gt;NUL</pre>
</div>
</div>
<div class="paragraph">
<p>où &lt;liste-de-chemins&gt; est de la forme</p>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;nombre-de-chemins&gt;NUL&lt;chemin1&gt;NUL&lt;chemin2&gt;NUL...&lt;cheminN&gt;NUL</pre>
</div>
</div>
<div class="paragraph">
<p>et comprend des chemins (ou des noms de branches) touchés par le conflit ou le message d&#8217;information dans&lt;message-de-conflit&gt;. De plus, &lt;type-de-conflit&gt; est une chaîne stable expliquant le type de conflit, comme</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"Fusion automatique"</p>
</li>
<li>
<p>"CONFLIT (renommage/suppression)"</p>
</li>
<li>
<p>"CONFLIT (le sous-module manque d&#8217;une base de fusion)"</p>
</li>
<li>
<p>"CONFLIT (binaire)"</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>et &lt;message-de-conflit&gt; est un message plus détaillé sur le conflit qui souvent (mais pas toujours) embarque la &lt;description-courte-stable&gt;. Ces chaînes peuvent changer dans les futures versions Git. Quelques exemples :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"Fusion automatique de &lt;fichier&gt;"</p>
</li>
<li>
<p>"CONFLIT (renommage/suppression) :&lt;ancienfichier&gt; renommé&#8230;&#8203; mais supprimé dans &#8230;&#8203;"</p>
</li>
<li>
<p>"Échec de la fusion du sous-module &lt;sous-module&gt; (pas de base de fusion)"</p>
</li>
<li>
<p>"Attention : ne peut pas fusionner des fichiers binaires : &lt;nom-de-fichier&gt;"</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Si <code>-z</code> n&#8217;est PAS passé :</p>
</div>
<div class="paragraph">
<p>Cette section commence par une ligne vierge pour la séparer des sections précédentes, puis ne contient que les informations &lt;message-de-conflit&gt; de la section précédente (séparées par des nouvelles lignes). Ce sont des chaînes non-stables qui ne doivent pas être analysées par des scripts, et sont simplement destinées à la consommation humaine. De plus, notez que si les chaînes &lt;message-de-conflit&gt; ne contiennent généralement pas de nouvelles lignes intégrées, elles le font parfois. (Cependant, les messages libres n&#8217;auront jamais de caractère NUL intégré). Ainsi, l&#8217;ensemble de l&#8217;information est destiné aux lecteurs humains comme une agglomération de tous les messages de conflit.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_statut_de_sortie"><a class="anchor" href="#_statut_de_sortie"></a>STATUT DE SORTIE</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Pour une fusion réussie et non conflictuelle, le statut de sortie est de 0. Lorsque la fusion a des conflits, le statut de sortie est 1. Si la fusion n&#8217;est pas capable de se terminer (ou de démarrer) en raison d&#8217;une erreur quelconque, l&#8217;état de sortie est autre chose que 0 ou 1 (et la sortie n&#8217;est pas spécifiée). Lorsque --stdin est passé, le statut de retour est 0 pour les fusions réussies et conflictuelles, et autre chose que 0 ou 1 si elle ne peut pas compléter tous les fusions demandées.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_notes_dutilisation"><a class="anchor" href="#_notes_dutilisation"></a>NOTES D&#8217;UTILISATION</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Cette commande est destinée à la plomberie de bas niveau, semblable à <a href='{{< relurl "docs/git-hash-object/fr" >}}'>git-hash-object[1]</a>, <a href='{{< relurl "docs/git-mktree/fr" >}}'>git-mktree[1]</a>, <a href='{{< relurl "docs/git-commit-tree/fr" >}}'>git-commit-tree[1]</a>, <a href='{{< relurl "docs/git-write-tree/fr" >}}'>git-write-tree[1]</a>, <a href='{{< relurl "docs/git-update-ref/fr" >}}'>git-update-ref[1]</a>, et <a href='{{< relurl "docs/git-mktag/fr" >}}'>git-mktag[1]</a>. Ainsi, elle peut être utilisée comme partie d&#8217;une série d&#8217;étapes telles que :</p>
</div>
<div class="literalblock">
<div class="content">
<pre>NEWTREE=$(git merge-tree --write-tree $BRANCH1 $BRANCH2)
test $? -eq 0 || die "Il y avait des conflits..."
NEWCOMMIT=$(git commit-tree $NEWTREE -p $BRANCH1 -p $BRANCH2)
git update-ref $BRANCH1 $NEWCOMMIT</pre>
</div>
</div>
<div class="paragraph">
<p>Notez que lorsque le statut de sortie est non-zéro, <code>NEWTREE</code> dans cette séquence contiendra beaucoup plus qu&#8217;un arbre.</p>
</div>
<div class="paragraph">
<p>Pour les conflits, la sortie comprend les mêmes informations que vous obtiendriez avec <a href='{{< relurl "docs/git-merge/fr" >}}'>git-merge[1]</a> :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>ce qui serait écrit à l&#8217;arbre de travail l'<a href="#OIDTLT">OID de l&#8217;arbre de supraniveau</a></p>
</li>
<li>
<p>les étapes d&#8217;ordre supérieur qui seraient écrites dans l&#8217;index (l'<a href="#CFI">Information de fichier en conflit</a>)</p>
</li>
<li>
<p>tous les messages qui auraient été affichés sur stdout (les <a href="#IM">messages d&#8217;information</a>)</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_format_dentrée"><a class="anchor" href="#_format_dentrée"></a>FORMAT D&#8217;ENTRÉE</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Le format d&#8217;entrée de <em>git merge-tree --stdin</em> est entièrement textuel. Chaque ligne a ce format :</p>
</div>
<div class="literalblock">
<div class="content">
<pre>[&lt;commit-de-base&gt; -- ]&lt;branche1&gt; &lt;branche2&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Si une ligne est séparée par <code>--</code>, la chaîne précédant le séparateur est utilisée pour spécifier une base de fusion pour la fusion et la chaîne suivant le séparateur décrit les branches à fusionner.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_erreurs_à_éviter"><a class="anchor" href="#_erreurs_à_éviter"></a>ERREURS À ÉVITER</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Ne PAS traverser l&#8217;arbre supérieur résultant pour essayer de trouver quels fichiers sont en conflit ; analyser la section d'<a href="#CFI">Info de fichiers en conflits</a>. Non seulement analyser un arbre entier serait horriblement lent dans les grands dépôts, mais il y a de nombreux types de conflits non représentables par des marqueurs de conflit (modifier/enlever, conflit de mode, fichier binaire changé des deux côtés, conflits fichiers/répertoires, diverses permutations de conflit de renommage, etc.)</p>
</div>
<div class="paragraph">
<p>Ne PAS interpréter une liste d'<a href="#CFI">info de fichiers en conflit</a>fichiers comme une fusion propre ; vérifier l&#8217;état de sortie. Une fusion peut avoir des conflits sans avoir un conflit de fichiers individuels (il y a quelques types de conflits de renommage de répertoire qui tombent dans cette catégorie, et d&#8217;autres peuvent également être ajoutés à l&#8217;avenir).</p>
</div>
<div class="paragraph">
<p>Ne PAS essayer de deviner ou de faire deviner à l&#8217;utilisateur les types de conflit de la liste <a href="#CFI">info de fichiers en conflits</a> . Les informations ne suffisent pas à le faire. Par exemple : les conflits renommage/renommage(1vers2) (les deux côtés ont renommé le même fichier différemment) se traduiront par trois fichiers différents ayant des étapes de commande supérieures (mais chacun n&#8217;a qu&#8217;une seule étape de commande supérieure), sans aucune façon ( à part la section de <a href="#IM">messages d&#8217;information</a>). Les conflits de fichiers/répertoire entraînent également un fichier avec exactement une étape de commande supérieure. Les conflits de renommage-possiblement-avec-des-répertoires (lorsque "merge.directoryRenames" est non réglé ou réglé sur "conflicts") entraînent également un fichier avec exactement une étape de commande supérieure. Dans tous les cas, la section des <a href="#IM">messages informationnels</a> a les informations nécessaires, bien qu&#8217;elle ne soit pas conçue pour être analysable par machine.</p>
</div>
<div class="paragraph">
<p>Ne PAS supposer que chaque chemin d'<a href="#CFI">info de fichiers en conflits</a>, et les conflits logiques dans les <a href="#IM">Messages informationnels</a> ont une correspondance unique, ni qu&#8217;il y ait une correspondance unique, ni une correspondance plusieurs-vers-un. Il existe de nombreuses correspondances plusieurs-à-plusieurs, ce qui signifie que chaque chemin peut avoir de nombreux types de conflits logiques dans une fusion unique, et chaque type de conflit logique peut affecter de nombreux chemins.</p>
</div>
<div class="paragraph">
<p>Ne PAS assumer que tous les noms de fichiers répertoriés dans la section des <a href="#IM">Messages informationnels</a> avaient des conflits. Des messages peuvent être inclus pour des fichiers qui n&#8217;ont pas de conflits, comme "Auto-merging &lt;fichier&gt;".</p>
</div>
<div class="paragraph">
<p>ÉVITER de prendre les OIDS de l'<a href="#CFI">information de fichiers en conflit</a> et les ré-fusionner pour présenter les conflits à l&#8217;utilisateur. Cela va perdre de l&#8217;information. Au lieu de cela, regarder la version du fichier trouvé dans le ­<a href="#OIDTLT">OID d&#8217;arborescence de sommet</a> et l&#8217;afficher. En particulier, ce dernier aura des marqueurs de conflit annotés avec le branche/commit original en cours de fusion et, si des renommages étaient impliqués, le nom de fichier original. Bien que vous pourriez inclure le branche/commit original dans les annotations de conflit lors de la nouvelle fusion, le nom de fichier original n&#8217;est pas disponible à partir de l'<a href="#CFI">Information de fichiers en conflit</a>et donc vous perdriez des informations qui pourraient aider l&#8217;utilisateur à résoudre le conflit.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="DEPMERGE"><a class="anchor" href="#DEPMERGE"></a>DESCRIPTION DÉCONSEILLÉE</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Comme spécifié dans la section <a href="#NEWMERGE">DESCRIPTION</a> et contrairement au reste de la documentation, cette section décrit le mode déprécié <code>--trivial-merge</code>.</p>
</div>
<div class="paragraph">
<p>À part l&#8217;option <code>--trivial-merge</code> optionnelle, ce mode n&#8217;accepte aucune option.</p>
</div>
<div class="paragraph">
<p>Ce mode lit trois arbres-esques, et produit des résultats triviaux de fusion et des étapes conflictuelles sur la sortie standard dans un format semi-diff. Comme cela a été conçu pour la consommation par des scripts de plus haut niveau et pour fusionner les résultats dans l&#8217;index, il omet les entrées qui correspondent à &lt;branche1&gt;. Le résultat de cette deuxième forme est semblable à ce que fait <em>git read-tree -m</em>, mais au lieu de stocker les résultats dans l&#8217;index, la commande produit les entrées sur la sortie standard.</p>
</div>
<div class="paragraph">
<p>Ce formulaire n&#8217;a pas seulement une applicabilité limitée (une fusion triviale ne peut pas gérer les fusions de contenu de fichiers individuels, la détection de renom, la manipulation de conflits répertoires/fichiers, etc.), il est également difficile de travailler avec le format de sortie, et il sera généralement moins performant que la première même sur les fusions réussies (surtout dans les grands dépôts).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_git"><a class="anchor" href="#_git"></a>GIT</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Fait partie de la suite <a href='{{< relurl "docs/git/fr" >}}'>git[1]</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_traduction"><a class="anchor" href="#_traduction"></a>TRADUCTION</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Cette  page de manuel a été traduite par Jean-Noël Avila &lt;jn.avila AT free DOT fr&gt; et les membres du projet git-manpages-l10n. Veuillez signaler toute erreur de traduction par un rapport de bogue sur le site <a href="https://github.com/jnavila/git-manpages-l10n" class="bare">https://github.com/jnavila/git-manpages-l10n</a> .</p>
</div>
</div>
</div>