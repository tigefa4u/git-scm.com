---
### DO NOT EDIT! Generated by script/update-docs.rb

category: manual
section: documentation
subsection: manual
title: Git - git-init Documentation
docname: git-init
lang: zh_HANS-CN
aliases:
- "/docs/git-init/zh_HANS-CN/index.html"
---
<div class="sect1">
<h2 id="_名称"><a class="anchor" href="#_名称"></a>名称</h2>
<div class="sectionbody">
<div class="paragraph">
<p>git-init - 创建一个空的 Git 仓库或是重新初始化一个已经存在的仓库</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_概述"><a class="anchor" href="#_概述"></a>概述</h2>
<div class="sectionbody">
<div class="verseblock">
<pre class="content"><em>git init</em> [-q | --quiet] [--bare] [--template=&lt;模板目录&gt;]
	  [--separate-git-dir &lt;Git 目录&gt;] [--object-format=&lt;格式&gt;]
	  [--ref-format=&lt;引用格式&gt;]
	  [-b &lt;分支名&gt; | --initial-branch=&lt;分支名&gt;]
	  [--shared[=&lt;许可&gt;]] [&lt;目录&gt;]</pre>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_描述"><a class="anchor" href="#_描述"></a>描述</h2>
<div class="sectionbody">
<div class="paragraph">
<p>该命令创建一个空的 Git 仓库 - 本质上是一个 <code>.git</code> 目录，其中包含 <code>objects</code> 、<code>refs/heads</code> 、<code>refs/tags</code> 和模板文件的子目录。 同时将创建一个没有任何提交的初始分支（其名称参见下面的 <code>--initial-branch</code> 选项）。</p>
</div>
<div class="paragraph">
<p>如果设置了 <code>$GIT_DIR</code> 环境变量，那么它将指定用于仓库基础的路径，而不是 <code>./.git</code> .</p>
</div>
<div class="paragraph">
<p>如果通过 <code>$GIT_OBJECT_DIRECTORY</code> 环境变量指定了对象存储目录，那么将在该目录下创建 sha1 目录，否则将使用默认的 <code>$GIT_DIR/objects</code> 目录。</p>
</div>
<div class="paragraph">
<p>在现有仓库中运行 <em>git init</em> 是安全的。它不会覆盖已经存在的内容。重新运行 <em>git init</em> 的主要原因是选择新添加的模板（如果给定了 --separate-git-dir 参数，则将仓库移至另一个位置）。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_选项"><a class="anchor" href="#_选项"></a>选项</h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1" id="git-init--q"> <a class="anchor" href="#git-init--q"></a>-q </dt>
<dt class="hdlist1" id="git-init---quiet"> <a class="anchor" href="#git-init---quiet"></a>--quiet </dt>
<dd>
<p>仅打印错误和警告消息；所有其他输出将不会显示。</p>
</dd>
<dt class="hdlist1" id="git-init---bare"> <a class="anchor" href="#git-init---bare"></a>--bare </dt>
<dd>
<p>创建一个裸仓库。如果未设置 <code>GIT_DIR</code> 环境变量，则将其设置为当前工作目录。</p>
</dd>
<dt class="hdlist1" id="git-init---object-formatltgt"> <a class="anchor" href="#git-init---object-formatltgt"></a>--object-format=&lt;格式&gt; </dt>
<dd>
<p>指定仓库的对象格式（哈希算法）。有效值为 <em>sha1</em> 和（如果启用）<em>sha256</em>。<em>sha1</em> 是默认值。</p>
<div class="paragraph">
<p>注：目前，SHA-256 仓库与 SHA-1 仓库之间不能相互操作。</p>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>过去，我们曾警告说，当我们引入此类互操作性功能时，SHA-256 仓库以后可能需要进行向后不兼容的更改。如今，我们只期待兼容的更改。此外，如果事实证明有必要进行此类修改，可以预期的是，用现在的 Git 创建的 SHA-256 仓库将可用于未来版本的 Git，而不会丢失数据。</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1" id="git-init---ref-formatltgt"> <a class="anchor" href="#git-init---ref-formatltgt"></a>--ref-format=&lt;格式&gt; </dt>
<dd>
<p>指定存储库的给定引用存储格式。有效值为：</p>
</dd>
</dl>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>Missing <code>zh_HANS-CN/ref-storage-format.txt</code></p>
</div>
<div class="paragraph">
<p>See original version for this content.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1" id="git-init---templateltgt"> <a class="anchor" href="#git-init---templateltgt"></a>--template=&lt;模板目录&gt; </dt>
<dd>
<p>指定要使用模板的目录。（请参见下面的 “模板目录” 部分。）</p>
</dd>
<dt class="hdlist1" id="git-init---separate-git-dirltGitgt"> <a class="anchor" href="#git-init---separate-git-dirltGitgt"></a>--separate-git-dir=&lt;Git 目录&gt; </dt>
<dd>
<p>并不将存储库初始化至 <code>$GIT_DIR</code> 或 <code>./.git/</code> 目录，而是在其中创建一个包含实际仓库路径的文本文件。此文件作为连接到仓库的 Git 符号链接，其与文件系统无关。</p>
<div class="paragraph">
<p>如果为重新初始化操作，则将仓库移动到指定的路径。</p>
</div>
</dd>
<dt class="hdlist1" id="git-init--bltgt"> <a class="anchor" href="#git-init--bltgt"></a>-b &lt;分支名&gt; </dt>
<dt class="hdlist1" id="git-init---initial-branchltgt"> <a class="anchor" href="#git-init---initial-branchltgt"></a>--initial-branch=&lt;分支名&gt; </dt>
<dd>
<p>在新创建的仓库中使用指定的名称作为初始分支。 如果未指定，则返回默认名称（目前为 <code>master</code>，但将来可能会更改；可通过 <code>init.defaultBranch</code> 配置变量自定义名称）。</p>
</dd>
<dt class="hdlist1" id="git-init---sharedfalsetrueumaskgroupallworldeverybodyltgt"> <a class="anchor" href="#git-init---sharedfalsetrueumaskgroupallworldeverybodyltgt"></a>--shared[=(false|true|umask|group|all|world|everybody|&lt;许可&gt;)] </dt>
<dd>
<p>指定 Git 仓库在多个用户之间共享。这允许属于同一组的用户推送到该仓库。指定时，将设置配置变量 "core.sharedRepository"，以便使用请求的权限创建 <code>$GIT_DIR</code> 下的文件和目录。未指定时，Git 将使用 umask(2) 返回的权限。</p>
<div class="paragraph">
<p>此选项可以有以下值，如果未给定值，则默认为 <em>group</em>：</p>
</div>
<div class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1" id="git-init-emumaskememfalseem"> <a class="anchor" href="#git-init-emumaskememfalseem"></a><em>umask</em>（或 <em>false</em>） </dt>
<dd>
<p>使用 umask(2) 返回的权限。未指定 <code>--shared</code> 时，此为默认值。</p>
</dd>
<dt class="hdlist1" id="git-init-emgroupememtrueem"> <a class="anchor" href="#git-init-emgroupememtrueem"></a><em>group</em> (或是 <em>true</em>) </dt>
<dd>
<p>使仓库组可写（并且 g+sx，因为 git 组可能不是所有用户的主要组）。这用于放宽原本安全的 umask(2) 值的权限。请注意，umask 仍然适用于其他权限位（例如，如果 umask 为 <em>0022</em>，则使用 <em>group</em> 不会删除其他（非组）用户的读取特权）。有关如何精确指定仓库权限的信息，请参见 <em>0xxx</em>。</p>
</dd>
<dt class="hdlist1" id="git-init-emallememworldememeverybodyem"> <a class="anchor" href="#git-init-emallememworldememeverybodyem"></a><em>all</em> （或 <em>world</em> 或 <em>everybody</em>） </dt>
<dd>
<p>与使用 <em>group</em> 选项相同，但使仓库对所有用户可读。</p>
</dd>
<dt class="hdlist1" id="git-init-emltpermgtem"> <a class="anchor" href="#git-init-emltpermgtem"></a><em>&lt;perm&gt;</em> </dt>
<dd>
<p><em>&lt;许可&gt;</em> 是一个以 <code>0</code> 为前缀的三位八进制数，每个文件都有 <em>&lt;许可&gt;</em> 模式。<em>&lt;许可&gt;</em> 将覆盖用户的 umask(2) 值（而不只是像 <em>group</em> 和 <em>all</em> 那样放宽权限）。<em>0640</em> 将创建一个群组可读、但群组不可写或他人不可访问的仓库。<em>0660</em> 将创建一个当前用户和组可读可写，但其他用户不可访问的仓库（目录和可执行文件的 <code>x</code> 位来自相应用户类别的 <code>r</code> 位）。</p>
</dd>
</dl>
</div>
</div>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>默认情况下，共享仓库中启用了配置标志 <code>receive.denyNonFastForwards</code>，因此您不能强制将非快速转发提交推送到该仓库中。</p>
</div>
<div class="paragraph">
<p>如果提供 <em>dicrectory</em>，则命令在其中运行。如果此目录不存在，则创建它。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_模板目录"><a class="anchor" href="#_模板目录"></a>模板目录</h2>
<div class="sectionbody">
<div class="paragraph">
<p>模板目录中名称不以点开头的文件和目录将在创建后复制到 <code>$GIT_DIR</code> 中。</p>
</div>
<div class="paragraph">
<p>模板目录将是以下之一（按顺序）：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>用 <code>--template</code> 选项给出的参数；</p>
</li>
<li>
<p><code>$GIT_TEMPLATE_DIR</code> 环境变量的内容；</p>
</li>
<li>
<p><code>init.templateDir</code> 配置变量；或者</p>
</li>
<li>
<p>默认模板目录：<code>/usr/share/git-core/templates</code>。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>默认的模板目录包括一些目录结构，建议的 “排除模式”（请参阅 <a href='{{< relurl "docs/gitignore/zh_HANS-CN" >}}'>gitignore[5]</a>）和示例钩子文件。</p>
</div>
<div class="paragraph">
<p>默认情况下，样例钩子都被禁用。要启用一个示例挂钩，请通过删除其后缀 <code>.sample</code> 对其重命名。</p>
</div>
<div class="paragraph">
<p>有关钩子执行的更多信息，请参见 <a href='{{< relurl "docs/githooks/zh_HANS-CN" >}}'>githooks[5]</a>。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_实例"><a class="anchor" href="#_实例"></a>实例</h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1" id="git-init-Git"> <a class="anchor" href="#git-init-Git"></a>为现有仓库开启新的 Git 仓库 </dt>
<dd>
<div class="listingblock">
<div class="content">
<pre>$ cd /path/to/my/codebase
$ git init      <b class="conum">(1)</b>
$ git add .     <b class="conum">(2)</b>
$ git commit    <b class="conum">(3)</b></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>创建 /path/to/my/codebase/.git 目录。</p>
</li>
<li>
<p>将所有现有文件添加到索引。</p>
</li>
<li>
<p>将原始状态记录为历史记录中的第一次提交。</p>
</li>
</ol>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_配置"><a class="anchor" href="#_配置"></a>配置</h2>
<div class="sectionbody">
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>Missing <code>zh_HANS-CN/includes/cmd-config-section-all.txt</code></p>
</div>
<div class="paragraph">
<p>See original version for this content.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>Missing <code>zh_HANS-CN/config/init.txt</code></p>
</div>
<div class="paragraph">
<p>See original version for this content.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_git"><a class="anchor" href="#_git"></a>GIT</h2>
<div class="sectionbody">
<div class="paragraph">
<p>属于 <a href='{{< relurl "docs/git/zh_HANS-CN" >}}'>git[1]</a> 文档</p>
</div>
</div>
</div>