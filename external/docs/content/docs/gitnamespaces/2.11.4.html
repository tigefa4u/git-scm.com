---
### DO NOT EDIT! Generated by script/update-docs.rb

category: manual
section: documentation
subsection: manual
title: Git - gitnamespaces Documentation
docname: gitnamespaces
version: 2.11.4
aliases:
- "/docs/gitnamespaces/2.11.4/index.html"
- "/docs/gitnamespaces/2.12.5/index.html"
- "/docs/gitnamespaces/2.13.7/index.html"
- "/docs/gitnamespaces/2.14.6/index.html"
- "/docs/gitnamespaces/2.15.4/index.html"
- "/docs/gitnamespaces/2.16.6/index.html"
- "/docs/gitnamespaces/2.17.0/index.html"
- "/docs/gitnamespaces/2.17.1/index.html"
- "/docs/gitnamespaces/2.17.2/index.html"
- "/docs/gitnamespaces/2.17.3/index.html"
- "/docs/gitnamespaces/2.17.4/index.html"
- "/docs/gitnamespaces/2.17.5/index.html"
- "/docs/gitnamespaces/2.17.6/index.html"
- "/docs/gitnamespaces/2.18.0/index.html"
- "/docs/gitnamespaces/2.18.1/index.html"
- "/docs/gitnamespaces/2.18.2/index.html"
- "/docs/gitnamespaces/2.18.3/index.html"
- "/docs/gitnamespaces/2.18.4/index.html"
- "/docs/gitnamespaces/2.18.5/index.html"
- "/docs/gitnamespaces/2.19.0/index.html"
- "/docs/gitnamespaces/2.19.1/index.html"
- "/docs/gitnamespaces/2.19.2/index.html"
- "/docs/gitnamespaces/2.19.3/index.html"
- "/docs/gitnamespaces/2.19.4/index.html"
- "/docs/gitnamespaces/2.19.5/index.html"
- "/docs/gitnamespaces/2.19.6/index.html"
- "/docs/gitnamespaces/2.20.0/index.html"
- "/docs/gitnamespaces/2.20.1/index.html"
- "/docs/gitnamespaces/2.20.2/index.html"
- "/docs/gitnamespaces/2.20.3/index.html"
- "/docs/gitnamespaces/2.20.4/index.html"
- "/docs/gitnamespaces/2.20.5/index.html"
- "/docs/gitnamespaces/2.21.0/index.html"
- "/docs/gitnamespaces/2.21.1/index.html"
- "/docs/gitnamespaces/2.21.2/index.html"
- "/docs/gitnamespaces/2.21.3/index.html"
- "/docs/gitnamespaces/2.21.4/index.html"
- "/docs/gitnamespaces/2.22.0/index.html"
- "/docs/gitnamespaces/2.22.1/index.html"
- "/docs/gitnamespaces/2.22.2/index.html"
- "/docs/gitnamespaces/2.22.3/index.html"
- "/docs/gitnamespaces/2.22.4/index.html"
- "/docs/gitnamespaces/2.22.5/index.html"
- "/docs/gitnamespaces/2.23.0/index.html"
- "/docs/gitnamespaces/2.23.1/index.html"
- "/docs/gitnamespaces/2.23.2/index.html"
- "/docs/gitnamespaces/2.23.3/index.html"
- "/docs/gitnamespaces/2.23.4/index.html"
- "/docs/gitnamespaces/2.24.0/index.html"
- "/docs/gitnamespaces/2.24.1/index.html"
- "/docs/gitnamespaces/2.24.2/index.html"
- "/docs/gitnamespaces/2.24.3/index.html"
- "/docs/gitnamespaces/2.24.4/index.html"
- "/docs/gitnamespaces/2.25.0/index.html"
- "/docs/gitnamespaces/2.25.1/index.html"
- "/docs/gitnamespaces/2.25.2/index.html"
- "/docs/gitnamespaces/2.25.3/index.html"
- "/docs/gitnamespaces/2.25.4/index.html"
- "/docs/gitnamespaces/2.25.5/index.html"
- "/docs/gitnamespaces/2.26.0/index.html"
- "/docs/gitnamespaces/2.26.1/index.html"
- "/docs/gitnamespaces/2.26.2/index.html"
- "/docs/gitnamespaces/2.26.3/index.html"
- "/docs/gitnamespaces/2.27.0/index.html"
- "/docs/gitnamespaces/2.27.1/index.html"
- "/docs/gitnamespaces/2.28.0/index.html"
- "/docs/gitnamespaces/2.28.1/index.html"
- "/docs/gitnamespaces/2.29.0/index.html"
- "/docs/gitnamespaces/2.29.1/index.html"
- "/docs/gitnamespaces/2.29.2/index.html"
- "/docs/gitnamespaces/2.29.3/index.html"
- "/docs/gitnamespaces/2.30.0/index.html"
- "/docs/gitnamespaces/2.30.1/index.html"
- "/docs/gitnamespaces/2.30.2/index.html"
- "/docs/gitnamespaces/2.30.3/index.html"
- "/docs/gitnamespaces/2.30.4/index.html"
- "/docs/gitnamespaces/2.30.5/index.html"
- "/docs/gitnamespaces/2.30.6/index.html"
- "/docs/gitnamespaces/2.30.7/index.html"
- "/docs/gitnamespaces/2.30.8/index.html"
- "/docs/gitnamespaces/2.30.9/index.html"
- "/docs/gitnamespaces/2.31.0/index.html"
- "/docs/gitnamespaces/2.31.1/index.html"
- "/docs/gitnamespaces/2.31.2/index.html"
- "/docs/gitnamespaces/2.31.3/index.html"
- "/docs/gitnamespaces/2.31.4/index.html"
- "/docs/gitnamespaces/2.31.5/index.html"
- "/docs/gitnamespaces/2.31.6/index.html"
- "/docs/gitnamespaces/2.31.7/index.html"
- "/docs/gitnamespaces/2.31.8/index.html"
---
<div class="sect1">
<h2 id="_name"><a class="anchor" href="#_name"></a>NAME</h2>
<div class="sectionbody">
<div class="paragraph">
<p>gitnamespaces - Git namespaces</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_synopsis"><a class="anchor" href="#_synopsis"></a>SYNOPSIS</h2>
<div class="sectionbody">
<div class="verseblock">
<pre class="content">GIT_NAMESPACE=&lt;namespace&gt; <em>git upload-pack</em>
GIT_NAMESPACE=&lt;namespace&gt; <em>git receive-pack</em></pre>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_description"><a class="anchor" href="#_description"></a>DESCRIPTION</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Git supports dividing the refs of a single repository into multiple
namespaces, each of which has its own branches, tags, and HEAD.  Git can
expose each namespace as an independent repository to pull from and push
to, while sharing the object store, and exposing all the refs to
operations such as <a href='{{< relurl "docs/git-gc" >}}'>git-gc[1]</a>.</p>
</div>
<div class="paragraph">
<p>Storing multiple repositories as namespaces of a single repository
avoids storing duplicate copies of the same objects, such as when
storing multiple branches of the same source.  The alternates mechanism
provides similar support for avoiding duplicates, but alternates do not
prevent duplication between new objects added to the repositories
without ongoing maintenance, while namespaces do.</p>
</div>
<div class="paragraph">
<p>To specify a namespace, set the <code>GIT_NAMESPACE</code> environment variable to
the namespace.  For each ref namespace, Git stores the corresponding
refs in a directory under <code>refs/namespaces/</code>.  For example,
<code>GIT_NAMESPACE=foo</code> will store refs under <code>refs/namespaces/foo/</code>.  You
can also specify namespaces via the <code>--namespace</code> option to
<a href='{{< relurl "docs/git" >}}'>git[1]</a>.</p>
</div>
<div class="paragraph">
<p>Note that namespaces which include a <code>/</code> will expand to a hierarchy of
namespaces; for example, <code>GIT_NAMESPACE=foo/bar</code> will store refs under
<code>refs/namespaces/foo/refs/namespaces/bar/</code>.  This makes paths in
<code>GIT_NAMESPACE</code> behave hierarchically, so that cloning with
<code>GIT_NAMESPACE=foo/bar</code> produces the same result as cloning with
<code>GIT_NAMESPACE=foo</code> and cloning from that repo with <code>GIT_NAMESPACE=bar</code>.  It
also avoids ambiguity with strange namespace paths such as <code>foo/refs/heads/</code>,
which could otherwise generate directory/file conflicts within the <code>refs</code>
directory.</p>
</div>
<div class="paragraph">
<p><a href='{{< relurl "docs/git-upload-pack" >}}'>git-upload-pack[1]</a> and <a href='{{< relurl "docs/git-receive-pack" >}}'>git-receive-pack[1]</a> rewrite the
names of refs as specified by <code>GIT_NAMESPACE</code>.  git-upload-pack and
git-receive-pack will ignore all references outside the specified
namespace.</p>
</div>
<div class="paragraph">
<p>The smart HTTP server, <a href='{{< relurl "docs/git-http-backend" >}}'>git-http-backend[1]</a>, will pass
GIT_NAMESPACE through to the backend programs; see
<a href='{{< relurl "docs/git-http-backend" >}}'>git-http-backend[1]</a> for sample configuration to expose
repository namespaces as repositories.</p>
</div>
<div class="paragraph">
<p>For a simple local test, you can use <a href='{{< relurl "docs/git-remote-ext" >}}'>git-remote-ext[1]</a>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>git clone ext::'git --namespace=foo %s /tmp/prefixed.git'</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_security"><a class="anchor" href="#_security"></a>SECURITY</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The fetch and push protocols are not designed to prevent one side from
stealing data from the other repository that was not intended to be
shared. If you have private data that you need to protect from a malicious
peer, your best option is to store it in another repository. This applies
to both clients and servers. In particular, namespaces on a server are not
effective for read access control; you should only grant read access to a
namespace to clients that you would trust with read access to the entire
repository.</p>
</div>
<div class="paragraph">
<p>The known attack vectors are as follows:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The victim sends "have" lines advertising the IDs of objects it has that
are not explicitly intended to be shared but can be used to optimize the
transfer if the peer also has them. The attacker chooses an object ID X
to steal and sends a ref to X, but isn&#8217;t required to send the content of
X because the victim already has it. Now the victim believes that the
attacker has X, and it sends the content of X back to the attacker
later. (This attack is most straightforward for a client to perform on a
server, by creating a ref to X in the namespace the client has access
to and then fetching it. The most likely way for a server to perform it
on a client is to "merge" X into a public branch and hope that the user
does additional work on this branch and pushes it back to the server
without noticing the merge.)</p>
</li>
<li>
<p>As in #1, the attacker chooses an object ID X to steal. The victim sends
an object Y that the attacker already has, and the attacker falsely
claims to have X and not Y, so the victim sends Y as a delta against X.
The delta reveals regions of X that are similar to Y to the attacker.</p>
</li>
</ol>
</div>
</div>
</div>