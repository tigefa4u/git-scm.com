---
### DO NOT EDIT! Generated by script/update-docs.rb

category: manual
section: documentation
subsection: manual
title: Git - git-checkout-index Documentation
docname: git-checkout-index
lang: zh_HANS-CN
aliases:
- "/docs/git-checkout-index/zh_HANS-CN/index.html"
---
<div class="sect1">
<h2 id="_名称"><a class="anchor" href="#_名称"></a>名称</h2>
<div class="sectionbody">
<div class="paragraph">
<p>git-checkout-index - 将文件从索引复制到工作目录树</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_概述"><a class="anchor" href="#_概述"></a>概述</h2>
<div class="sectionbody">
<div class="verseblock">
<pre class="content"><em>git checkout-index</em> [-u] [-q] [-a] [-f] [-n] [--prefix=&lt;字符串&gt;]
		   [--stage=&lt;数字&gt;|all]
		   [--temp]
		   [--ignore-skip-worktree-bits]
		   [-z] [--stdin]
		   [--] [&lt;文件&gt;&#8230;&#8203;]</pre>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_描述"><a class="anchor" href="#_描述"></a>描述</h2>
<div class="sectionbody">
<div class="paragraph">
<p>将索引中列出的所有文件复制到工作目录（不会覆盖现有文件）。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_选项"><a class="anchor" href="#_选项"></a>选项</h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1" id="git-checkout-index--u"> <a class="anchor" href="#git-checkout-index--u"></a>-u </dt>
<dt class="hdlist1" id="git-checkout-index---index"> <a class="anchor" href="#git-checkout-index---index"></a>--index </dt>
<dd>
<p>更新索引文件中已签出条目的统计信息。</p>
</dd>
<dt class="hdlist1" id="git-checkout-index--q"> <a class="anchor" href="#git-checkout-index--q"></a>-q </dt>
<dt class="hdlist1" id="git-checkout-index---quiet"> <a class="anchor" href="#git-checkout-index---quiet"></a>--quiet </dt>
<dd>
<p>如果文件存在或不在索引中，则保持安静</p>
</dd>
<dt class="hdlist1" id="git-checkout-index--f"> <a class="anchor" href="#git-checkout-index--f"></a>-f </dt>
<dt class="hdlist1" id="git-checkout-index---force"> <a class="anchor" href="#git-checkout-index---force"></a>--force </dt>
<dd>
<p>强制覆盖现有文件</p>
</dd>
<dt class="hdlist1" id="git-checkout-index--a"> <a class="anchor" href="#git-checkout-index--a"></a>-a </dt>
<dt class="hdlist1" id="git-checkout-index---all"> <a class="anchor" href="#git-checkout-index---all"></a>--all </dt>
<dd>
<p>检查索引中的所有文件，但设置了跳过工作树位的文件除外（参见 <code>--ignore-skip-worktree-bits</code>）。 不能与显式文件名一起使用。</p>
</dd>
<dt class="hdlist1" id="git-checkout-index--n"> <a class="anchor" href="#git-checkout-index--n"></a>-n </dt>
<dt class="hdlist1" id="git-checkout-index---no-create"> <a class="anchor" href="#git-checkout-index---no-create"></a>--no-create </dt>
<dd>
<p>不签出新文件，只刷新已签出的文件。</p>
</dd>
<dt class="hdlist1" id="git-checkout-index---prefixltgt"> <a class="anchor" href="#git-checkout-index---prefixltgt"></a>--prefix=&lt;字符串&gt; </dt>
<dd>
<p>创建文件时，预输入 &lt;字符串&gt;（通常是目录，包括尾部的 /）</p>
</dd>
<dt class="hdlist1" id="git-checkout-index---stageltgtall"> <a class="anchor" href="#git-checkout-index---stageltgtall"></a>--stage=&lt;数量&gt;|all </dt>
<dd>
<p>不检查未合并的条目，而是从命名的阶段复制出文件。 &lt;数字&gt; 必须介于 1 和 3 之间。 注意：--stage=all 自动隐含 --temp。</p>
</dd>
<dt class="hdlist1" id="git-checkout-index---temp"> <a class="anchor" href="#git-checkout-index---temp"></a>--temp </dt>
<dd>
<p>与其将文件复制到工作目录，不如将内容写入临时文件。 临时名称关联将写入标准输出流。</p>
</dd>
<dt class="hdlist1" id="git-checkout-index---ignore-skip-worktree-bits"> <a class="anchor" href="#git-checkout-index---ignore-skip-worktree-bits"></a>--ignore-skip-worktree-bits </dt>
<dd>
<p>检查所有文件，包括设置了跳过工作树位的文件。</p>
</dd>
<dt class="hdlist1" id="git-checkout-index---stdin"> <a class="anchor" href="#git-checkout-index---stdin"></a>--stdin </dt>
<dd>
<p>不从命令行中获取路径列表，而是从标准输入中读取路径列表。 默认情况下，路径之间用 LF 分隔（即每行一个路径）。</p>
</dd>
<dt class="hdlist1" id="git-checkout-index--z"> <a class="anchor" href="#git-checkout-index--z"></a>-z </dt>
<dd>
<p>只对 <code>--stdin</code> 有意义；路径用 NUL 字符分隔，而不用 LF。</p>
</dd>
<dt class="hdlist1" id="git-checkout-index---"> <a class="anchor" href="#git-checkout-index---"></a>-- </dt>
<dd>
<p>不将之后的参数解释为选项。</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>标志的顺序曾经很重要，但现在已经不重要了。</p>
</div>
<div class="paragraph">
<p>只做 <code>git checkout-index`什么也做不了。你可能是指 `git checkout-index -a</code>。如果你想强制执行，就需要 <code>git checkout-index -f -a</code>。</p>
</div>
<div class="paragraph">
<p>直观性不是目的。可重复性才是。“没有参数就意味着没有工作” 这一行为的原因是，脚本应该能够实现以下功能：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ find . -name '*.h' -print0 | xargs -0 git checkout-index -f --</pre>
</div>
</div>
<div class="paragraph">
<p>会强制将所有现有的 <code>*.h</code> 文件替换为其缓存副本。如果空命令行意味着 "all"，那么这将强制刷新索引中的所有内容，而这并不是重点。 但由于 "git checkout-index" 接受 --stdin，因此使用起来会更快：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ find . -name '*.h' -print0 | git checkout-index -f -z --stdin</pre>
</div>
</div>
<div class="paragraph">
<p>当你知道其余的都是文件名时，<code>--</code> 是一个好主意；它可以防止出现文件名为 <code>-a</code> 的问题。 在脚本中使用 <code>--</code> 可能是个好主意。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_使用_temp_或_stageall"><a class="anchor" href="#_使用_temp_或_stageall"></a>使用 --temp 或 --stage=all</h2>
<div class="sectionbody">
<div class="paragraph">
<p>当使用了 <code>--temp</code>（或由 `--stage=all`隐含）时，"git checkout-index" 将为每个被检出的索引条目创建一个临时文件。 索引不会更新统计信息。 如果调用者需要所有未合并条目的所有阶段，以便外部合并工具可以处理这些未合并文件，那么这些选项会很有用。</p>
</div>
<div class="paragraph">
<p>将向标准输出流写入一个列表，提供临时文件名与跟踪路径名之间的关联。 列表格式有两种：</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>临时名称 TAB 路径 RS</p>
<div class="paragraph">
<p>语类型：纯文本 第一种格式是省略 <code>--stage</code> 或不使用 <code>--stage=all</code> 时使用的格式。字段临时名称是保存文件内容的临时文件名，路劲是索引中的跟踪路径名。 只输出所请求的条目。</p>
</div>
</li>
<li>
<p>阶段一缓存 SP 阶段二缓存 SP 阶段三缓存 TAB 路径 RS</p>
<div class="paragraph">
<p>第二种格式是在 <code>--stage=all</code> 时使用的格式。 如果索引中有阶段条目，三个阶段临时字段（阶段一缓存、阶段二缓存、阶段三换粗）会列出临时文件的名称；如果没有阶段条目，则会列出 <code>.</code>。 只有阶段 0 条目的路径将始终从输出中省略。</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>在这两种格式中，RS（记录分隔符）默认都是换行符，但如果在命令行中输入了 -z，RS（记录分隔符）就会变成空字节。 临时文件名始终是安全字符串，绝不包含目录分隔符或空白字符。 路径字段始终相对于当前目录，临时文件名始终相对于顶层目录。</p>
</div>
<div class="paragraph">
<p>如果被复制到临时文件中的对象是一个符号链接，那么该链接的内容将被写入一个普通文件。 最终用户或 Porcelain 可自行决定是否使用这些信息。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_实例"><a class="anchor" href="#_实例"></a>实例</h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1" id="git-checkout-index-"> <a class="anchor" href="#git-checkout-index-"></a>只更新和刷新已签出的文件 </dt>
<dd>
<div class="listingblock">
<div class="content">
<pre>$ git checkout-index -n -f -a &amp;&amp; git update-index --ignore-missing --refresh</pre>
</div>
</div>
</dd>
<dt class="hdlist1" id="git-checkout-index-emgitcheckout-indexem"> <a class="anchor" href="#git-checkout-index-emgitcheckout-indexem"></a>使用 <em>git checkout-index</em> 来 “导出整棵目录树” </dt>
<dd>
<p>有了前缀功能，使用 <em>git checkout-index</em> 作为 “导出为目录树” 功能就变得易如反掌了。 只需将所需的目录树读入索引，然后执行即可：</p>
<div class="listingblock">
<div class="content">
<pre>$ git checkout-index --prefix=git-export-dir/ -a</pre>
</div>
</div>
<div class="paragraph">
<p><code>git checkout-index</code> 会将索引 “导出” 到指定目录。</p>
</div>
<div class="paragraph">
<p>最后的 "/" 很重要。导出的名称实际上只是指定字符串的前缀。 这与下面的示例形成鲜明对比。</p>
</div>
</dd>
<dt class="hdlist1" id="git-checkout-index--1"> <a class="anchor" href="#git-checkout-index--1"></a>导出带前缀的文件 </dt>
<dd>
<div class="listingblock">
<div class="content">
<pre>$ git checkout-index --prefix=.merged- Makefile</pre>
</div>
</div>
<div class="paragraph">
<p>这将把当前缓存的 <code>Makefile</code> 副本签出到文件 <code>.merged-Makefile</code> 中。</p>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_git"><a class="anchor" href="#_git"></a>GIT</h2>
<div class="sectionbody">
<div class="paragraph">
<p>属于 <a href='{{< relurl "docs/git/zh_HANS-CN" >}}'>git[1]</a> 文档</p>
</div>
</div>
</div>