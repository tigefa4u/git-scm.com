---
### DO NOT EDIT! Generated by script/update-docs.rb

category: manual
section: documentation
subsection: manual
title: Git - git-name-rev Documentation
docname: git-name-rev
lang: zh_HANS-CN
aliases:
- "/docs/git-name-rev/zh_HANS-CN/index.html"
---
<div class="sect1">
<h2 id="_名称"><a class="anchor" href="#_名称"></a>名称</h2>
<div class="sectionbody">
<div class="paragraph">
<p>git-name-rev - 为给定的 rev 查找符号名称</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_概述"><a class="anchor" href="#_概述"></a>概述</h2>
<div class="sectionbody">
<div class="verseblock">
<pre class="content"><em>git name-rev</em> [--tags] [--refs=&lt;模式&gt;]
	       ( --all | --annotate-stdin | &lt;提交号&gt;&#8230;&#8203; )</pre>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_描述"><a class="anchor" href="#_描述"></a>描述</h2>
<div class="sectionbody">
<div class="paragraph">
<p>查找适合人类理解的符号名称，这些名称是以 <em>git rev-parse</em> 可解析的任何格式给出的修订。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_选项"><a class="anchor" href="#_选项"></a>选项</h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1" id="git-name-rev---tags"> <a class="anchor" href="#git-name-rev---tags"></a>--tags </dt>
<dd>
<p>不要使用分支名称，只用标签来命名提交内容</p>
</dd>
<dt class="hdlist1" id="git-name-rev---refsltgt"> <a class="anchor" href="#git-name-rev---refsltgt"></a>--refs=&lt;模式&gt; </dt>
<dd>
<p>只使用名称符合给定 shell 模式的引用。 该模式可以是分支名称、标记名称或完全限定的引用名称。如果多次给定，则使用名称符合任何给定 shell 模式的引用。使用 <code>--no-refs</code> 可清除之前给出的任何引用模式。</p>
</dd>
<dt class="hdlist1" id="git-name-rev---excludeltgt"> <a class="anchor" href="#git-name-rev---excludeltgt"></a>--exclude=&lt;模式&gt; </dt>
<dd>
<p>不要使用其名称与给定的壳模式相匹配的任何引用。该模式可以是分支名称、标签名称或完全合格的引用名称之一。如果多次给定，当一个引用与任何给定的模式匹配时，它将被排除。当与 --refs 一起使用时，只有当一个引用至少与一个 --refs 模式相匹配，并且不与任何 --exclude 模式相匹配时，才会被用作匹配。使用 <code>--no-exclude</code> 来清除排除模式的列表。</p>
</dd>
<dt class="hdlist1" id="git-name-rev---all"> <a class="anchor" href="#git-name-rev---all"></a>--all </dt>
<dd>
<p>列出所有引用所可达的所有提交</p>
</dd>
<dt class="hdlist1" id="git-name-rev---annotate-stdin"> <a class="anchor" href="#git-name-rev---annotate-stdin"></a>--annotate-stdin </dt>
<dd>
<p>通过用 "$hex ($rev_name)" 替换所有 40 个字符的 SHA-1 六位数（比如 $hex）来转换标准输入。 当与 --name-only 一起使用时，用 "$rev_name" 替代，完全省略 $hex。这个选项在旧版本的 Git 中被称为 <code>--stdin</code>。</p>
<div class="paragraph">
<p>例如：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ cat sample.txt

缩写版本 2ae0a9cb82 不会被替换。
替换后的全名是 2ae0a9cb8298185a94e5998086f380a355dd8907，
而其目录树对象是 70d105cc79e63b81cfdcb08a15297c23e60b07ad

$ git name-rev --annotate-stdin &lt;sample.txt

缩写版本 2ae0a9cb82 不会被替换。
替换后的全名是 2ae0a9cb8298185a94e5998086f380a355dd8907（master），
而其目录树对象是 70d105cc79e63b81cfdcb08a15297c23e60b07ad

$ git name-rev --name-only --annotate-stdin &lt;sample.txt

缩写版本 2ae0a9cb82 不会被替换。
替换后的全名是 master，
而其目录树对象是 70d105cc79e63b81cfdcb08a15297c23e60b07ad</pre>
</div>
</div>
</dd>
<dt class="hdlist1" id="git-name-rev---name-only"> <a class="anchor" href="#git-name-rev---name-only"></a>--name-only </dt>
<dd>
<p>不要同时打印 SHA-1 和名字，而只打印名字。 如果给与 --tags 选项，通常的标签前缀 "tags/" 也会从名称中省略，与 <code>git-describe</code> 的输出更接近。</p>
</dd>
<dt class="hdlist1" id="git-name-rev---no-undefined"> <a class="anchor" href="#git-name-rev---no-undefined"></a>--no-undefined </dt>
<dd>
<p>当一个引用未被定义时，以错误代码不为 0 的方式退出，而不是打印 <code>undefined</code>。</p>
</dd>
<dt class="hdlist1" id="git-name-rev---always"> <a class="anchor" href="#git-name-rev---always"></a>--always </dt>
<dd>
<p>显示唯一缩写的提交对象作为后备。</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_实例"><a class="anchor" href="#_实例"></a>实例</h2>
<div class="sectionbody">
<div class="paragraph">
<p>给出一个提交，找出它在本地引用中的相对位置。假设有人给你写了关于 33db5f4d9027a10e477ccf054b2c1ab94f74c85a 的精彩提交。 当然，你会去查这个提交，但这只能告诉你发生了什么，但不能告诉你背景。</p>
</div>
<div class="paragraph">
<p>输入 <em>git name-rev</em>：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>% git name-rev 33db5f4d9027a10e477ccf054b2c1ab94f74c85a
33db5f4d9027a10e477ccf054b2c1ab94f74c85a tags/v0.99~940</pre>
</div>
</div>
<div class="paragraph">
<p>现在你更聪明了，因为你知道它发生在 v0.99 之前的 940 次修订。</p>
</div>
<div class="paragraph">
<p>你可以做的另一件好事是：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>% git log | git name-rev --annotate-stdin</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_git"><a class="anchor" href="#_git"></a>GIT</h2>
<div class="sectionbody">
<div class="paragraph">
<p>属于 <a href='{{< relurl "docs/git/zh_HANS-CN" >}}'>git[1]</a> 文档</p>
</div>
</div>
</div>