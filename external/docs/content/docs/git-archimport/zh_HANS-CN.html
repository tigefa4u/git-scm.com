---
### DO NOT EDIT! Generated by script/update-docs.rb

category: manual
section: documentation
subsection: manual
title: Git - git-archimport Documentation
docname: git-archimport
lang: zh_HANS-CN
aliases:
- "/docs/git-archimport/zh_HANS-CN/index.html"
---
<div class="sect1">
<h2 id="_名称"><a class="anchor" href="#_名称"></a>名称</h2>
<div class="sectionbody">
<div class="paragraph">
<p>git-archimport - 将 GNU Arch 仓库导入 Git 中</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_概述"><a class="anchor" href="#_概述"></a>概述</h2>
<div class="sectionbody">
<div class="verseblock">
<pre class="content"><em>git archimport</em> [-h] [-v] [-o] [-a] [-f] [-T] [-D &lt;深度&gt;] [-t &lt;缓存目录&gt;]
	       &lt;归档&gt;/&lt;分支&gt;[:&lt;git 分支&gt;]&#8230;&#8203;</pre>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_描述"><a class="anchor" href="#_描述"></a>描述</h2>
<div class="sectionbody">
<div class="paragraph">
<p>从一个或多个 GNU Arch 仓库导入一个项目。 它将在所提供的 &lt;归档&gt;/&lt;分支&gt; 参数所定义的命名空间内跟踪分支和仓库。如果它找不到合并后的远程分支，就会把它作为一个普通的提交导入。如果它能找到它，它会尽可能地将其标记为合并（见下面的讨论）。</p>
</div>
<div class="paragraph">
<p>该脚本希望你提供关键的根目录，它可以从 <em>initial</em> 或 <em>tag</em> 类型的 Arch 提交开始导入。它将跟踪并导入所提供的根目录下的新分支。</p>
</div>
<div class="paragraph">
<p>它希望只处理一个项目。如果它看到有不同根目录的分支，它将拒绝运行。在这种情况下，编辑你的 &lt;归档&gt;/&lt;分支&gt; 参数，以明确定义导入的范围。</p>
</div>
<div class="paragraph">
<p><em>git archimport</em> 在后台广泛使用 <code>tla</code> 来访问 Arch 仓库。 确保你的路径中有一个最新版本的 <code>tla</code>。<code>tla</code> 必须知道你传递给 <em>git archimport</em> 的仓库。</p>
</div>
<div class="paragraph">
<p>对于初始导入，<em>git archimport</em> 希望能在一个空目录中找到自己。要跟踪一个使用 Arch 的项目的发展，重新运行 <em>git archimport</em>，参数与初始导入相同，以执行增量导入。</p>
</div>
<div class="paragraph">
<p>虽然 <em>git archimport</em> 会尝试为它导入的档案创建合理的分支名，但也可以手动指定 Git 分支名。 要做到这一点，在每个 &lt;归档&gt;/&lt;分支&gt; 参数后面写一个 Git 分支名，用冒号隔开。 这样，你可以缩短 Arch 分支的名称，并将 Arch 的行话转换成 Git 的行话，例如将 "PROJECT&#x2d;&#x2d;devo&#x2d;&#x2d;VERSION" 分支映射为 "master"。</p>
</div>
<div class="paragraph">
<p>将多个 Arch 分支关联到一个 Git 分支是可能的；只有在创建第二个分支后没有向第一个分支提交的情况下，其结果才是最合理的。 不过，这对于转换定期轮换的 Arch 仓库还是很有用的。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_合并"><a class="anchor" href="#_合并"></a>合并</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Arch 的补丁合并数据在 Git 中也被用来标记合并。Git 并不关心对补丁的追踪，只有当一个分支包含了自分叉点以来的所有提交时，才会考虑合并。最终的结果是，Git 会很好地了解分支的分歧程度。所以导入过程确实会丢失一些补丁交易的元数据。</p>
</div>
<div class="paragraph">
<p>幸运的是，当你尝试合并从 Arch 导入的分支时，Git 会找到一个好的合并基础，而且它有很大的机会识别出在分支之间被交易的不符合顺序的补丁。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_选项"><a class="anchor" href="#_选项"></a>选项</h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1" id="git-archimport--h"> <a class="anchor" href="#git-archimport--h"></a>-h </dt>
<dd>
<p>显示用途。</p>
</dd>
<dt class="hdlist1" id="git-archimport--v"> <a class="anchor" href="#git-archimport--v"></a>-v </dt>
<dd>
<p>详细输出。</p>
</dd>
<dt class="hdlist1" id="git-archimport--T"> <a class="anchor" href="#git-archimport--T"></a>-T </dt>
<dd>
<p>多标签。将为每个提交创建一个标签，反映 Arch 库中的提交名称。</p>
</dd>
<dt class="hdlist1" id="git-archimport--f"> <a class="anchor" href="#git-archimport--f"></a>-f </dt>
<dd>
<p>使用快速补丁集导入策略。 这对大目录树来说可以明显加快，但不能处理目录重名或权限变化。 默认策略是缓慢而安全的。</p>
</dd>
<dt class="hdlist1" id="git-archimport--o"> <a class="anchor" href="#git-archimport--o"></a>-o </dt>
<dd>
<p>为了与早期版本的 <em>git archimport</em> 所使用的旧式分支名兼容，使用这个名字。 旧式的分支名是 category&#x2d;&#x2d;branch，而新式的分支名是 archive,category&#x2d;&#x2d;branch&#x2d;&#x2d;version。 在这两种情况下，在命令行中给出的名字将覆盖自动生成的名字。</p>
</dd>
<dt class="hdlist1" id="git-archimport--Dltgt"> <a class="anchor" href="#git-archimport--Dltgt"></a>-D &lt;深度&gt; </dt>
<dd>
<p>遵循合并的祖先，并尝试导入已经合并的目录树。 如果补丁日志已经被修剪，则指定一个大于 1 的深度。</p>
</dd>
<dt class="hdlist1" id="git-archimport--a"> <a class="anchor" href="#git-archimport--a"></a>-a </dt>
<dd>
<p>尝试在 <code>http://mirrors.sourcecontrol.net</code> 上自动注册档案，这在 -D 选项下特别有用。</p>
</dd>
<dt class="hdlist1" id="git-archimport--tltgt"> <a class="anchor" href="#git-archimport--tltgt"></a>-t &lt;缓存目录&gt; </dt>
<dd>
<p>重写默认缓存目录。</p>
</dd>
<dt class="hdlist1" id="git-archimport-ltgtltgt"> <a class="anchor" href="#git-archimport-ltgtltgt"></a>&lt;归档&gt;/&lt;分支&gt; </dt>
<dd>
<p>&lt;归档&gt;/&lt;分支&gt; 标识符的格式是 <code>tla log</code> 能理解的。</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_git"><a class="anchor" href="#_git"></a>GIT</h2>
<div class="sectionbody">
<div class="paragraph">
<p>属于 <a href='{{< relurl "docs/git/zh_HANS-CN" >}}'>git[1]</a> 文档</p>
</div>
</div>
</div>