---
### DO NOT EDIT! Generated by script/update-docs.rb

category: manual
section: documentation
subsection: manual
title: Git - git-shell Documentation
docname: git-shell
lang: pt_BR
aliases:
- "/docs/git-shell/pt_BR/index.html"
---
<div class="sect1">
<h2 id="_nome"><a class="anchor" href="#_nome"></a>NOME</h2>
<div class="sectionbody">
<div class="paragraph">
<p>git-shell - Shell de login restrito para acesso SSH, apenas para o Git</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resumo"><a class="anchor" href="#_resumo"></a>RESUMO</h2>
<div class="sectionbody">
<div class="verseblock">
<pre class="content"><em>chsh</em> -s $(command -v git-shell) &lt;usuário&gt;
<em>git clone</em> &lt;usuário&gt;<code>@localhost:/path/to/repo.git</code>
<em>ssh</em> &lt;usuário&gt;<code>@localhost</code></pre>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_descrição"><a class="anchor" href="#_descrição"></a>DESCRIÇÃO</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Esse é um shell de login para contas SSH para fornecer acesso restrito ao Git. Ele permite a execução apenas de comandos Git do lado do servidor que implementam a funcionalidade pull/push, além de comandos personalizados presentes num subdiretório chamado <code>git-shell-commands</code> no diretório inicial do usuário.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comandos"><a class="anchor" href="#_comandos"></a>COMANDOS</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>git shell</em> aceita os seguintes comandos após a opção <code>-c</code>:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1" id="git-shell-emgitreceive-packltargumentogtem"> <a class="anchor" href="#git-shell-emgitreceive-packltargumentogtem"></a><em>git receive-pack &lt;argumento&gt;</em> </dt>
<dt class="hdlist1" id="git-shell-emgitupload-packltargumentogtem"> <a class="anchor" href="#git-shell-emgitupload-packltargumentogtem"></a><em>git upload-pack &lt;argumento&gt;</em> </dt>
<dt class="hdlist1" id="git-shell-emgitupload-archiveltargumentogtem"> <a class="anchor" href="#git-shell-emgitupload-archiveltargumentogtem"></a><em>git upload-archive &lt;argumento&gt;</em> </dt>
<dd>
<p>Chame o comando correspondente do lado do servidor para apoiar a solicitação do comando <em>git push</em>, <em>git fetch</em> ou <em>git archive --remote</em> do cliente.</p>
</dd>
<dt class="hdlist1" id="git-shell-emcvsserverem"> <a class="anchor" href="#git-shell-emcvsserverem"></a><em>cvs server</em> </dt>
<dd>
<p>Imita um servidor CVS. Consulte <a href='{{< relurl "docs/git-cvsserver/pt_BR" >}}'>git-cvsserver[1]</a>.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Caso um diretório <code>~/git-shell-command</code> estiver presente, o comando <em>git shell</em> também manipulará outros comandos personalizados executando "<code>git-shell-commands/&lt;comando&gt; &lt;argumentos&gt;</code>" no diretório inicial do usuário.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_uso_interativo"><a class="anchor" href="#_uso_interativo"></a>USO INTERATIVO</h2>
<div class="sectionbody">
<div class="paragraph">
<p>É predefinido que os comandos acima possam ser executados apenas com a opção <code>-c</code>; o shell não é interativo.</p>
</div>
<div class="paragraph">
<p>Se um diretório <code>~/git-shell-commands</code> estiver presente, o comando <em>git shell</em> também poderá ser executado interativamente (sem argumentos). Se um comando <code>help</code> estiver presente no diretório <code>git-shell-commands</code>, ele será executado para fornecer ao usuário uma visão geral das ações permitidas. Em seguida, é apresentado um prompt "git&gt; " onde é possível digitar qualquer um dos comandos do diretório <code>git-shell-commands</code> ou <code>exit</code> para encerrar a conexão.</p>
</div>
<div class="paragraph">
<p>Em geral, este modo é utilizado como uma interface administrativa para permitir que os usuários listem os repositórios dos quais eles têm acesso para, criar, excluir ou renomear os repositórios ou alterar as descrições e permissões do mesmo.</p>
</div>
<div class="paragraph">
<p>Caso um comando <code>no-interactive-login</code> existir, ele será executado e o shell interativo será abortado.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_exemplos"><a class="anchor" href="#_exemplos"></a>EXEMPLOS</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Para desativar os logins interativos, exibindo uma saudação:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ chsh -s /usr/bin/git-shell
$ mkdir $HOME/git-shell-commands
$ cat &gt;$HOME/git-shell-commands/no-interactive-login &lt;&lt;\EOF
#!/bin/sh
printf '%s\n' "Olá $USER! Você se autenticou com sucesso, porém eu não"
printf '%s\n' "forneço um acesso interativo ao shell."
exit 128
EOF
$ chmod +x $HOME/git-shell-commands/no-interactive-login</pre>
</div>
</div>
<div class="paragraph">
<p>Para ativar o acesso ao git-cvsserver (que geralmente deve ter o exemplo <code>no-interactive-login</code> acima como pré-requisito, pois a criação do diretório git-shell-commands permite logins interativos):</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ cat &gt;$HOME/git-shell-commands/cvs &lt;&lt;\EOF
if ! test $# = 1 &amp;&amp; test "$1" = "server"
then
	echo &gt;&amp;2 "git-cvsserver lida apenas com \"server\""
	exit 1
fi
exec git cvsserver server
EOF
$ chmod +x $HOME/git-shell-commands/cvs</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_veja_também"><a class="anchor" href="#_veja_também"></a>VEJA TAMBÉM</h2>
<div class="sectionbody">
<div class="paragraph">
<p>ssh(1), <a href='{{< relurl "docs/git-daemon/pt_BR" >}}'>git-daemon[1]</a>, contrib/git-shell-commands/README</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_git"><a class="anchor" href="#_git"></a>GIT</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Parte do conjunto <a href='{{< relurl "docs/git/pt_BR" >}}'>git[1]</a></p>
</div>
</div>
</div>