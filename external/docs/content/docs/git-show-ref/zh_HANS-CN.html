---
### DO NOT EDIT! Generated by script/update-docs.rb

category: manual
section: documentation
subsection: manual
title: Git - git-show-ref Documentation
docname: git-show-ref
lang: zh_HANS-CN
aliases:
- "/docs/git-show-ref/zh_HANS-CN/index.html"
---
<div class="sect1">
<h2 id="_名称"><a class="anchor" href="#_名称"></a>名称</h2>
<div class="sectionbody">
<div class="paragraph">
<p>git-show-ref - 列出本地仓库中的引用</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_概述"><a class="anchor" href="#_概述"></a>概述</h2>
<div class="sectionbody">
<div class="verseblock">
<pre class="content"><em>git show-ref</em> [--head] [-d | --dereference]
	     [-s | --hash[=&lt;n&gt;]] [--abbrev[=&lt;n&gt;]] [--branches] [--tags]
	     [--] [&lt;pattern&gt;&#8230;&#8203;]
<em>git show-ref</em> --verify [-q | --quiet] [-d | --dereference]
	     [-s | --hash[=&lt;n&gt;]] [--abbrev[=&lt;n&gt;]]
	     [--] [&lt;ref&gt;&#8230;&#8203;]
<em>git show-ref</em> --exclude-existing[=&lt;pattern&gt;]
<em>git show-ref</em> --exists &lt;ref&gt;</pre>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_描述"><a class="anchor" href="#_描述"></a>描述</h2>
<div class="sectionbody">
<div class="paragraph">
<p>显示本地仓库中可用的引用以及相关的提交 ID。可使用模式对结果进行过滤，并将标记反引用到对象 ID 中。此外，它还可用于测试特定引用是否存在。</p>
</div>
<div class="paragraph">
<p>默认情况下，显示标签、标题和远程引用。</p>
</div>
<div class="paragraph">
<p><code>--exclude-existing</code> 表单是一个反向过滤器。它从标准输入流中读取引用，每行一个引用，并显示那些不存在于本地仓库中的引用。</p>
</div>
<div class="paragraph">
<p><code>--exists</code> 表单可用于检查单个引用是否存在。此表单不会验证引用是否解析到实际对象。</p>
</div>
<div class="paragraph">
<p>我们鼓励使用该工具，而不是直接访问 <code>.git</code> 目录下的文件。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_选项"><a class="anchor" href="#_选项"></a>选项</h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1" id="git-show-ref---head"> <a class="anchor" href="#git-show-ref---head"></a>--head </dt>
<dd>
<p>显示 HEAD 参考，即使它通常会被过滤掉。</p>
</dd>
<dt class="hdlist1" id="git-show-ref---branches"> <a class="anchor" href="#git-show-ref---branches"></a>--branches </dt>
<dt class="hdlist1" id="git-show-ref---tags"> <a class="anchor" href="#git-show-ref---tags"></a>--tags </dt>
<dd>
<p>Limit to local branches and local tags, respectively. These options are not mutually exclusive; when given both, references stored in "refs/heads" and "refs/tags" are displayed. Note that <code>--heads</code> is a deprecated synonym for <code>--branches</code> and may be removed in the future.</p>
</dd>
<dt class="hdlist1" id="git-show-ref--d"> <a class="anchor" href="#git-show-ref--d"></a>-d </dt>
<dt class="hdlist1" id="git-show-ref---dereference"> <a class="anchor" href="#git-show-ref---dereference"></a>--dereference </dt>
<dd>
<p>也可将引用标记转换为对象 ID。它们将以 <code>^{}</code> 的形式显示。</p>
</dd>
<dt class="hdlist1" id="git-show-ref--s"> <a class="anchor" href="#git-show-ref--s"></a>-s </dt>
<dt class="hdlist1" id="git-show-ref---hashltngt"> <a class="anchor" href="#git-show-ref---hashltngt"></a>--hash[=&lt;n&gt;] </dt>
<dd>
<p>只显示 OID（对象 ID），不显示引用名称。与 <code>--dereference</code> 结合使用时，在 OID 之后仍将显示取消引用的标记。</p>
</dd>
<dt class="hdlist1" id="git-show-ref---verify"> <a class="anchor" href="#git-show-ref---verify"></a>--verify </dt>
<dd>
<p>通过要求精确的引用路径，启用更严格的引用检查。 除返回错误代码 1 外，如果未指定 <code>--quiet</code> ，还会打印错误信息。</p>
</dd>
<dt class="hdlist1" id="git-show-ref---exists"> <a class="anchor" href="#git-show-ref---exists"></a>--exists </dt>
<dd>
<p>检查给定的引用是否存在。如果存在，则返回 0 的退出代码；如果不存在，则返回 2 的退出代码；如果查找引用失败，则返回 1 的退出代码。</p>
</dd>
<dt class="hdlist1" id="git-show-ref---abbrevltngt"> <a class="anchor" href="#git-show-ref---abbrevltngt"></a>--abbrev[=&lt;n&gt;] </dt>
<dd>
<p>缩写对象名称。 使用 <code>--hash</code> 时，不必说 <code>--hash --abbrev</code> ; <code>--hash=n</code> 也可以。</p>
</dd>
<dt class="hdlist1" id="git-show-ref--q"> <a class="anchor" href="#git-show-ref--q"></a>-q </dt>
<dt class="hdlist1" id="git-show-ref---quiet"> <a class="anchor" href="#git-show-ref---quiet"></a>--quiet </dt>
<dd>
<p>不向标准输出流打印任何结果。可与 <code>--verify</code> 一起使用，静默检查引用是否存在。</p>
</dd>
<dt class="hdlist1" id="git-show-ref---exclude-existingltgt"> <a class="anchor" href="#git-show-ref---exclude-existingltgt"></a>--exclude-existing[=&lt;模式&gt;] </dt>
<dd>
<p>让 <code>git show-ref</code> 成为一个过滤器，从标准输入流中读取格式为 <code>^(?:&lt;任何东西&gt;\s)?&lt;引用名称&gt;(?:\^{})?$</code> 的多个引用，并对每个引用执行以下操作：
(1) 如果行末有 <code>^{}</code> ，则在行末去掉 <code>^{}</code>；
(2) 如果提供的模式与引用名称不匹配，则忽略；
(3) 如果引用名不是格式正确的引用名，则警告并跳过；
(4) 如果引用名称是本地仓库中存在的引用，则忽略；
(5) 否则输出该行。</p>
</dd>
<dt class="hdlist1" id="git-show-ref-ltgt82308203"> <a class="anchor" href="#git-show-ref-ltgt82308203"></a>&lt;模式&gt;&#8230;&#8203; </dt>
<dd>
<p>显示与一个或多个模式匹配的引用。模式从全名末尾开始匹配，只匹配完整的部分，例如，<em>master</em> 匹配 <em>refs/heads/master</em>、 <em>refs/remotes/origin/master</em>、 <em>refs/tags/jedi/master</em>，但不匹配 <em>refs/heads/mymaster</em> 或 <em>refs/remotes/master/jedi</em>。</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_输出"><a class="anchor" href="#_输出"></a>输出</h2>
<div class="sectionbody">
<div class="paragraph">
<p>输出格式为：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>&lt;oid&gt; SP &lt;引用&gt; LF</pre>
</div>
</div>
<div class="paragraph">
<p>例如，</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ git show-ref --head --dereference
832e76a9899f560a90ffd62ae2ce83bbeff58f54 HEAD
832e76a9899f560a90ffd62ae2ce83bbeff58f54 refs/heads/master
832e76a9899f560a90ffd62ae2ce83bbeff58f54 refs/heads/origin
3521017556c5de4159da4615a39fa4d5d2c279b5 refs/tags/v0.99.9c
6ddc0964034342519a87fe013781abf31c6db6ad refs/tags/v0.99.9c^{}
055e4ae3ae6eb344cbabf2a5256a49ea66040131 refs/tags/v1.0rc4
423325a2d24638ddcc82ce47be5e40be550f4507 refs/tags/v1.0rc4^{}
...</pre>
</div>
</div>
<div class="paragraph">
<p>使用 <code>--hash</code>（而不是 <code>--dereference</code>）选项时，输出格式为：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>&lt;对象 ID&gt; LF</pre>
</div>
</div>
<div class="paragraph">
<p>例如，</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ git show-ref --branches --hash
2e3ba0114a1f52b47df29743d6915d056be13278
185008ae97960c8d551adcd9e23565194651b5d1
03adf42c988195b50e1a1935ba5fcbc39b2b029b
...</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_实例"><a class="anchor" href="#_实例"></a>实例</h2>
<div class="sectionbody">
<div class="paragraph">
<p>要显示所有称为 "master" 的引用，无论是标记、标头还是其他，也不管它们在引用命名层次中的位置有多深，都可以使用 "master"：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>	git show-ref master</pre>
</div>
</div>
<div class="paragraph">
<p>这不仅会显示 "refs/heads/master"，还会显示 "refs/remote/other-repo/master"（如果存在此类引用）。</p>
</div>
<div class="paragraph">
<p>当使用 <code>--verify</code> 标志时，命令需要精确的路径：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>	git show-ref --verify refs/heads/master</pre>
</div>
</div>
<div class="paragraph">
<p>只会匹配名为 "master" 的确切分支。</p>
</div>
<div class="paragraph">
<p>如果没有匹配的内容，<code>git show-ref</code> 将返回错误代码 1，在验证的情况下，它将显示一条错误信息。</p>
</div>
<div class="paragraph">
<p>在编写脚本时，可以使用 <code>--quiet</code> 标记要求它保持安静，这样就可以执行以下操作</p>
</div>
<div class="listingblock">
<div class="content">
<pre>	git show-ref --quiet --verify -- "refs/heads/$headname" ||
		echo "$headname 不是一个有效的分支"</pre>
</div>
</div>
<div class="paragraph">
<p>来检查某个分支是否存在（请注意，我们实际上并不想显示任何结果，而且我们希望使用完整的引用名称，以避免引发部分匹配不明确的问题）。</p>
</div>
<div class="paragraph">
<p>To show only tags, or only proper branch heads, use <code>--tags</code> and/or <code>--branches</code> respectively (using both means that it shows tags and branches, but not other random references under the refs/ subdirectory).</p>
</div>
<div class="paragraph">
<p>要自动取消引用标记对象，请使用 <code>-d</code> 或 <code>--dereference</code> 标志，这样就可以执行</p>
</div>
<div class="listingblock">
<div class="content">
<pre>	git show-ref --tags --dereference</pre>
</div>
</div>
<div class="paragraph">
<p>来获取所有标记及其引用内容的列表。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_文件"><a class="anchor" href="#_文件"></a>文件</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>.git/refs/*</code>, <code>.git/packed-refs</code></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_参见"><a class="anchor" href="#_参见"></a>参见</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href='{{< relurl "docs/git-for-each-ref/zh_HANS-CN" >}}'>git-for-each-ref[1]</a>, <a href='{{< relurl "docs/git-ls-remote/zh_HANS-CN" >}}'>git-ls-remote[1]</a>, <a href='{{< relurl "docs/git-update-ref/zh_HANS-CN" >}}'>git-update-ref[1]</a>, <a href='{{< relurl "docs/gitrepository-layout/zh_HANS-CN" >}}'>gitrepository-layout[5]</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_git"><a class="anchor" href="#_git"></a>GIT</h2>
<div class="sectionbody">
<div class="paragraph">
<p>属于 <a href='{{< relurl "docs/git/zh_HANS-CN" >}}'>git[1]</a> 文档</p>
</div>
</div>
</div>